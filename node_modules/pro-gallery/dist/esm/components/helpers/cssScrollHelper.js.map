{"version":3,"file":"cssScrollHelper.js","sourceRoot":"","sources":["../../../../src/components/helpers/cssScrollHelper.js"],"names":[],"mappings":"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","sourcesContent":["import { GALLERY_CONSTS, window, utils, optionsMap } from 'pro-gallery-lib';\n\nclass CssScrollHelper {\n  constructor() {\n    this.pgScrollSteps = [40960, 20480, 10240, 5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10];\n    this.pgScrollClassName = 'pgscl';\n\n    this.screenSize = Math.max(window.screen.width, window.screen.height);\n\n    this.scrollCss = [];\n    this.scrollCssProps = [];\n    this.calcScrollPaddings(false);\n  }\n\n  calcScrollPaddings() {\n    //padding: [belowScreen, aboveScreen]\n    //padding: [above images, below image]\n    this.allPagePadding = () => [Infinity, Infinity];\n    this.inScreenPadding = () => [0, 0];\n    this.aboveScreenPadding = () => [0, Infinity];\n    this.justBelowScreenPadding = (itemHeight) => [Infinity, -1 * (itemHeight + this.screenSize)];\n    this.justBelowAndAboveScreenPadding = () => [2560, Infinity];\n    this.justBelowAndInScreenPadding = () => [5120, 0];\n    this.belowScreenPadding = () => [Infinity, 0];\n\n    this.highResPadding = () => [5120, Infinity];\n    this.lowResPadding = () => [10240, Infinity];\n  }\n\n  getSellectorDomId({ id, idx }) {\n    const shortId = String(id).replace(/[\\W]+/g, '');\n    return `pgi${shortId}_${idx}`;\n  }\n\n  buildScrollClassName(id, idx, val) {\n    const shortId = String(id).replace(/[\\W]+/g, '').slice(-8);\n    return `${this.pgScrollClassName}_${shortId}_${val}-${this.pgScrollSteps[idx] + Number(val)}`;\n  }\n\n  calcScrollClasses(id, scrollTop) {\n    return (\n      `${this.pgScrollClassName}-${scrollTop} ` +\n      this.pgScrollSteps\n        .map((step, idx) => this.buildScrollClassName(id, idx, Math.floor(scrollTop / step) * step))\n        .join(' ')\n    );\n  }\n\n  calcScrollCss({ id, items, options, container }) {\n    utils.isVerbose() && console.time('CSS Scroll');\n    if (!(items && items.length)) {\n      return [];\n    }\n    const scrollAnimation = options[optionsMap.behaviourParams.gallery.scrollAnimation];\n    if (scrollAnimation === GALLERY_CONSTS[optionsMap.behaviourParams.gallery.scrollAnimation].NO_EFFECT) {\n      return [];\n    }\n    this.screenSize =\n      options[optionsMap.layoutParams.structure.scrollDirection] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL\n        ? Math.min(window.outerWidth, window.screen.width, container.galleryWidth)\n        : Math.min(window.outerHeight, window.screen.height);\n    if (\n      options[optionsMap.layoutParams.structure.scrollDirection] ===\n        GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].VERTICAL &&\n      utils.isMobile()\n    ) {\n      this.screenSize += 50;\n    }\n    this.calcScrollPaddings();\n\n    const [lastItem] = items.slice(-1);\n    const { top, right } = lastItem.offset;\n    const maxStep = this.pgScrollSteps[0];\n    this.minHeight = 0 - maxStep;\n    this.maxHeight =\n      (Math.ceil(\n        ((options[optionsMap.layoutParams.structure.scrollDirection] ===\n        GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL\n          ? right\n          : top) +\n          this.screenSize) /\n          maxStep\n      ) +\n        1) *\n      maxStep;\n\n    const cssScroll = items.map((item) => this.calcScrollCssForItem({ id, item, options }));\n    utils.isVerbose() && console.timeEnd('CSS Scroll');\n\n    return cssScroll;\n  }\n\n  shouldCalcScrollCss({ type }) {\n    if (type === 'video' || type === 'text' || type === '3d') {\n      return false;\n    }\n    return true;\n  }\n\n  createScrollSelectorsFunction({ id, item, options }) {\n    const imageTop =\n      options[optionsMap.layoutParams.structure.scrollDirection] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL\n        ? item.offset.left - this.screenSize\n        : item.offset.top - this.screenSize;\n    const imageBottom =\n      options[optionsMap.layoutParams.structure.scrollDirection] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL\n        ? item.offset.left + item.width\n        : item.offset.top + item.height;\n    const minStep = this.pgScrollSteps[this.pgScrollSteps.length - 1];\n    const ceil = (num, step) => Math.ceil(Math.min(this.maxHeight, num) / step) * step;\n    const floor = (num, step) => Math.floor(Math.max(this.minHeight, num) / step) * step;\n    const sellectorDomId = this.getSellectorDomId(item);\n    return (padding, suffix) => {\n      const [before, after] = padding;\n      if (before === Infinity && after === Infinity) {\n        return `#pro-gallery-${id} #${sellectorDomId} ${suffix}`;\n      }\n      let from = floor(imageTop - before, minStep);\n      const to = ceil(imageBottom + after, minStep);\n      // if (utils.isVerbose()) {\n      //   console.log(\n      //     `CSS SCROLL - item #${item.idx} display range is: (${from} - ${to})`,\n      //   );\n      // }\n      const scrollClasses = [];\n      while (from < to) {\n        const largestDividerIdx = this.pgScrollSteps.findIndex(step => (from % step === 0 && from + step <= to)); //eslint-disable-line\n        if (largestDividerIdx === -1) {\n          console.error(\n            \"largestDividerIdx is -1. Couldn't find index in pgScrollSteps array.\\nfrom =\",\n            from,\n            '\\nto =',\n            to,\n            '\\npadding[0] =',\n            padding[0],\n            '\\npadding[1] =',\n            padding[1]\n          );\n          break;\n        }\n        scrollClasses.push(\n          `.${this.buildScrollClassName(id, largestDividerIdx, from)} ~ div #${sellectorDomId} ${suffix}`\n        );\n        from += this.pgScrollSteps[largestDividerIdx];\n        // console.count('pgScroll class created');\n      }\n      return scrollClasses.join(', ');\n    };\n  }\n\n  calcScrollCssForItem({ id, item, options }) {\n    const { idx } = item;\n    let scrollCss = '';\n    const createScrollSelectors = this.createScrollSelectorsFunction({\n      id,\n      item,\n      options,\n    });\n\n    //scrollAnimation\n    scrollCss += this.createScrollAnimationsIfNeeded({\n      idx,\n      item,\n      options,\n      createScrollSelectors,\n    });\n\n    // if (utils.isVerbose()) {\n    //   console.log(\n    //     'CSS SCROLL - css calc for item #' + idx,\n    //     item,\n    //     this.scrollCss[idx],\n    //   );\n    // }\n\n    this.scrollCss[idx] = scrollCss || this.scrollCss[idx];\n\n    return this.scrollCss[idx];\n    // console.count('pgScroll item created');\n  }\n\n  createScrollAnimationsIfNeeded({ idx, options, createScrollSelectors }) {\n    const scrollAnimation = options[optionsMap.behaviourParams.gallery.scrollAnimation];\n    const { NO_EFFECT, FADE_IN, GRAYSCALE, SLIDE_UP, EXPAND, SHRINK, ZOOM_OUT, ONE_COLOR, MAIN_COLOR, BLUR } =\n      GALLERY_CONSTS[optionsMap.behaviourParams.gallery.scrollAnimation];\n\n    const isRTL =\n      options[optionsMap.behaviourParams.gallery.layoutDirection] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;\n    const scrollDirection = options[optionsMap.layoutParams.structure.scrollDirection];\n    if (scrollAnimation === NO_EFFECT) {\n      return '';\n    }\n\n    const _randomDelay = ((idx % 3) + 1) * 100; //100 - 300\n    const _randomDuration = ((idx % 3) + 1) * 100; //100 - 300\n\n    const animationPreparationPadding = this.allPagePadding();\n    const animationActivePadding = this.aboveScreenPadding();\n\n    let scrollAnimationCss = '';\n    // notice: these 2 animations must have the blurry image\n    if (scrollAnimation === MAIN_COLOR || scrollAnimation === BLUR) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, ` [data-hook=\"image-item-overlay\"]`) +\n        `{filter: opacity(1); transition: filter 1.${_randomDuration}s ease-in ${_randomDelay}ms !important;}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationActivePadding, ` [data-hook=\"image-item-overlay\"]`) +\n        `{filter: opacity(0) !important;}`;\n    }\n\n    if (scrollAnimation === FADE_IN) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, '') +\n        `{filter: opacity(0); transition: filter 1.${_randomDuration}s ease-in !important;}`;\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, '') + `{filter: opacity(1) !important;}`;\n    }\n\n    if (scrollAnimation === GRAYSCALE) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n        `{filter: grayscale(100%); transition: filter 1.${200 + _randomDuration}s ease-in !important;}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + `{filter: grayscale(0) !important;}`;\n    }\n\n    if (scrollAnimation === SLIDE_UP) {\n      const axis =\n        scrollDirection === GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL ? 'X' : 'Y';\n      const direction = isRTL ? '-' : '';\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, '') +\n        `{transform: translate${axis}(${direction}100px); transition: transform 0.8s cubic-bezier(.13,.78,.53,.92) !important;}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationActivePadding, '') + `{transform: translate${axis}(0) !important;}`;\n    }\n\n    if (scrollAnimation === EXPAND) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, '') +\n        `{transform: scale(0.95); transition: transform 1s cubic-bezier(.13,.78,.53,.92) ${_randomDelay}ms !important;}`;\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, '') + `{transform: scale(1) !important;}`;\n    }\n\n    if (scrollAnimation === SHRINK) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, '') +\n        `{transform: scale(1.05); transition: transform 1s cubic-bezier(.13,.78,.53,.92) ${_randomDelay}ms !important;}`;\n      scrollAnimationCss += createScrollSelectors(animationActivePadding, '') + `{transform: scale(1) !important;}`;\n    }\n\n    if (scrollAnimation === ZOOM_OUT) {\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n        `{transform: scale(1.1); transition: transform 1.2s cubic-bezier(.13,.78,.53,.92) ${_randomDelay}ms !important;}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + `{transform: scale(1) !important;}`;\n    }\n\n    if (scrollAnimation === ONE_COLOR) {\n      const oneColorAnimationColor =\n        options.oneColorAnimationColor && options.oneColorAnimationColor.value\n          ? options.oneColorAnimationColor.value\n          : 'transparent';\n\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, '') + `{background-color: ${oneColorAnimationColor};}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationPreparationPadding, ' .gallery-item-wrapper') +\n        `{filter: opacity(0); transition: filter 0.${600 + _randomDuration}s ease-in !important;}`;\n      scrollAnimationCss +=\n        createScrollSelectors(animationActivePadding, ' .gallery-item-wrapper') + `{filter: opacity(1) !important;}`;\n    }\n\n    return scrollAnimationCss;\n  }\n}\n\nexport const cssScrollHelper = new CssScrollHelper();\n\n// Testing the best combination of scroll steps (goal is to reduce the number of classe sper item to minimum)\n// ----------------------------------------------------------------------------------------------------------\n// pgScrollSteps = [1000, 100, 10]; -> 6759 / 354 = 19 classes per item\n// pgScrollSteps = [2500, 500, 100, 20]; -> 4137 / 354 = 11.6 classes per item\n// pgScrollSteps = [2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20]; -> 2502 / 354 = 7 classes per item\n// pgScrollSteps = [5120, 2560, 1280, 640, 320, 160, 80, 40, 20, 10]; -> 2772 / 354 = 7.8 classes per item\n/* eslint-enable prettier/prettier */\n"]}