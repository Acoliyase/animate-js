{"version":3,"file":"videoItemWrapper.js","sourceRoot":"","sources":["../../../../../src/components/item/videos/videoItemWrapper.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,iBAAiB,CAAC;AACpD,OAAO,EAAE,4BAA4B,EAAE,MAAM,kBAAkB,CAAC;AAChE,OAAO,EAAE,SAAS,EAAE,MAAM,uBAAuB,CAAC;AAClD,OAAO,UAAwD,MAAM,uBAAuB,CAAC;AAE7F,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;AAC5B,MAAM,yCAAyC,GAAG,CAAC,KAAK,EAAE,EAAE,CAC1D,CAAC,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;IAC7G,KAAK,CAAC;AAER,6DAA6D;AAC7D,aAAa;AACb,MAAM,SAAS,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE;IAChC,OAAO,MAAM,CAAC,8CAA8C,CAAC,gBAAgB,CAAC,CAAC;AACjF,CAAC,CAAC,CAAC;AAEH,MAAM,uBAAwB,SAAQ,KAAK,CAAC,SAAmC;IAC7E,MAAM;QACJ,MAAM,oBAAoB,GAAG,yCAAyC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACnF,OAAO,CACL,oBAAC,SAAS,oBACJ,IAAI,CAAC,KAAK,IACd,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,IAAI,oBAAoB,EACxD,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EACtC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,cAAc,IAAI,oBAAC,SAAS,IAAC,IAAI,EAAE,iBAAiB,EAAE,IAAI,EAAE,EAAE,GAAI,IAC9F,CACH,CAAC;IACJ,CAAC;CACF;AAOD,MAAM,gBAAiB,SAAQ,KAAK,CAAC,SAA6B;IAChE,MAAM;QACJ,MAAM,mBAAmB,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;QACvG,OAAO,CACL,oBAAC,UAAU,oBACL,IAAI,CAAC,KAAK,IACd,mBAAmB,EAAE,uBAAuB,EAC5C,sBAAsB,EAAE,4BAA4B,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EACxE,cAAc,EAAE,mBAAmB,EACnC,uBAAuB,EAAE,CAAC,YAAY,EAAE,oBAAoB,CAAC,IAC7D,CACH,CAAC;IACJ,CAAC;CACF;AAED,eAAe,gBAAgB,CAAC;AAChC,qCAAqC","sourcesContent":["import React from 'react';\nimport { utils, optionsMap } from 'pro-gallery-lib';\nimport { shouldCreateVideoPlaceholder } from '../itemHelper.js';\nimport { GalleryUI } from '../media/GalleryUI.js';\nimport MediaImage, { MediaImplementationProps, MediaBaseProps } from '../media/mediaItem.js';\n\nconst isIos = utils.isiOS();\nconst useTransparentPlayButtonAndForceLoadVideo = (props) =>\n  ((props.videoUrl || props.url).includes('youtube.com') || (props.videoUrl || props.url).includes('youtu.be')) &&\n  isIos;\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst VideoItem = React.lazy(() => {\n  return import(/* webpackChunkName: \"proGallery_videoItem\" */ './videoItem.js');\n});\n\nclass VideoItemImplementation extends React.Component<MediaImplementationProps> {\n  render() {\n    const shouldForceLoadVideo = useTransparentPlayButtonAndForceLoadVideo(this.props);\n    return (\n      <VideoItem\n        {...this.props}\n        loadVideo={this.props.shouldPlay || shouldForceLoadVideo}\n        videoPlaceholder={this.props.thumbnail}\n        videoPlayButton={this.props.showPlayButton && <GalleryUI type={'videoPlayButton'} size={60} />}\n      />\n    );\n  }\n}\n\nexport type VideoWreapperProps = Omit<\n  MediaBaseProps,\n  'MediaImplementation' | 'enableImagePlaceholder' | 'showPlayButton' | 'placeholderExtraClasses'\n>;\n\nclass VideoItemWrapper extends React.Component<VideoWreapperProps> {\n  render(): React.ReactNode {\n    const showVideoPlayButton = this.props.options[optionsMap.behaviourParams.item.video.enablePlayButton];\n    return (\n      <MediaImage\n        {...this.props}\n        MediaImplementation={VideoItemImplementation}\n        enableImagePlaceholder={shouldCreateVideoPlaceholder(this.props.options)}\n        showPlayButton={showVideoPlayButton}\n        placeholderExtraClasses={['video-item', 'gallery-item-video']}\n      />\n    );\n  }\n}\n\nexport default VideoItemWrapper;\n/* eslint-enable prettier/prettier */\n"]}