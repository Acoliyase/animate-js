{"version":3,"file":"imageRenderer.js","sourceRoot":"","sources":["../../../../src/components/item/imageRenderer.js"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,oBAAoB,EAAE,MAAM,sBAAsB,CAAC;AAE5D,MAAM,aAAc,SAAQ,KAAK,CAAC,SAAS;IACzC,YAAY,KAAK;QACf,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;IACvB,CAAC;IACD,iBAAiB;;QACf,IAAI,CAAA,MAAA,IAAI,CAAC,QAAQ,0CAAE,QAAQ,KAAI,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,UAAU,EAAE;YACtE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACrB;IACH,CAAC;IACD,MAAM;QACJ,MAAM,KAAyC,IAAI,CAAC,KAAK,EAAnD,EAAE,mBAAmB,OAA8B,EAAzB,UAAU,cAApC,uBAAsC,CAAa,CAAC,CAAC,qDAAqD;QAChH,IAAI,OAAO,mBAAmB,KAAK,UAAU,EAAE;YAC7C,OAAO,mBAAmB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACxC;aAAM,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;YAC7C,OAAO,CACL,2CACE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;oBACX,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;gBACtB,CAAC,EACD,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,IACf,UAAU,EACd,CACH,CAAC;SACH;aAAM,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;YAC7C,OAAO,CACL,iCAAS,EAAE,EAAE,iBAAiB,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,iBAAiB,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE;gBACjF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE,CACjC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAChB,oBAAC,oBAAoB,IAAC,GAAG,EAAE,oBAAoB,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,GAAG,CAAC,IAAI,EAAE,GAAI,CACvG,CAAC,CAAC,CAAC,CACF,gCAAQ,GAAG,EAAE,gBAAgB,KAAK,EAAE,EAAE,MAAM,EAAE,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,EAAE,IAAI,EAAE,SAAS,GAAG,CAAC,IAAI,EAAE,GAAI,CAChG,CACF;gBACD,2CACE,GAAG,EAAE,CAAC,GAAG,EAAE,EAAE;wBACX,IAAI,CAAC,QAAQ,GAAG,GAAG,CAAC;oBACtB,CAAC,EACD,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,IACf,UAAU,IACd,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,IAClD,CACM,CACX,CAAC;SACH;aAAM;YACL,OAAO,IAAI,CAAC;SACb;IACH,CAAC;CACF;AAED,eAAe,aAAa,CAAC","sourcesContent":["import React from 'react';\nimport { PrintOnlyImageSource } from './printOnlySource.js';\n\nclass ImageRenderer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.imageRef = null;\n  }\n  componentDidMount() {\n    if (this.imageRef?.complete && typeof this.props.onLoad === 'function') {\n      this.props.onLoad();\n    }\n  }\n  render() {\n    const { customImageRenderer, ...imageProps } = this.props; // customImageRenderer is not valid for dom elements.\n    if (typeof customImageRenderer === 'function') {\n      return customImageRenderer(this.props);\n    } else if (typeof this.props.src === 'string') {\n      return (\n        <img\n          ref={(ref) => {\n            this.imageRef = ref;\n          }}\n          alt={this.props.alt}\n          {...imageProps}\n        />\n      );\n    } else if (typeof this.props.src === 'object') {\n      return (\n        <picture id={`multi_picture_${this.props.id}`} key={`multi_picture_${this.props.id}`}>\n          {this.props.src.map((src, index) =>\n            src.forPrinting ? (\n              <PrintOnlyImageSource key={`print-only-image-${index}`} srcSet={src.dpr} type={`image/${src.type}`} />\n            ) : (\n              <source key={`image-source-${index}`} srcSet={src.dpr || src.url} type={`image/${src.type}`} />\n            )\n          )}\n          <img\n            ref={(ref) => {\n              this.imageRef = ref;\n            }}\n            alt={this.props.alt}\n            {...imageProps}\n            src={this.props.src[this.props.src.length - 1].url}\n          />\n        </picture>\n      );\n    } else {\n      return null;\n    }\n  }\n}\n\nexport default ImageRenderer;\n"]}