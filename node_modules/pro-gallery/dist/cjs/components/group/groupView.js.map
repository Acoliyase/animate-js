{"version":3,"file":"groupView.js","sourceRoot":"","sources":["../../../../src/components/group/groupView.js"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport itemView from '../item/itemView.js';\nimport { optionsMap, GALLERY_CONSTS } from 'pro-gallery-lib';\n\nclass GroupView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.displayName = 'GroupView';\n    this.dom = [];\n    this.state = {};\n  }\n\n  createDom(visible, empty) {\n    return this.props.items.map((item) => {\n      const props = item.renderProps({ ...this.props.galleryConfig, visible });\n      return React.createElement(itemView, {\n        ...props,\n        disableItemFocus: this.props.disableItemFocus,\n        type: empty ?? false ? 'dummy' : props.type,\n      });\n    });\n  }\n\n  shouldRender() {\n    const { items } = this.props;\n    if (!items || !items.length || !items[0]) {\n      return false;\n    }\n\n    return true;\n  }\n\n  isVisible() {\n    const { items, galleryConfig } = this.props;\n\n    if (this.props.allowLoop) {\n      const { idx } = items[items.length - 1];\n      const { activeIndex, totalItemsCount } = galleryConfig;\n\n      const distance = activeIndex - idx;\n      const padding = Math.floor(totalItemsCount / 2);\n\n      return Math.abs(distance) <= padding;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { options } = this.props.galleryConfig; //v5 TODO - why is this not from the options in the gallery. this comes from the layouter\n    const isRTL =\n      options[optionsMap.behaviourParams.gallery.layoutDirection] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;\n\n    return this.shouldRender() ? (\n      <div\n        key={`group_${this.props.idx}_${this.props.items[0].id}`}\n        data-hook={'group-view'}\n        className={`group-view group-view-${this.props.idx}`}\n        style={{\n          '--group-top': this.props.top + 'px',\n          '--group-left': isRTL ? 'auto' : this.props.left + 'px',\n          '--group-width': this.props.width + 'px',\n          '--group-right': !isRTL ? 'auto' : this.props.left + 'px',\n        }}\n        aria-hidden={this.props.ariaHidden}\n      >\n        {this.createDom(this.isVisible(), this.props.shouldRenderEmpty)}\n      </div>\n    ) : null;\n  }\n}\n\nexport default GroupView;\n"]}