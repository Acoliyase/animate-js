{"version":3,"file":"navigationArrowUtils.js","sourceRoot":"","sources":["../../../../src/components/helpers/navigationArrowUtils.js"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { utils, GALLERY_CONSTS, optionsMap } from 'pro-gallery-lib';\nimport { ARROWS_DATA } from '../svgs/index.js';\n\nconst getArrowsSizeData = ({ customNavArrowsRenderer, arrowsSize, svgData, containerStyleType }) => {\n  const isLandscape = svgData.width / svgData.height > 1;\n  if (containerStyleType === GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.container.type].BOX) {\n    const sizeData = {\n      navArrowsContainerWidth: arrowsSize,\n      navArrowsContainerHeight: arrowsSize,\n      scalePercentage: arrowsSize / 2.4 / (isLandscape ? svgData.width : svgData.height),\n    };\n    return sizeData;\n  }\n  if (customNavArrowsRenderer) {\n    return {\n      navArrowsContainerWidth: arrowsSize,\n      navArrowsContainerHeight: arrowsSize,\n    };\n  }\n\n  const scalePercentage = arrowsSize / svgData.width;\n  return {\n    scalePercentage,\n    navArrowsContainerWidth: arrowsSize,\n    navArrowsContainerHeight: svgData.height * scalePercentage,\n  };\n};\n\nexport const getArrowsRenderData = ({\n  customNavArrowsRenderer,\n  arrowsColor,\n  arrowsSize,\n  arrowsType,\n  containerStyleType,\n}) => {\n  const arrowData = getArrowIconData(arrowsType);\n  const { navArrowsContainerWidth, navArrowsContainerHeight, scalePercentage } = getArrowsSizeData({\n    customNavArrowsRenderer,\n    arrowsSize,\n    svgData: arrowData,\n    containerStyleType,\n  });\n  if (customNavArrowsRenderer) {\n    const size =\n      containerStyleType === GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.container.type].BOX\n        ? arrowsSize / 2.4\n        : arrowsSize;\n    const customRenderer = (position) => (\n      <div\n        style={{\n          width: size,\n          height: size,\n        }}\n      >\n        {customNavArrowsRenderer(position)}\n      </div>\n    );\n    return {\n      arrowRenderer: customRenderer,\n      navArrowsContainerWidth,\n      navArrowsContainerHeight,\n    };\n  }\n  const arrowRenderer = (position) => {\n    const scaleX = position === 'right' ? 1 : -1;\n    const style = {\n      transform: `scaleX(${scaleX}) scale(${scalePercentage})`,\n      fill: utils.isMobile() && arrowsColor?.value ? arrowsColor.value : '',\n    };\n    return <arrowData.SvgComp style={style} />;\n  };\n  return { arrowRenderer, navArrowsContainerWidth, navArrowsContainerHeight };\n};\n\n// Function that checks if the nav arrows parent-container is large enough for them\nconst arrowsWillFitPosition = ({ options, container, customNavArrowsRenderer }) => {\n  const { height } = container;\n  // Calc of Nav arrows container's height\n  const arrowData = getArrowIconData(options[optionsMap.layoutParams.navigationArrows.type]);\n  const { navArrowsContainerHeight } = getArrowsSizeData({\n    customNavArrowsRenderer,\n    arrowsSize: options[optionsMap.layoutParams.navigationArrows.size],\n    svgData: arrowData,\n    containerStyleType: options[optionsMap.layoutParams.navigationArrows.container.type],\n  });\n  const infoHeight = options[optionsMap.layoutParams.info.height];\n  const parentHeightByVerticalPosition = {\n    [GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.verticalAlignment].INFO_CENTER]: infoHeight,\n    [GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.verticalAlignment].IMAGE_CENTER]: height - infoHeight,\n    [GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.verticalAlignment].ITEM_CENTER]: height,\n  };\n  const parentHeight =\n    parentHeightByVerticalPosition[options[optionsMap.layoutParams.navigationArrows.verticalAlignment]];\n  return parentHeight >= navArrowsContainerHeight;\n};\n\n// function to Determine whether we should render the navigation arrows\nexport const shouldRenderNavArrows = (props) => {\n  const shouldRenderArrowsRelevantArgs = getShouldRenderArrowsArgs(props);\n  const navigationArrowsEnabled =\n    shouldRenderArrowsRelevantArgs.options[optionsMap.layoutParams.navigationArrows.enable];\n\n  const { galleryWidth } = shouldRenderArrowsRelevantArgs.container;\n  const { isPrerenderMode, galleryStructure, customNavArrowsRenderer } = shouldRenderArrowsRelevantArgs;\n  const arrowsWillFitPositionRelevantArgs = {\n    options: shouldRenderArrowsRelevantArgs.options,\n    container: shouldRenderArrowsRelevantArgs.container,\n    customNavArrowsRenderer,\n  };\n  const isGalleryWiderThanRenderedItems = galleryStructure.width <= galleryWidth;\n  return (\n    !!navigationArrowsEnabled &&\n    !isPrerenderMode &&\n    arrowsWillFitPosition(arrowsWillFitPositionRelevantArgs) &&\n    !isGalleryWiderThanRenderedItems\n  );\n};\n\nconst getShouldRenderArrowsArgs = (props) => {\n  const { isPrerenderMode, galleryStructure, customNavArrowsRenderer } = props;\n  return {\n    options: props.options,\n    container: props.container,\n    isPrerenderMode,\n    galleryStructure,\n    customNavArrowsRenderer,\n  };\n};\n\nconst getArrowIconData = (arrowType = GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.type].DEFAULT_ARROW) => {\n  const { DEFAULT_ARROW, ARROW_2, ARROW_3, ARROW_4, ARROW_5, ARROW_6, ARROW_7 } =\n    GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.type];\n  let arrowData;\n  switch (arrowType) {\n    case ARROW_2:\n      arrowData = ARROWS_DATA.ARROW_2;\n      break;\n    case ARROW_3:\n      arrowData = ARROWS_DATA.ARROW_3;\n      break;\n    case ARROW_4:\n      arrowData = ARROWS_DATA.ARROW_4;\n      break;\n    case ARROW_5:\n      arrowData = ARROWS_DATA.ARROW_5;\n      break;\n    case ARROW_6:\n      arrowData = ARROWS_DATA.ARROW_6;\n      break;\n    case ARROW_7:\n      arrowData = ARROWS_DATA.ARROW_7;\n      break;\n    case DEFAULT_ARROW:\n    default:\n      arrowData = ARROWS_DATA.DEFAULT_ARROW;\n      break;\n  }\n  return arrowData;\n};\n\nexport const getArrowBoxStyle = ({ type, backgroundColor, borderRadius }) => {\n  return type === GALLERY_CONSTS[optionsMap.layoutParams.navigationArrows.container.type].BOX\n    ? {\n        backgroundColor: backgroundColor,\n        borderRadius: `${borderRadius}%`,\n      }\n    : {};\n};\n"]}