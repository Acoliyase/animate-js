{"version":3,"file":"withMagnified.js","sourceRoot":"","sources":["../../../../src/components/hoc/withMagnified.js"],"names":[],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { GALLERY_CONSTS, optionsMap } from 'pro-gallery-lib';\nimport ImageRenderer from '../item/imageRenderer.js';\n\nfunction withMagnified(WrappedComponent) {\n  return class extends Component {\n    constructor(props) {\n      super(props);\n      this.onMouseMove = this.onMouseMove.bind(this);\n      this.onMouseDown = this.onMouseDown.bind(this);\n      this.onMouseUp = this.onMouseUp.bind(this);\n      this.isMagnifiedBiggerThanContainer = this.isMagnifiedBiggerThanContainer.bind(this);\n      this.toggleMagnify = this.toggleMagnify.bind(this);\n      this.getMagnifyInitialPos = this.getMagnifyInitialPos.bind(this);\n      this.getBoundrys = this.getBoundrys.bind(this);\n      this.getMagnifiedDimensions = this.getMagnifiedDimensions.bind(this);\n      this.containerRef = null;\n      this.state = {\n        shouldMagnify: false,\n        x: 0,\n        y: 0,\n      };\n    }\n\n    onDragStart(e) {\n      e.preventDefault();\n    }\n\n    onMouseMove(e) {\n      if (this.dragStarted) {\n        const { magnifiedWidth, magnifiedHeight } = this.getMagnifiedDimensions();\n        this.isDragging = true;\n        const { cubedWidth, cubedHeight } = this.props.style;\n        const { clientY, clientX } = e;\n        const { boundryY, boundryX } = this.getBoundrys();\n        this.setState({\n          x: Math.max(-boundryX, Math.min(this.dragStartX - clientX, magnifiedWidth - cubedWidth)),\n          y: Math.max(-boundryY, Math.min(this.dragStartY - clientY, magnifiedHeight - cubedHeight)),\n        });\n      }\n    }\n\n    onMouseDown(e) {\n      const { clientX, clientY } = e;\n      const { x, y, shouldMagnify } = this.state;\n      if (!shouldMagnify) {\n        this.setState(this.getMagnifyInitialPos(e));\n      } else {\n        this.dragStartX = x + clientX;\n        this.dragStartY = y + clientY;\n        this.dragStarted = true;\n      }\n    }\n    onMouseUp() {\n      if (!this.isDragging) {\n        this.toggleMagnify();\n      }\n      this.dragStarted = false;\n      this.isDragging = false;\n    }\n\n    toggleMagnify(bool) {\n      const { shouldMagnify } = this.state;\n      if (typeof bool === 'boolean') {\n        this.setState({ shouldMagnify: bool });\n      } else {\n        this.setState({ shouldMagnify: !shouldMagnify });\n      }\n    }\n\n    getMagnifiedDimensions() {\n      const {\n        style: { innerHeight, innerWidth },\n      } = this.props;\n      const magnificationValue = this.props.options[optionsMap.behaviourParams.item.content.magnificationValue];\n      return {\n        magnifiedHeight: innerHeight * magnificationValue,\n        magnifiedWidth: innerWidth * magnificationValue,\n      };\n    }\n    getPreloadImage() {\n      const { createUrl, id, style, imageDimensions, options } = this.props;\n      const { innerWidth, innerHeight } = style;\n      const { marginTop, marginLeft } = imageDimensions;\n      const { shouldMagnify, x, y } = this.state;\n      const magnificationValue = options[optionsMap.behaviourParams.item.content.magnificationValue];\n      const src = createUrl(GALLERY_CONSTS.urlSizes.RESIZED, GALLERY_CONSTS.urlTypes.HIGH_RES);\n      const scale = shouldMagnify ? magnificationValue : 1;\n      return (\n        <ImageRenderer\n          alt=\"\"\n          key={'magnified-item-preload-' + id}\n          className=\"magnified-item-preload\"\n          src={src}\n          style={{\n            width: innerWidth,\n            height: innerHeight,\n            position: 'relative',\n            zIndex: 1,\n            opacity: shouldMagnify ? 1 : 0,\n            transform: `scale(${scale})`,\n            transformOrigin: `${(x + marginLeft) / (magnificationValue - 1)}px ${\n              (y + marginTop) / (magnificationValue - 1)\n            }px`,\n            transition: `transform 0.3s ease${shouldMagnify ? '' : ', opacity 0.1s ease 0.3s'}`,\n          }}\n          customImageRenderer={this.props.customComponents?.customImageRenderer}\n        />\n      );\n    }\n\n    getHighResImage() {\n      const { createMagnifiedUrl, id, alt, options, isPrerenderMode } = this.props;\n      const { magnifiedWidth, magnifiedHeight } = this.getMagnifiedDimensions();\n      const src = createMagnifiedUrl(options[optionsMap.behaviourParams.item.content.magnificationValue]);\n      return (\n        <ImageRenderer\n          key={`magnified-item-${id}`}\n          className=\"magnified-item\"\n          data-hook=\"magnified-item\"\n          src={src}\n          alt={typeof alt === 'string' ? alt : 'untitled image'}\n          id={id}\n          isPrerenderMode={isPrerenderMode}\n          style={{\n            width: magnifiedWidth,\n            height: magnifiedHeight,\n            position: 'absolute',\n            top: 0,\n            left: 0,\n          }}\n          customImageRenderer={this.props.customComponents?.customImageRenderer}\n        />\n      );\n    }\n\n    isMagnifiedBiggerThanContainer(itemStyle) {\n      const { magnifiedWidth, magnifiedHeight } = this.getMagnifiedDimensions();\n      const { cubedWidth, cubedHeight } = itemStyle;\n\n      return cubedWidth < magnifiedWidth || cubedHeight < magnifiedHeight;\n    }\n\n    getMagnifyInitialPos(e) {\n      const { clientX, clientY } = e;\n      const { style } = this.props;\n      const { magnifiedWidth, magnifiedHeight } = this.getMagnifiedDimensions();\n      const { cubedWidth, cubedHeight } = style;\n      const { top, left } = this.containerRef.getBoundingClientRect();\n\n      const x = ((clientX - left) / cubedWidth) * magnifiedWidth - (clientX - left);\n      const y = ((clientY - top) / cubedHeight) * magnifiedHeight - (clientY - top);\n\n      const { boundryY, boundryX } = this.getBoundrys();\n      return {\n        x: Math.max(-boundryX, Math.min(x, magnifiedWidth - cubedWidth)),\n        y: Math.max(-boundryY, Math.min(y, magnifiedHeight - cubedHeight)),\n      };\n    }\n\n    getBoundrys() {\n      const { style } = this.props;\n      const { magnifiedWidth, magnifiedHeight } = this.getMagnifiedDimensions();\n      const { cubedWidth, cubedHeight } = style;\n      const boundryY = magnifiedHeight < cubedHeight ? cubedHeight / 2 - magnifiedHeight / 2 : 0;\n      const boundryX = magnifiedWidth < cubedWidth ? cubedWidth / 2 - magnifiedWidth / 2 : 0;\n      return {\n        boundryY,\n        boundryX,\n      };\n    }\n\n    getContainerStyle() {\n      const { shouldMagnify } = this.state;\n      const { style } = this.props;\n      const { cubedWidth, cubedHeight } = style;\n      return {\n        width: cubedWidth,\n        height: cubedHeight,\n        position: 'relative',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        cursor: shouldMagnify ? 'zoom-out' : 'zoom-in',\n      };\n    }\n\n    getMagnifiedImageStyle() {\n      const { shouldMagnify, x, y } = this.state;\n      return {\n        zIndex: 2,\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        transform: `translate(${-x}px, ${-y}px)`,\n        opacity: shouldMagnify ? 1 : 0,\n        transition: 'opacity 0.1s ease',\n        transitionDelay: shouldMagnify ? '0.3s' : 'none',\n      };\n    }\n\n    render() {\n      const { shouldMagnify } = this.state;\n      if (\n        this.props.options[optionsMap.behaviourParams.item.clickAction] !==\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].MAGNIFY\n      ) {\n        return <WrappedComponent {...this.props} />;\n      }\n      return (\n        <div\n          ref={(ref) => (this.containerRef = ref)}\n          className={'magnified-item-container'}\n          style={this.getContainerStyle()}\n          onDragStart={this.onDragStart}\n          onMouseMove={this.onMouseMove}\n          onMouseDown={this.onMouseDown}\n          onMouseUp={this.onMouseUp}\n        >\n          <WrappedComponent {...this.props} />\n          {this.getPreloadImage()}\n          <div className={'magnified-images'} style={this.getMagnifiedImageStyle()}>\n            {shouldMagnify && this.getHighResImage()}\n          </div>\n        </div>\n      );\n    }\n  };\n}\n\nexport default withMagnified;\n"]}