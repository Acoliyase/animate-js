{"version":3,"file":"viewModeWrapper.js","sourceRoot":"","sources":["../../../../../src/components/gallery/proGallery/viewModeWrapper.tsx"],"names":[],"mappings":";;;;AAAA,0DAA0B;AAC1B,qDAAuE;AAEvE,6EAA6E;AACtE,MAAM,kBAAkB,GAAG,CAA6B,gBAA6C,EAAE,EAAE;IAC9G,OAAO,MAAM,kBAAmB,SAAQ,eAAK,CAAC,SAAgB;QAC5D,YAAY,KAAK;YACf,KAAK,CAAC,KAAK,CAAC,CAAC;YACb,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;QAClC,CAAC;QACD,mBAAmB,CAAC,KAAY;YAC9B,IAAI,OAAO,KAAK,CAAC,QAAQ,KAAK,WAAW,EAAE;gBACzC,iCAAe,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;aAC7C;YACD,IAAI,OAAO,KAAK,CAAC,UAAU,KAAK,WAAW,IAAI,iCAAe,CAAC,WAAW,KAAK,KAAK,CAAC,UAAU,EAAE;gBAC/F,uBAAK,CAAC,SAAS,EAAE,CAAC;gBAClB,iCAAe,CAAC,aAAa,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC;aACjD;QACH,CAAC;QACD,qBAAqB,CAAC,SAAgB;YACpC,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,SAAS,CAAC,QAAQ,EAAE;gBAC9C,uBAAK,CAAC,SAAS,EAAE,CAAC;gBAClB,iCAAe,CAAC,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;aACjD;YACD,IAAI,IAAI,CAAC,KAAK,CAAC,UAAU,KAAK,SAAS,CAAC,UAAU,EAAE;gBAClD,uBAAK,CAAC,SAAS,EAAE,CAAC;gBAClB,iCAAe,CAAC,aAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;aACrD;QACH,CAAC;QACD,gCAAgC,CAAC,SAAS;YACxC,IAAI,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;QACxC,CAAC;QACD,MAAM;YACJ,OAAO,8BAAC,gBAAgB,oBAAK,IAAI,CAAC,KAAK,EAAI,CAAC;QAC9C,CAAC;KACF,CAAC;AACJ,CAAC,CAAC;AAhCW,QAAA,kBAAkB,sBAgC7B","sourcesContent":["import React from 'react';\nimport { GalleryProps, utils, viewModeWrapper } from 'pro-gallery-lib';\n\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport const ViewModeWrapperHOC = <Props extends GalleryProps>(WrappedComponent: React.ComponentClass<Props>) => {\n  return class ViewModeWrapperHOC extends React.Component<Props> {\n    constructor(props) {\n      super(props);\n      this.initViewModeWrapper(props);\n    }\n    initViewModeWrapper(props: Props) {\n      if (typeof props.viewMode !== 'undefined') {\n        viewModeWrapper.setViewMode(props.viewMode);\n      }\n      if (typeof props.deviceType !== 'undefined' && viewModeWrapper._deviceType !== props.deviceType) {\n        utils.dumpCache();\n        viewModeWrapper.setDeviceType(props.deviceType);\n      }\n    }\n    updateViewModeWrapper(nextProps: Props) {\n      if (this.props.viewMode !== nextProps.viewMode) {\n        utils.dumpCache();\n        viewModeWrapper.setViewMode(nextProps.viewMode);\n      }\n      if (this.props.deviceType !== nextProps.deviceType) {\n        utils.dumpCache();\n        viewModeWrapper.setDeviceType(nextProps.deviceType);\n      }\n    }\n    UNSAFE_componentWillReceiveProps(nextProps) {\n      this.updateViewModeWrapper(nextProps);\n    }\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n};\n"]}