"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.toggleScrollLessAnimation = exports.getSlideAnimationClassNames = void 0;
const pro_gallery_lib_1 = require("pro-gallery-lib");
const getSlideAnimationClassNames = ({ idx, activeIndex, options }, overrideDeckTransition = false) => {
    const { [pro_gallery_lib_1.optionsMap.behaviourParams.gallery.horizontal.slideAnimation]: slideAnimation } = options;
    const isRTL = options[pro_gallery_lib_1.optionsMap.behaviourParams.gallery.layoutDirection] ===
        pro_gallery_lib_1.GALLERY_CONSTS[pro_gallery_lib_1.optionsMap.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;
    switch (slideAnimation) {
        case pro_gallery_lib_1.GALLERY_CONSTS[pro_gallery_lib_1.optionsMap.behaviourParams.gallery.horizontal.slideAnimation].FADE:
            return `fade fade-${activeIndex === idx ? 'visible' : 'hidden'}`;
        case pro_gallery_lib_1.GALLERY_CONSTS[pro_gallery_lib_1.optionsMap.behaviourParams.gallery.horizontal.slideAnimation].DECK: {
            if (activeIndex < idx) {
                return `deck-after ${overrideDeckTransition ? 'override' : ''}`;
            }
            else if (activeIndex === idx) {
                return `deck-current ${overrideDeckTransition ? 'override' : ''}`;
            }
            else if (activeIndex > idx) {
                return `deck-before${isRTL ? '-rtl' : ''}`;
            }
            return {};
        }
        default:
            return {};
    }
};
exports.getSlideAnimationClassNames = getSlideAnimationClassNames;
const toggleScrollLessAnimation = (callback) => {
    const toggleDeckTransitions = (isPaused) => {
        console.log('toggleScrollLessAnimation: ', isPaused);
        ['.gallery-item-wrapper', '.gallery-item-common-info-outer'].forEach((className) => {
            if (isPaused) {
                [...document.querySelectorAll(className)].forEach((item) => {
                    var _a;
                    (_a = item.classList) === null || _a === void 0 ? void 0 : _a.add('disabled-transition');
                });
            }
            else {
                [...document.querySelectorAll(className)].forEach((item) => {
                    var _a;
                    // item.offsetHeight; is to trigger a reflow and flush all the CSS changes.
                    item.offsetHeight;
                    (_a = item.classList) === null || _a === void 0 ? void 0 : _a.remove('disabled-transition');
                });
            }
        });
    };
    setTimeout(() => {
        callback && callback();
        toggleDeckTransitions(true);
        toggleDeckTransitions(false);
    }, 600);
};
exports.toggleScrollLessAnimation = toggleScrollLessAnimation;
//# sourceMappingURL=scrollLessAnimationHelper.js.map