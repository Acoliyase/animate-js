{"version":3,"file":"galleryHelpers.js","sourceRoot":"","sources":["../../../../../src/components/gallery/proGallery/galleryHelpers.js"],"names":[],"mappings":";;;AAAA,qDAAyC;AAEzC,yBAAyB;AACzB,MAAa,QAAQ;IACnB;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YAC7C,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE;gBACxB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,MAAM,CAAC,GAAG,IAAI,CAAC,CAAC;YAClB,CAAC,CAAC;YACF,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE;gBACzB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC;YACnB,CAAC,CAAC;YACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAdD,4BAcC;AAED,SAAgB,mBAAmB,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE;IAC1D,IAAI;QACF,MAAM,YAAY,GAAG,SAAS,CAAC,UAAU,GAAG,SAAS,GAAG,wBAAM,CAAC,WAAW,CAAC;QAC3E,MAAM,eAAe,GAAG,SAAS,CAAC,UAAU,GAAG,SAAS,CAAC,aAAa,GAAG,SAAS,CAAC;QACnF,OAAO,YAAY,IAAI,eAAe,CAAC;KACxC;IAAC,OAAO,CAAC,EAAE;QACV,OAAO,CAAC,IAAI,CAAC,8BAA8B,EAAE,CAAC,CAAC,CAAC;QAChD,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AATD,kDASC","sourcesContent":["import { window } from 'pro-gallery-lib';\n\n// Promise-wrapping class\nexport class Deferred {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.reject = (...args) => {\n        this.isPending = false;\n        reject(...args);\n      };\n      this.resolve = (...args) => {\n        this.isPending = false;\n        resolve(...args);\n      };\n      this.isPending = true;\n    });\n  }\n}\n\nexport function isGalleryInViewport({ container, scrollTop }) {\n  try {\n    const isTopVisible = container.scrollBase < scrollTop + window.innerHeight;\n    const isBottomVisible = container.scrollBase + container.galleryHeight > scrollTop;\n    return isTopVisible && isBottomVisible;\n  } catch (e) {\n    console.warn('Could not calculate viewport', e);\n    return true;\n  }\n}\n"]}