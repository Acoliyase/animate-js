"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const react_1 = tslib_1.__importDefault(require("react"));
const pro_gallery_lib_1 = require("pro-gallery-lib");
const itemHelper_js_1 = require("../itemHelper.js");
const GalleryUI_js_1 = require("../media/GalleryUI.js");
const mediaItem_js_1 = tslib_1.__importDefault(require("../media/mediaItem.js"));
const isIos = pro_gallery_lib_1.utils.isiOS();
const useTransparentPlayButtonAndForceLoadVideo = (props) => ((props.videoUrl || props.url).includes('youtube.com') || (props.videoUrl || props.url).includes('youtu.be')) &&
    isIos;
// eslint-disable-next-line @typescript-eslint/ban-ts-comment
// @ts-ignore
const VideoItem = react_1.default.lazy(() => {
    return Promise.resolve().then(() => tslib_1.__importStar(require(/* webpackChunkName: "proGallery_videoItem" */ './videoItem.js')));
});
class VideoItemImplementation extends react_1.default.Component {
    render() {
        const shouldForceLoadVideo = useTransparentPlayButtonAndForceLoadVideo(this.props);
        return (react_1.default.createElement(VideoItem, Object.assign({}, this.props, { loadVideo: this.props.shouldPlay || shouldForceLoadVideo, videoPlaceholder: this.props.thumbnail, videoPlayButton: this.props.showPlayButton && react_1.default.createElement(GalleryUI_js_1.GalleryUI, { type: 'videoPlayButton', size: 60 }) })));
    }
}
class VideoItemWrapper extends react_1.default.Component {
    render() {
        const showVideoPlayButton = this.props.options[pro_gallery_lib_1.optionsMap.behaviourParams.item.video.enablePlayButton];
        return (react_1.default.createElement(mediaItem_js_1.default, Object.assign({}, this.props, { MediaImplementation: VideoItemImplementation, enableImagePlaceholder: (0, itemHelper_js_1.shouldCreateVideoPlaceholder)(this.props.options), showPlayButton: showVideoPlayButton, placeholderExtraClasses: ['video-item', 'gallery-item-video'] })));
    }
}
exports.default = VideoItemWrapper;
/* eslint-enable prettier/prettier */
//# sourceMappingURL=videoItemWrapper.js.map