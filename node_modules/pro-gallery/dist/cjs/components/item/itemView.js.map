{"version":3,"file":"itemView.js","sourceRoot":"","sources":["../../../../src/components/item/itemView.js"],"names":[],"mappings":"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","sourcesContent":["import React from 'react';\nimport { GALLERY_CONSTS, window, utils, isEditMode, isPreviewMode, optionsMap } from 'pro-gallery-lib';\nimport MagnifiedImage from './imageWithMagnified.js';\nimport ThreeDItem from './3d/3dItemWrapper.js';\nimport withSecondaryMedia from '../hoc/withSecondMedia.js';\nimport TextItem from './textItem.js';\nimport ItemHover from './itemHover.js';\nimport { changeActiveElementIfNeeded, onAnchorFocus } from './itemHelper.js';\nimport { cssScrollHelper } from '../helpers/cssScrollHelper.js';\nimport { getOuterInfoStyle, getInnerInfoStyle, getContainerStyle, getImageStyle } from './itemViewStyleProvider.js';\nimport VideoItemWrapper from './videos/videoItemWrapper.js';\nimport { getCustomInfoRendererProps, getLinkParams } from './pure.js';\nimport { getSlideAnimationClassNames } from '../gallery/proGallery/scrollLessAnimationHelper.js';\n\nconst ImageWithSecondMedia = withSecondaryMedia(MagnifiedImage);\nconst TextWithSecondMedia = withSecondaryMedia(TextItem);\nclass ItemView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_CREATED, this.props);\n\n    this.init();\n\n    this.state = {\n      isCurrentHover: false,\n      itemWasHovered: false,\n    };\n\n    this.activeElement = '';\n  }\n\n  itemContainer = React.createRef();\n\n  //-------------------------------------------| INIT |--------------------------------------------//\n\n  init() {\n    this.onItemClick = this.onItemClick.bind(this);\n    this.onItemWrapperClick = this.onItemWrapperClick.bind(this);\n    this.onItemInfoClick = this.onItemInfoClick.bind(this);\n    this.onAnchorKeyDown = this.onAnchorKeyDown.bind(this);\n    this.onContainerKeyUp = this.onContainerKeyUp.bind(this);\n    this.handleItemMouseDown = this.handleItemMouseDown.bind(this);\n    this.handleItemMouseUp = this.handleItemMouseUp.bind(this);\n    this.setItemLoaded = this.setItemLoaded.bind(this);\n    this.isHighlight = this.isHighlight.bind(this);\n    this.getItemHover = this.getItemHover.bind(this);\n    this.getImageItem = this.getImageItem.bind(this);\n    this.getVideoItem = this.getVideoItem.bind(this);\n    this.getTextItem = this.getTextItem.bind(this);\n    this.getItemInner = this.getItemInner.bind(this);\n    this.getItemContainerStyles = this.getItemContainerStyles.bind(this);\n    this.getItemWrapperStyles = this.getItemWrapperStyles.bind(this);\n    this.getItemAriaLabel = this.getItemAriaLabel.bind(this);\n    this.getItemContainerClass = this.getItemContainerClass.bind(this);\n    this.getItemWrapperClass = this.getItemWrapperClass.bind(this);\n    this.getItemContainerTabIndex = this.getItemContainerTabIndex.bind(this);\n    this.isIconTag = this.isIconTag.bind(this);\n    this.onMouseEnter = this.onMouseEnter.bind(this);\n    this.onMouseLeave = this.onMouseLeave.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.checkIfCurrentHoverChanged = this.checkIfCurrentHoverChanged.bind(this);\n    this.shouldHoverWithoutOverlayAndClickOnMobile = this.shouldHoverWithoutOverlayAndClickOnMobile.bind(this);\n  }\n\n  //----------------------------------------| ACTIONS |-------------------------------------------//\n  setItemLoaded() {\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_LOADED, this.props);\n    this.setState({\n      loaded: true,\n    });\n  }\n\n  isIconTag(tagName) {\n    return ['button', 'i', 'a', 'svg', 'path'].indexOf(tagName.toLowerCase()) >= 0;\n  }\n\n  onMouseEnter() {\n    if (!utils.isMobile()) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, this.props.idx);\n    }\n  }\n\n  onMouseLeave() {\n    if (!utils.isMobile()) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, -1);\n    }\n  }\n\n  onFocus() {\n    if (this.props.settings?.isAccessible) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, this.props.idx);\n    }\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_FOCUSED, this.props);\n  }\n\n  onBlur() {\n    if (this.props.settings?.isAccessible) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, -1);\n    }\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_LOST_FOCUS, this.props);\n  }\n\n  onAnchorKeyDown(e) {\n    // Similar to \"onContainerKeyUp()\" expect 'shouldUseDirectLink()' part, because we are already on the <a> tag (this.itemAnchor)\n    const clickTarget = 'item-container';\n    switch (e.keyCode || e.charCode) {\n      case 32: //space\n      case 13: //enter\n        e.stopPropagation();\n        this.onItemClick(e, clickTarget, false); //pressing enter or space always behaves as click on main image, even if the click is on a thumbnail\n        return false;\n      default:\n        return true;\n    }\n  }\n\n  handleGalleryItemAction(e) {\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_ACTION_TRIGGERED, this.props, e);\n  }\n\n  onItemWrapperClick(e) {\n    const clickTarget = 'item-media';\n    this.onItemClick(e, clickTarget);\n  }\n\n  onItemInfoClick(e) {\n    const clickTarget = 'item-info';\n    this.onItemClick(e, clickTarget, false);\n    if (!this.shouldUseDirectLink()) {\n      // stop propagation only if we are not using direct link.\n      // stop propagation will prevent listening and manipulating the anchor navigations as some users do.\n      // we dont want to do this when we use a direct link via a tag.\n      e.stopPropagation();\n    }\n  }\n\n  onItemClick(e, clickTarget, shouldPreventDefault = true) {\n    this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_CLICKED, { ...this.props, clickTarget }, e);\n\n    if (this.shouldUseDirectLink()) {\n      return;\n    }\n\n    if (shouldPreventDefault) {\n      e.preventDefault();\n    }\n\n    if (this.shouldShowHoverOnMobile() || this.shouldShowSecondMediaOnMobile()) {\n      this.handleHoverClickOnMobile(e);\n    } else if (this.shouldHoverWithoutOverlayAndClickOnMobile()) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, this.props.idx);\n    } else {\n      this.handleGalleryItemAction(e);\n    }\n  }\n\n  shouldUseDirectLink = () => {\n    const { directLink } = this.props;\n    const { url, target } = directLink || {};\n    const useDirectLink = !!(\n      url &&\n      target &&\n      this.props.options[optionsMap.behaviourParams.item.clickAction] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].LINK\n    );\n    const shouldUseDirectLinkOnMobile =\n      this.shouldShowHoverOnMobile() && this.isClickOnCurrentHoveredItem() && useDirectLink;\n\n    if (shouldUseDirectLinkOnMobile) {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, -1);\n      return true;\n    }\n    if (useDirectLink && !this.shouldShowHoverOnMobile()) {\n      return true;\n    }\n    return false;\n  };\n\n  isClickOnCurrentHoveredItem = () =>\n    this.state.isCurrentHover || // this single item was already hovered.\n    this.props.options[optionsMap.behaviourParams.item.overlay.hoveringBehaviour] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour].ALWAYS_SHOW; // all the items are always 'already' hovered\n\n  handleHoverClickOnMobile(e) {\n    if (this.isClickOnCurrentHoveredItem()) {\n      this.handleGalleryItemAction(e);\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, -1);\n    } else {\n      this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, this.props.idx);\n    }\n  }\n\n  handleItemMouseDown() {\n    //check for long press\n    // if (utils.isMobile()) {\n    //   clearTimeout(this.longPressTimer);\n    //   this.longPressTimer = setTimeout(() => {\n    //     e.preventDefault(); //prevent default only after a long press (so that scroll will not break)\n    //     //do something\n    //   }, 500);\n    // }\n    return true; //make sure the default event behaviour continues\n  }\n\n  handleItemMouseUp() {\n    if (utils.isMobile() && this.longPressTimer) {\n      clearTimeout(this.longPressTimer);\n    }\n    return true; //make sure the default event behaviour continues\n  }\n\n  //-----------------------------------------| UTILS |--------------------------------------------//\n\n  shouldShowHoverOnMobile() {\n    if (utils.isMobile()) {\n      const {\n        [optionsMap.behaviourParams.item.overlay.hoveringBehaviour]: hoveringBehaviour,\n        alwaysShowHover,\n        previewHover,\n      } = this.props.options;\n\n      if (hoveringBehaviour === GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW) {\n        return false;\n      }\n      if (\n        this.props.options[optionsMap.behaviourParams.item.clickAction] ===\n          GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].NOTHING &&\n        this.props.type !== 'video' &&\n        this.props.type !== '3d'\n      ) {\n        return true;\n      } else if (\n        this.props.customComponents.customHoverRenderer &&\n        GALLERY_CONSTS.hasHoverPlacement(this.props.options[optionsMap.layoutParams.info.placement]) &&\n        hoveringBehaviour !== GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour].NEVER_SHOW\n      ) {\n        return true;\n      }\n      if (alwaysShowHover) {\n        return true;\n      }\n      if (isEditMode() && previewHover) {\n        return true;\n      }\n    }\n    return false;\n  }\n  shouldShowSecondMediaOnMobile() {\n    if (utils.isMobile()) {\n      if (\n        this.props.options[optionsMap.behaviourParams.item.clickAction] ===\n          GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].NOTHING &&\n        this.props.type !== 'video' &&\n        this.props.type !== '3d'\n      ) {\n        return (\n          this.props.options[optionsMap.behaviourParams.item.secondaryMedia.trigger] ===\n          GALLERY_CONSTS[optionsMap.behaviourParams.item.secondaryMedia.trigger].HOVER\n        );\n      } else {\n        return false;\n      }\n    }\n    return false;\n  }\n\n  shouldHoverWithoutOverlayAndClickOnMobile() {\n    return (\n      utils.isMobile() &&\n      this.props.options[optionsMap.behaviourParams.item.video.playTrigger] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.video.playTrigger].HOVER &&\n      this.props.options[optionsMap.behaviourParams.item.clickAction] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].NOTHING\n    );\n  }\n\n  isHighlight() {\n    return this.props.thumbnailHighlightId && this.props.thumbnailHighlightId === this.props.id;\n  }\n\n  shouldHover() {\n    //see if this could be decided in the preset\n    const { options } = this.props;\n    const { alwaysShowHover, previewHover } = options;\n    const hoveringBehaviour = options[optionsMap.behaviourParams.item.overlay.hoveringBehaviour];\n    const { NEVER_SHOW, APPEARS } = GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour];\n    const { NO_EFFECT } = GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoverAnimation];\n\n    if (hoveringBehaviour === NEVER_SHOW) {\n      return false;\n    } else if (alwaysShowHover === true) {\n      return true;\n    } else if (isEditMode() && previewHover) {\n      return true;\n    } else if (\n      hoveringBehaviour === APPEARS &&\n      options[optionsMap.behaviourParams.item.overlay.hoverAnimation] === NO_EFFECT &&\n      !this.state.itemWasHovered\n    ) {\n      //when there is no overlayHoverAnimation, we want to render the itemHover only on first hover and on (and not before)\n      //when there is a specific overlayHoverAnimation, to support the animation we should render the itemHover before any hover activity.\n      return false;\n    } else if (utils.isMobile()) {\n      return this.shouldShowHoverOnMobile();\n    } else {\n      return true;\n    }\n  }\n\n  //---------------------------------------| COMPONENTS |-----------------------------------------//\n\n  getItemHover(imageDimensions) {\n    const { customComponents, ...props } = this.props;\n\n    const shouldHover = this.shouldHover();\n    return (\n      shouldHover && (\n        <ItemHover\n          {...props}\n          forceShowHover={this.simulateOverlayHover()}\n          isCurrentHover={this.simulateHover()}\n          imageDimensions={imageDimensions}\n          itemWasHovered={this.state.itemWasHovered}\n          key=\"hover\"\n          actions={{\n            handleItemMouseDown: this.handleItemMouseDown,\n            handleItemMouseUp: this.handleItemMouseUp,\n          }}\n          renderCustomInfo={\n            customComponents.customHoverRenderer\n              ? () => customComponents.customHoverRenderer(getCustomInfoRendererProps(this.props))\n              : null\n          }\n        ></ItemHover>\n      )\n    );\n  }\n\n  getImageItem(imageDimensions) {\n    const props = utils.pick(this.props, [\n      'gotFirstScrollEvent',\n      'alt',\n      'title',\n      'description',\n      'id',\n      'idx',\n      'options',\n      'createUrl',\n      'createMagnifiedUrl',\n      'settings',\n      'isPrerenderMode',\n      'isTransparent',\n      'style',\n      'hasSecondaryMedia',\n      'secondaryMediaItem',\n      'customComponents',\n    ]);\n\n    return (\n      <ImageWithSecondMedia\n        {...props}\n        key=\"imageItem\"\n        imageDimensions={imageDimensions}\n        isThumbnail={!!this.props.thumbnailHighlightId}\n        isCurrentHover={this.simulateHover()}\n        itemWasHovered={this.state.itemWasHovered}\n        actions={{\n          handleItemMouseDown: this.handleItemMouseDown,\n          handleItemMouseUp: this.handleItemMouseUp,\n          setItemLoaded: this.setItemLoaded,\n        }}\n      />\n    );\n  }\n\n  get3dItem(imageDimensions, itemHover) {\n    const {\n      calculatedAlt,\n      title,\n      description,\n      id,\n      idx,\n      options,\n      createUrl,\n      createMagnifiedUrl,\n      settings,\n      isPrerenderMode,\n      isTransparent,\n      style,\n      customComponents,\n      scene,\n      activeIndex,\n      isCurrentHover,\n    } = this.props;\n\n    return (\n      <ThreeDItem\n        key=\"3dItem\"\n        imageDimensions={imageDimensions}\n        itemContainer={this.itemContainer}\n        shouldPlay={this.props.idx === this.props.playing3DIdx}\n        actions={{\n          ...this.props.actions,\n          setItemLoaded: this.setItemLoaded,\n          handleItemMouseDown: this.handleItemMouseDown,\n          handleItemMouseUp: this.handleItemMouseUp,\n        }}\n        hasLink={this.itemHasLink()}\n        hover={itemHover}\n        activeIndex={activeIndex}\n        calculatedAlt={calculatedAlt}\n        createMagnifiedUrl={createMagnifiedUrl}\n        createUrl={createUrl}\n        customComponents={customComponents}\n        title={title}\n        description={description}\n        id={id}\n        idx={idx}\n        isPrerenderMode={isPrerenderMode}\n        isTransparent={isTransparent}\n        options={options}\n        scene={scene}\n        style={style}\n        settings={settings}\n        isCurrentHover={isCurrentHover}\n      />\n    );\n  }\n\n  getVideoItem(imageDimensions, itemHover) {\n    return (\n      <VideoItemWrapper\n        {...this.props}\n        shouldPlay={this.props.idx === this.props.playingVideoIdx}\n        key={'video' + this.props.idx}\n        hover={itemHover}\n        imageDimensions={imageDimensions}\n        hasLink={this.itemHasLink()}\n        isCurrentHover={this.simulateHover()}\n        actions={{\n          ...this.props.actions,\n          setItemLoaded: this.setItemLoaded,\n          handleItemMouseDown: this.handleItemMouseDown,\n          handleItemMouseUp: this.handleItemMouseUp,\n        }}\n      />\n    );\n  }\n\n  getTextItem(imageDimensions) {\n    const props = utils.pick(this.props, [\n      'id',\n      'options',\n      'style',\n      'html',\n      'cropRatio',\n      'isPrerenderMode',\n      'hasSecondaryMedia',\n      'secondaryMediaItem',\n    ]);\n\n    return (\n      <TextWithSecondMedia\n        {...props}\n        key=\"textItem\"\n        imageDimensions={imageDimensions}\n        isCurrentHover={this.simulateHover()}\n        itemWasHovered={this.state.itemWasHovered}\n        actions={{\n          handleItemMouseDown: this.handleItemMouseDown,\n          handleItemMouseUp: this.handleItemMouseUp,\n          setItemLoaded: this.setItemLoaded,\n        }}\n      />\n    );\n  }\n\n  getItemInner() {\n    const { type, style, offset } = this.props;\n    let itemInner;\n\n    const { innerWidth, innerHeight } = style;\n    const { innerTop, innerLeft } = offset;\n\n    const itemStyles = {\n      width: innerWidth,\n      height: innerHeight,\n      marginTop: innerTop,\n      marginLeft: innerLeft,\n    };\n    let itemHover = null;\n    if (this.shouldHover()) {\n      itemHover = this.getItemHover(itemStyles);\n    }\n\n    switch (type) {\n      case 'dummy':\n        itemInner = <div />;\n        break;\n      case 'video':\n        itemInner = this.getVideoItem(itemStyles, itemHover);\n        break;\n      case 'text':\n        itemInner = [this.getTextItem(itemStyles), itemHover];\n        break;\n      case '3d':\n        itemInner = this.get3dItem(itemStyles, itemHover);\n        break;\n      case 'image':\n      case 'picture':\n      default:\n        if (this.props.isVideoPlaceholder) {\n          itemInner = this.getVideoItem(itemStyles, itemHover);\n        } else {\n          itemInner = [this.getImageItem(itemStyles), itemHover];\n        }\n    }\n\n    return itemInner;\n  }\n\n  getRightInfoElementIfNeeded() {\n    if (\n      GALLERY_CONSTS.hasExternalRightPlacement(\n        this.props.options[optionsMap.layoutParams.info.placement],\n        this.props.idx\n      )\n    ) {\n      return this.getExternalInfoElement(\n        GALLERY_CONSTS[optionsMap.layoutParams.info.placement].RIGHT,\n        'gallery-item-right-info'\n      );\n    } else {\n      return null;\n    }\n  }\n\n  getLeftInfoElementIfNeeded() {\n    if (\n      GALLERY_CONSTS.hasExternalLeftPlacement(\n        this.props.options[optionsMap.layoutParams.info.placement],\n        this.props.idx\n      )\n    ) {\n      return this.getExternalInfoElement(\n        GALLERY_CONSTS[optionsMap.layoutParams.info.placement].LEFT,\n        'gallery-item-left-info'\n      );\n    } else {\n      return null;\n    }\n  }\n\n  getBottomInfoElementIfNeeded() {\n    if (\n      GALLERY_CONSTS.hasExternalBelowPlacement(\n        this.props.options[optionsMap.layoutParams.info.placement],\n        this.props.idx\n      )\n    ) {\n      return this.getExternalInfoElement(\n        GALLERY_CONSTS[optionsMap.layoutParams.info.placement].BELOW,\n        'gallery-item-bottom-info'\n      );\n    } else {\n      return null;\n    }\n  }\n\n  getTopInfoElementIfNeeded() {\n    if (\n      GALLERY_CONSTS.hasExternalAbovePlacement(\n        this.props.options[optionsMap.layoutParams.info.placement],\n        this.props.idx\n      )\n    ) {\n      return this.getExternalInfoElement(\n        GALLERY_CONSTS[optionsMap.layoutParams.info.placement].ABOVE,\n        'gallery-item-top-info'\n      );\n    } else {\n      return null;\n    }\n  }\n\n  getExternalInfoElement(placement, elementName) {\n    const { options, customComponents, style } = this.props;\n    if (!customComponents.customInfoRenderer) {\n      return null;\n    }\n    let info = null;\n    //if there is no url for videos and images, we will not render the itemWrapper\n    //but will render the info element if exists, with the whole size of the item\n    const infoHeight = options[optionsMap.layoutParams.info.height] + (this.hasRequiredMediaUrl ? 0 : style.height);\n    const infoWidth = style.infoWidth + (this.hasRequiredMediaUrl ? 0 : style.width);\n\n    const itemExternalInfo = customComponents.customInfoRenderer(getCustomInfoRendererProps(this.props), placement);\n\n    const overrideDeckTransition = GALLERY_CONSTS.isLayout('SLIDESHOW')(this.props.options);\n\n    info = (\n      <div\n        className={'gallery-item-common-info-outer ' + getSlideAnimationClassNames(this.props, overrideDeckTransition)}\n        style={{\n          ...getOuterInfoStyle(placement, options, style.height, options[optionsMap.layoutParams.info.height]),\n        }}\n      >\n        <div\n          style={getInnerInfoStyle(placement, options, infoHeight, infoWidth)}\n          className={'gallery-item-common-info ' + elementName}\n          onClick={this.onItemInfoClick}\n        >\n          {itemExternalInfo}\n        </div>\n      </div>\n    );\n\n    return info;\n  }\n\n  simulateHover() {\n    return (\n      this.state.isCurrentHover ||\n      this.props.options.alwaysShowHover === true ||\n      (isEditMode() && this.props.options.previewHover)\n    );\n  }\n\n  simulateOverlayHover() {\n    return (\n      this.simulateHover() ||\n      this.props.options[optionsMap.behaviourParams.item.overlay.hoveringBehaviour] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour].ALWAYS_SHOW\n    );\n  }\n\n  itemHasLink() {\n    const { linkData, linkUrl } = this.props;\n    const itemDoesntHaveLink = linkData.type === undefined && (linkUrl === undefined || linkUrl === ''); //when itemClickAction is 'LINK' but no link was added to this specific item\n    return !itemDoesntHaveLink;\n  }\n\n  getItemContainerStyles() {\n    const { idx, activeIndex, offset, style, options, settings = {} } = this.props;\n    const itemSpacing = options[optionsMap.layoutParams.structure.itemSpacing];\n    const slideAnimation = options[optionsMap.behaviourParams.gallery.horizontal.slideAnimation];\n    const isRTL =\n      options[optionsMap.behaviourParams.gallery.layoutDirection] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.gallery.layoutDirection].RIGHT_TO_LEFT;\n    const scrollDirection = options[optionsMap.layoutParams.structure.scrollDirection];\n    const containerStyleByoptions = getContainerStyle(options);\n\n    const itemStyles = {\n      overflowY: 'hidden',\n      position: 'absolute',\n      bottom: 'auto',\n      margin:\n        scrollDirection === GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].HORIZONTAL\n          ? itemSpacing / 2 + 'px'\n          : 0,\n    };\n\n    const { avoidInlineStyles } = settings;\n\n    const hideOnSSR = this.props.isPrerenderMode && !this.props.settings.disableSSROpacity;\n    const opacityStyles = avoidInlineStyles\n      ? {}\n      : {\n          opacity: hideOnSSR ? 0 : 1,\n          display: hideOnSSR ? 'none' : 'block',\n          transition: 'opacity .2s ease',\n        };\n\n    const layoutStyles = avoidInlineStyles\n      ? {}\n      : {\n          top: offset.top,\n          left: isRTL ? 'auto' : offset.left,\n          right: !isRTL ? 'auto' : offset.left,\n          width: style.width + style.infoWidth,\n          height: style.height + style.infoHeight,\n        };\n\n    let slideAnimationStyles;\n    switch (slideAnimation) {\n      case GALLERY_CONSTS[optionsMap.behaviourParams.gallery.horizontal.slideAnimation].FADE:\n        slideAnimationStyles = {\n          left: isRTL ? 'auto' : 0,\n          right: !isRTL ? 'auto' : 0,\n          pointerEvents: activeIndex === idx ? 'auto' : 'none',\n          zIndex: activeIndex === idx ? 0 : 1,\n        };\n        break;\n      case GALLERY_CONSTS[optionsMap.behaviourParams.gallery.horizontal.slideAnimation].DECK:\n        slideAnimationStyles = {\n          left: isRTL ? 'auto' : 0,\n          right: !isRTL ? 'auto' : 0,\n          pointerEvents: activeIndex === idx ? 'auto' : 'none',\n          zIndex: Math.sign(activeIndex - idx),\n        };\n        break;\n      default:\n        slideAnimationStyles = {};\n    }\n\n    const transitionStyles =\n      this.state.loaded && (isEditMode() || isPreviewMode())\n        ? {\n            transition: 'all .4s ease',\n            transitionProperty: 'top, left, width, height, opacity',\n          }\n        : {\n            transition: 'none',\n          };\n\n    const itemContainerStyles = {\n      ...itemStyles,\n      ...layoutStyles,\n      ...containerStyleByoptions,\n      ...transitionStyles,\n      ...opacityStyles,\n      ...slideAnimationStyles,\n    };\n\n    return itemContainerStyles;\n  }\n\n  getItemWrapperStyles() {\n    const { createUrl, options, style, type, offset } = this.props;\n    const { height, width, innerWidth, innerHeight } = style;\n    const { innerTop, innerLeft } = offset;\n    let styles = {};\n    if (type === 'text') {\n      styles.backgroundColor =\n        options[optionsMap.layoutParams.crop.method] !== GALLERY_CONSTS[optionsMap.layoutParams.crop.method].FIT\n          ? 'transparent'\n          : 'inherit';\n    } else {\n      styles.backgroundColor =\n        (options[optionsMap.layoutParams.crop.method] !== GALLERY_CONSTS[optionsMap.layoutParams.crop.method].FIT\n          ? style.bgColor\n          : 'inherit') || 'transparent';\n    }\n\n    if (\n      options[optionsMap.behaviourParams.item.content.hoverAnimation] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.item.content.hoverAnimation].MAIN_COLOR\n    ) {\n      styles = {\n        ...styles,\n        background: `url(${createUrl(GALLERY_CONSTS.urlSizes.PIXEL, GALLERY_CONSTS.urlTypes.HIGH_RES)})`,\n        backgroundSize: `${innerWidth}px ${innerHeight}px`,\n        backgroundRepeat: 'no-repeat',\n        backgroundPosition: `top ${innerTop}px left ${innerLeft}px`,\n      };\n    }\n    const { TILT } = GALLERY_CONSTS[optionsMap.behaviourParams.item.content.hoverAnimation];\n    if (options[optionsMap.behaviourParams.item.content.hoverAnimation] === TILT) {\n      styles['--tiltAngleValue'] = options[optionsMap.behaviourParams.item.content.tiltAngleValue];\n    }\n    styles.height = height + 'px';\n    styles.width = width + 'px';\n    styles.margin = -options[optionsMap.stylingParams.itemBorderWidth] + 'px';\n\n    return styles;\n  }\n\n  getItemAriaLabel() {\n    const { type, alt, htmlContent, options } = this.props;\n    const mapTypeToLabel = {\n      dummy: '',\n      text: htmlContent,\n      video: alt || type || '',\n      image: alt || type || '',\n    };\n    const label = mapTypeToLabel[type];\n    return label + (options.isStoreGallery ? ', Buy Now' : '');\n  }\n\n  isItemClickable(options) {\n    const itemDoesntHaveLink = !this.itemHasLink(); //when itemClickAction is 'LINK' but no link was added to this specific item\n\n    return options[optionsMap.behaviourParams.item.clickAction] ===\n      GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].NOTHING ||\n      (options[optionsMap.behaviourParams.item.clickAction] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].LINK &&\n        itemDoesntHaveLink)\n      ? false\n      : true;\n  }\n\n  getItemContainerClass() {\n    const { options } = this.props;\n    const contentPlacementAnimation = options[optionsMap.behaviourParams.item.content.placementAnimation];\n    const overlayHoverAnimation = options[optionsMap.behaviourParams.item.overlay.hoverAnimation];\n    const contentHoverAnimation = options[optionsMap.behaviourParams.item.content.hoverAnimation];\n    const { FADE_IN, EXPAND, SLIDE_UP, SLIDE_RIGHT, SLIDE_DOWN, SLIDE_LEFT } =\n      GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoverAnimation];\n    const { MAIN_COLOR, ZOOM_IN, TILT, BLUR, GRAYSCALE, SHRINK, INVERT, COLOR_IN, DARKENED } =\n      GALLERY_CONSTS[optionsMap.behaviourParams.item.content.hoverAnimation];\n\n    const isHovered = this.simulateHover();\n    const classNames = {\n      'gallery-item-container': true,\n      'item-container-regular': !isHovered,\n      'item-container-hover': isHovered,\n\n      'has-custom-focus': true,\n      visible: true,\n      'pro-gallery-highlight': this.isHighlight(),\n      clickable: this.isItemClickable(options),\n      'simulate-hover': this.simulateHover(),\n      'hide-hover': !this.simulateHover() && utils.isMobile(),\n      'invert-hover':\n        options[optionsMap.behaviourParams.item.overlay.hoveringBehaviour] ===\n        GALLERY_CONSTS[optionsMap.behaviourParams.item.overlay.hoveringBehaviour].DISAPPEARS,\n\n      //animations\n      'animation-slide':\n        contentPlacementAnimation === GALLERY_CONSTS[optionsMap.behaviourParams.item.content.placementAnimation].SLIDE,\n\n      //overlay animations\n      'hover-animation-fade-in': overlayHoverAnimation === FADE_IN,\n      'hover-animation-expand': overlayHoverAnimation === EXPAND,\n      'hover-animation-slide-up': overlayHoverAnimation === SLIDE_UP,\n      'hover-animation-slide-right': overlayHoverAnimation === SLIDE_RIGHT,\n      'hover-animation-slide-down': overlayHoverAnimation === SLIDE_DOWN,\n      'hover-animation-slide-left': overlayHoverAnimation === SLIDE_LEFT,\n\n      //image hover animations\n      'main-color-on-hover': contentHoverAnimation === MAIN_COLOR,\n      'zoom-in-on-hover': contentHoverAnimation === ZOOM_IN,\n      'tilt-on-hover': contentHoverAnimation === TILT,\n      'blur-on-hover': contentHoverAnimation === BLUR,\n      'grayscale-on-hover': contentHoverAnimation === GRAYSCALE,\n      'shrink-on-hover': contentHoverAnimation === SHRINK,\n      'invert-on-hover': contentHoverAnimation === INVERT,\n      'color-in-on-hover': contentHoverAnimation === COLOR_IN,\n      'darkened-on-hover': contentHoverAnimation === DARKENED,\n\n      'pro-gallery-mobile-indicator': utils.isMobile(),\n    };\n    const strClass = Object.entries(classNames)\n      .map(([classname, isNeeded]) => (isNeeded ? classname : false))\n      .filter(Boolean)\n      .join(' ');\n\n    return strClass;\n  }\n\n  getItemWrapperClass() {\n    const { options, type } = this.props;\n    const classes = ['gallery-item-wrapper', 'visible'];\n\n    if (options[optionsMap.layoutParams.crop.enable]) {\n      classes.push('cube-type-' + options[optionsMap.layoutParams.crop.method].toLowerCase());\n    }\n    if (type === 'text') {\n      classes.push('gallery-item-wrapper-text');\n    }\n\n    classes.push(getSlideAnimationClassNames(this.props));\n    return classes.join(' ');\n  }\n\n  getItemContainerTabIndex() {\n    const tabIndex = this.isHighlight()\n      ? utils.getTabIndex('currentThumbnail')\n      : this.props.activeIndex === this.props.idx\n      ? utils.getTabIndex('currentGalleryItem')\n      : -1;\n    return tabIndex;\n  }\n\n  //-----------------------------------------| REACT |--------------------------------------------//\n\n  componentDidMount() {\n    if (utils.isMobile() && typeof React.initializeTouchEvents === 'function') {\n      try {\n        React.initializeTouchEvents(true);\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    window.addEventListener('current_hover_change', this.checkIfCurrentHoverChanged);\n  }\n\n  componentWillUnmount() {\n    clearTimeout(this.itemLoadedTimeout);\n    window.removeEventListener('current_hover_change', this.checkIfCurrentHoverChanged);\n  }\n\n  componentDidUpdate(prevProps) {\n    changeActiveElementIfNeeded({\n      prevProps,\n      currentProps: this.props,\n      itemActionRef: this.itemActionRef,\n    });\n  }\n\n  checkIfCurrentHoverChanged(e) {\n    if (e.galleryId === this.props.galleryId) {\n      if (!this.state.isCurrentHover && e.currentHoverIdx === this.props.idx) {\n        this.setState({\n          isCurrentHover: true,\n          itemWasHovered: true,\n        });\n      } else if (this.state.isCurrentHover && e.currentHoverIdx !== this.props.idx) {\n        this.setState({\n          isCurrentHover: false,\n        });\n      }\n    }\n  }\n\n  onContextMenu(e) {\n    if (!utils.isDev() && this.props.options[optionsMap.behaviourParams.gallery.blockContextMenu]) {\n      e.preventDefault(e);\n    }\n  }\n\n  getItemAriaRole() {\n    switch (this.props.options[optionsMap.behaviourParams.item.clickAction]) {\n      case GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].ACTION:\n        return 'button';\n      case GALLERY_CONSTS[optionsMap.behaviourParams.item.clickAction].LINK:\n        return 'link';\n      default:\n        return '';\n    }\n  }\n\n  getItemAriaHaspopup() {\n    switch (this.props.options.itemClick) {\n      case 'expand':\n      case 'fullscreen':\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  onContainerKeyUp(e) {\n    const clickTarget = 'item-container';\n    switch (e.keyCode || e.charCode) {\n      case 32: //space\n      case 13: //enter\n        e.stopPropagation();\n        this.onItemClick(e, clickTarget, false); //pressing enter or space always behaves as click on main image, even if the click is on a thumbnail\n        if (this.shouldUseDirectLink()) {\n          this.itemAnchor.click(); // when directLink, we want to simulate the 'enter' or 'space' press on an <a> element\n        }\n        return false;\n      case 27: //esc\n        // The first ESC press removes the hover effect, the second removes focus\n        if (this.state.isCurrentHover) {\n          this.props.actions.eventsListener(GALLERY_CONSTS.events.HOVER_SET, -1);\n        } else {\n          e.target.blur();\n          this.props.actions.eventsListener(GALLERY_CONSTS.events.ITEM_LOST_FOCUS, this.props);\n        }\n        return false;\n      default:\n        return true;\n    }\n  }\n\n  composeItem() {\n    const { photoId, id, hash, idx, options, type, url } = this.props;\n\n    //if (there is an url for video items and image items) OR text item (text item do not use media url)\n    this.hasRequiredMediaUrl = url || type === 'text';\n    //if info placement !== OVERLAY and !this.hasRequiredMediaUrl, we will NOT render the itemWrapper (but will render the info element with the whole size of the item)\n    const isItemWrapperEmpty =\n      options[optionsMap.layoutParams.info.placement] !==\n        GALLERY_CONSTS[optionsMap.layoutParams.info.placement].OVERLAY && !this.hasRequiredMediaUrl;\n    const itemAriaRole = this.getItemAriaRole();\n    const itemAriaLabel = this.getItemAriaLabel();\n    const itemAriaHaspopup = this.getItemAriaHaspopup();\n    const Element = this.props.elementsOverride?.item || 'div';\n    const innerDiv = (\n      <Element\n        className={this.getItemContainerClass()}\n        onContextMenu={(e) => this.onContextMenu(e)}\n        id={cssScrollHelper.getSellectorDomId(this.props)}\n        ref={this.itemContainer}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n        onFocus={this.onFocus}\n        onBlur={this.onBlur} // The onblur event is the opposite of the onfocus event.\n        data-hash={hash}\n        data-id={photoId}\n        data-idx={idx}\n        data-hook=\"item-container\"\n        key={'item-container-' + id}\n        style={this.getItemContainerStyles()}\n        onKeyUp={this.onContainerKeyUp}\n        onClick={this.onItemWrapperClick}\n      >\n        {this.props.disableItemFocus ? null : (\n          <div\n            data-idx={idx}\n            id={'item-action-' + id}\n            className=\"item-action\"\n            ref={(ref) => (this.itemActionRef = ref)}\n            onKeyUp={this.onContainerKeyUp}\n            tabIndex={this.getItemContainerTabIndex()}\n            onFocus={this.onFocus}\n            onBlur={this.onBlur}\n            data-hook={'item-action'}\n            {...(itemAriaLabel && { ['aria-label']: itemAriaLabel })}\n            {...(itemAriaRole && { role: itemAriaRole })}\n            {...(itemAriaHaspopup && { ['aria-haspopup']: itemAriaHaspopup ? 'dialog' : '' })}\n          ></div>\n        )}\n        {this.getTopInfoElementIfNeeded()}\n        {this.getLeftInfoElementIfNeeded()}\n        <div\n          style={{\n            ...getImageStyle(this.props.options),\n            ...(GALLERY_CONSTS.hasExternalRightPlacement(\n              this.props.options[optionsMap.layoutParams.info.placement],\n              this.props.idx\n            ) && { float: 'left' }),\n            ...(GALLERY_CONSTS.hasExternalLeftPlacement(\n              this.props.options[optionsMap.layoutParams.info.placement],\n              this.props.idx\n            ) && { float: 'right' }),\n          }}\n        >\n          {!isItemWrapperEmpty && (\n            <div\n              data-hook=\"item-wrapper\"\n              className={this.getItemWrapperClass()}\n              key={'item-wrapper-' + id}\n              id={'item-wrapper-' + id}\n              style={this.getItemWrapperStyles()}\n            >\n              {this.getItemInner()}\n            </div>\n          )}\n        </div>\n        {this.getRightInfoElementIfNeeded()}\n        {this.getBottomInfoElementIfNeeded()}\n      </Element>\n    );\n    const handleKeyDown = (e) => {\n      /* Relvenat only for Screen-Reader case:\n      Screen-Reader ignores the tabIdex={-1} and therefore stops and focuses on the <a> tag keyDown event,\n      so it will not go deeper to the item-container keyDown event.\n      */\n      this.onAnchorKeyDown(e);\n    };\n    const handleFocus = () => {\n      onAnchorFocus({\n        itemAnchor: this.itemAnchor,\n        enableExperimentalFeatures: this.props.enableExperimentalFeatures,\n        itemContainer: this.itemContainer,\n      });\n    };\n    const linkParams = getLinkParams(this.props);\n    const elementProps = {\n      ref: (e) => (this.itemAnchor = e),\n      'data-id': photoId,\n      className: 'item-link-wrapper',\n      'data-idx': idx,\n      'data-hook': 'item-link-wrapper',\n      onFocus: handleFocus,\n      tabIndex: -1,\n      onKeyDown: handleKeyDown,\n    };\n    if (linkParams?.href?.length > 0) {\n      return (\n        <a key={'item-container-link-' + id} {...elementProps} {...linkParams}>\n          {innerDiv}\n        </a>\n      );\n    } else {\n      return (\n        <div key={'item-container-div-' + id} {...elementProps}>\n          {innerDiv}\n        </div>\n      );\n    }\n  }\n\n  //-----------------------------------------| RENDER |--------------------------------------------//\n\n  render() {\n    return this.composeItem();\n  }\n}\n\nexport default ItemView;\n/* eslint-enable prettier/prettier */\n"]}