var emulateTab=function(){"use strict";var e,f=new Array("offsetHeight","scrollHeight","clientHeight"),o=/text|password|search|tel|url/;function n(){var e=i()||document.body;return r(e,c(e))}function t(t){return void 0===t&&(t=document.body),{toPreviousElement:function(){return r(t,a(),!0)},toNextElement:function(){return r(t,c(t))},to:function(e,n){return void 0===n&&(n=!1),r(t,e,n)}}}function r(e,n,t){if(void 0===t&&(t=!1),e.dispatchEvent(u("keydown",t))){if(e.blur(),n.focus(),document.activeElement!==n)try{document.activeElement=n}catch(e){console.warn("could not switch active element")}n instanceof HTMLInputElement&&o.test(n.type)&&(n.selectionStart=0);var r=u("keyup",t);return n.dispatchEvent(r),!0}return e.dispatchEvent(u("keypress",t)),e.dispatchEvent(u("keyup",t)),!1}function u(e,n){return void 0===n&&(n=!1),new KeyboardEvent(e,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:n})}function i(){var e=document.activeElement;return e instanceof HTMLElement?e:void 0}function a(e){void 0===e&&(e=document.body);var n=d();if(n.length<1)throw new Error("no selectable elements found");var t=n.indexOf(e);return n[(0<t?t:n.length)-1]}function c(e){void 0===e&&(e=document.body);var n=d();if(n.length<1)throw new Error("no selectable elements found");var t=n.indexOf(e);return n[t+1<n.length?t+1:0]}function d(){var e=Array.from(document.querySelectorAll("*")).filter(v);s();var n=e.filter(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(n){return!e.some(function(e){return!e(n)})}}(y,l,h,p,E)).reduce(function(e,n){var t=n.tabIndex,r=e[""+t]||{tabIndex:t,elements:[]};return r.elements.push(n),e[t]=r,e},{});return Object.values(n).sort(x).reduce(function(e,n){return e.concat(n.elements)},new Array)}(e=n=n||{}).from=t,e.to=function(e,n){return void 0===n&&(n=!1),t(i()).to(e,n)},e.backwards=function(){return e.to(a(i()),!0)},e.forwards=function(){return e()},e.findSelectableElements=d;var l,v=function(e){return e instanceof HTMLElement},s=function(){var e=function e(n){void 0===n&&(n=document.body);var t=n;var r=f.find(function(e){var n=t[e];return n&&"number"==typeof n&&0<n});if(r)return r;var o=n.children;for(var u=0,i=Array.from(o);u<i.length;u++){var a=i[u],c=e(a);if(c)return c}return}();l=e?b(e):m,s=function(){}},b=function(t){return function(e){var n=e[t];return!!n&&"number"==typeof n&&0<n}};var m=function(e){if(!e.isConnected)return!1;if("BODY"===e.tagName)return!0;var n=getComputedStyle(e);if("none"===n.display)return!1;if("collapse"===n.visibility)return!1;var t=e.parentElement;return!!t&&m(t)};function y(e){return"number"==typeof e.tabIndex&&0<=e.tabIndex}var h=function(e){return!e.disabled};function p(e){return!(e instanceof HTMLAnchorElement&&!e.href&&null===e.getAttribute("tabIndex"))}var E=function(e){return"collapse"!==getComputedStyle(e).visibility};function x(e,n){if(0<e.tabIndex&&0<n.tabIndex)return e.tabIndex-n.tabIndex;if(0<e.tabIndex)return-e.tabIndex;if(0<n.tabIndex)return n.tabIndex;throw new Error("same tab index for two groups")}return n}();