{"version":3,"names":["apiTypes","_interopRequireWildcard","require","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","SortStageImpl","constructor","_defineProperty2","ascending","fields","forEach","field","sortFields","push","fieldName","order","SortOrder","ASC","descending","DESC","build","sort","values","exports"],"sources":["../../../../src/api/stages/SortStage.ts"],"sourcesContent":["import { PipelineStage } from './stages'\nimport * as apiTypes from '../../types/data-item-types'\n\n/**\n * @builder\n */\nexport interface SortStage extends PipelineStage {\n  /**\n   * Adds a sort stage that sorts the aggregation results by the specified fields in ascending order.\n   *\n   * The `ascending()` method refines the aggregation to sort results in ascending order of the specified fields. If you specify more than one field, `ascending()` sorts the results in ascending order by each field in the order they are listed.\n   *\n   * You can sort the following types:\n   * - Number: Sorts numerically.\n   * - Date: Sorts by date and time.\n   * - String: Sorts lexicographically, so `\"abc\"` comes after `\"XYZ\"`.\n   * - Reference: Compares by the ID of the referenced item as a String.\n   *\n   * If a property contains a number as a String, that value is sorted alphabetically and not numerically. Items that do not have a value for the specified sort property are ranked lowest.\n   *\n   * @public\n   * @documentationMaturity preview\n   * @param fields - Fields to sort by.\n   * @returns SortStage object.\n   */\n  ascending(...fields: string[]): SortStage\n  /**\n   * Adds a sort stage that sorts the aggregation results by the specified fields in descending order.\n   *\n   * The `descending()` method refines the aggregation to sort results in descending order of the specified fields. If you specify more than one field, `descending()` sorts the results in descending order by each field in the order they are listed.\n   *\n   * You can sort the following types:\n   * - Number: Sorts numerically.\n   * - Date: Sorts by date and time.\n   * - String: Sorts lexicographically, so `\"abc\"` comes before `\"XYZ\"`.\n   * - Reference: Compares by the ID of the referenced item as a String.\n   *\n   * If a field contains a number as a String, that value is sorted alphabetically and not numerically. Items that do not have a value for the specified sort field are ranked lowest.\n   *\n   * @public\n   * @documentationMaturity preview\n   * @param fields - Fields to sort by.\n   * @returns SortStage object.\n   */\n  descending(...fields: string[]): SortStage\n}\n\nexport class SortStageImpl implements SortStage {\n  private sortFields: apiTypes.Sorting[] = []\n\n  ascending(...fields: string[]): SortStage {\n    fields.forEach((field) => {\n      this.sortFields.push({ fieldName: field, order: apiTypes.SortOrder.ASC })\n    })\n    return this\n  }\n\n  descending(...fields: string[]): SortStage {\n    fields.forEach((field) => {\n      this.sortFields.push({ fieldName: field, order: apiTypes.SortOrder.DESC })\n    })\n    return this\n  }\n\n  /** @private */\n  build(): apiTypes.Stage {\n    return { sort: { values: this.sortFields } }\n  }\n}\n"],"mappings":";;;;;;AACA,IAAAA,QAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAuD,SAAAD,wBAAAE,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAJ,uBAAA,YAAAA,CAAAE,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAEvD;AACA;AACA;;AA0CO,MAAMkB,aAAa,CAAsB;EAAAC,YAAA;IAAA,IAAAC,gBAAA,CAAAX,OAAA,sBACL,EAAE;EAAA;EAE3CY,SAASA,CAAC,GAAGC,MAAgB,EAAa;IACxCA,MAAM,CAACC,OAAO,CAAEC,KAAK,IAAK;MACxB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC;QAAEC,SAAS,EAAEH,KAAK;QAAEI,KAAK,EAAEhC,QAAQ,CAACiC,SAAS,CAACC;MAAI,CAAC,CAAC;IAC3E,CAAC,CAAC;IACF,OAAO,IAAI;EACb;EAEAC,UAAUA,CAAC,GAAGT,MAAgB,EAAa;IACzCA,MAAM,CAACC,OAAO,CAAEC,KAAK,IAAK;MACxB,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC;QAAEC,SAAS,EAAEH,KAAK;QAAEI,KAAK,EAAEhC,QAAQ,CAACiC,SAAS,CAACG;MAAK,CAAC,CAAC;IAC5E,CAAC,CAAC;IACF,OAAO,IAAI;EACb;;EAEA;EACAC,KAAKA,CAAA,EAAmB;IACtB,OAAO;MAAEC,IAAI,EAAE;QAAEC,MAAM,EAAE,IAAI,CAACV;MAAW;IAAE,CAAC;EAC9C;AACF;AAACW,OAAA,CAAAlB,aAAA,GAAAA,aAAA","ignoreList":[]}