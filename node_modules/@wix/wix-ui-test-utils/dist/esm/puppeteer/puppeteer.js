import { pupUniDriver } from '@wix/unidriver-puppeteer';
/** @DEPRECATED please use `puppeteerUniTestkitFactoryCreator` */
export function puppeteerTestkitFactoryCreator(driverFactory) {
    return async (obj) => driverFactory(await obj.page.$(`[data-hook='${obj.dataHook}']`), obj.page, {
        dataHook: obj.dataHook,
    });
}
export function puppeteerUniTestkitFactoryCreator(driverFactory) {
    return async (obj) => {
        const { dataHook, wrapper: element, page } = obj; // destructuring `wrapper` so that type inference works well
        const selector = `[data-hook='${dataHook}']`;
        const base = element
            ? pupUniDriver(async () => ({
                element: await element.$(selector),
                page,
                selector,
            }))
            : pupUniDriver({ page, selector });
        const body = pupUniDriver({ page, selector: 'body' });
        return driverFactory(base, body, { dataHook });
    };
}
//# sourceMappingURL=puppeteer.js.map