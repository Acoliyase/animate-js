{"version":3,"names":["_react","require","_unidriverJsdomReact","getElement","wrapper","dataHook","querySelector","testkitFactoryCreator","driverFactory","testkitArgs","element","eventTrigger","fireEvent","uniTestkitFactoryCreator","jsdomReactUniDriver","document","body"],"sources":["../../../src/testing-library/index.tsx"],"sourcesContent":["import { fireEvent } from '@testing-library/react';\nimport { UniDriver } from '@wix/unidriver-core';\nimport { jsdomReactUniDriver } from '@wix/unidriver-jsdom-react';\nimport { BaseDriver } from '../driver-factory';\nimport { BaseUniDriver } from '../base-driver';\n\nexport interface TestkitArgs {\n  wrapper: Element;\n  dataHook: string;\n}\n\nexport type TestkitOutputRegular<T extends BaseDriver> = (data: {\n  element: Element | undefined;\n  wrapper: Element;\n  eventTrigger: typeof fireEvent;\n  dataHook: string;\n}) => T;\n\nexport type TestkitOutputUni<T extends BaseUniDriver> = (\n  base: UniDriver,\n  body: UniDriver,\n  options: { dataHook: string },\n) => T;\n\nconst getElement = ({ wrapper, dataHook }: TestkitArgs) => {\n  return wrapper.querySelector(`[data-hook='${dataHook}']`) as Element;\n};\n\nexport function testkitFactoryCreator<T extends BaseDriver>(\n  driverFactory: TestkitOutputRegular<T>,\n) {\n  return (testkitArgs: TestkitArgs) =>\n    driverFactory({\n      element: getElement(testkitArgs),\n      wrapper: testkitArgs.wrapper,\n      eventTrigger: fireEvent,\n      dataHook: testkitArgs.dataHook,\n    });\n}\n\nexport function uniTestkitFactoryCreator<T extends BaseUniDriver>(\n  driverFactory: TestkitOutputUni<T>,\n) {\n  return (testkitArgs: TestkitArgs) => {\n    const element = getElement(testkitArgs);\n    return driverFactory(\n      jsdomReactUniDriver(element),\n      jsdomReactUniDriver(document.body),\n      { dataHook: testkitArgs.dataHook },\n    );\n  };\n}\n"],"mappings":";;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,oBAAA,GAAAD,OAAA;AAsBA,MAAME,UAAU,GAAGA,CAAC;EAAEC,OAAO;EAAEC;AAAsB,CAAC,KAAK;EACzD,OAAOD,OAAO,CAACE,aAAa,CAAC,eAAeD,QAAQ,IAAI,CAAC;AAC3D,CAAC;AAEM,SAASE,qBAAqBA,CACnCC,aAAsC,EACtC;EACA,OAAQC,WAAwB,IAC9BD,aAAa,CAAC;IACZE,OAAO,EAAEP,UAAU,CAACM,WAAW,CAAC;IAChCL,OAAO,EAAEK,WAAW,CAACL,OAAO;IAC5BO,YAAY,EAAEC,gBAAS;IACvBP,QAAQ,EAAEI,WAAW,CAACJ;EACxB,CAAC,CAAC;AACN;AAEO,SAASQ,wBAAwBA,CACtCL,aAAkC,EAClC;EACA,OAAQC,WAAwB,IAAK;IACnC,MAAMC,OAAO,GAAGP,UAAU,CAACM,WAAW,CAAC;IACvC,OAAOD,aAAa,CAClB,IAAAM,wCAAmB,EAACJ,OAAO,CAAC,EAC5B,IAAAI,wCAAmB,EAACC,QAAQ,CAACC,IAAI,CAAC,EAClC;MAAEX,QAAQ,EAAEI,WAAW,CAACJ;IAAS,CACnC,CAAC;EACH,CAAC;AACH","ignoreList":[]}