{"version":3,"sources":["../../../src/localdelivery-spi-v1-tpa-local-delivery-spi.universal.ts","../../../src/localdelivery-spi-v1-tpa-local-delivery-spi.http.ts"],"sourcesContent":["import { transformError as sdkTransformError } from '@wix/sdk-runtime/transform-error';\nimport {\n  renameKeysFromSDKRequestToRESTRequest,\n  renameKeysFromRESTResponseToSDKResponse,\n} from '@wix/sdk-runtime/rename-all-nested-keys';\nimport { HttpClient, NonNullablePaths } from '@wix/sdk-types';\nimport * as ambassadorWixLocaldeliverySpiV1Tpa from './localdelivery-spi-v1-tpa-local-delivery-spi.http.js';\nimport { transformSDKAddressToRESTAddress } from '@wix/sdk-runtime/transformations/address';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\n\nexport interface Tpa {}\n\nexport interface ListAccountIdsRequest {\n  /**\n   * Instance ID.\n   * @format GUID\n   */\n  instanceId: string;\n}\n\nexport interface ListAccountIdsResponse {\n  /** Account IDs. */\n  accountIds?: string[];\n}\n\nexport interface BusinessStatusRequest {\n  /**\n   * Instance ID.\n   * @format GUID\n   */\n  instanceId: string;\n  /** Account ID. */\n  accountId: string;\n}\n\nexport interface BusinessStatusResponse {\n  /** List of statue. */\n  status?: BusinessStatusWithLiterals;\n  /** The reason for the error in free text. */\n  failureReasonMessage?: string | null;\n}\n\n/** Business Status. */\nexport enum BusinessStatus {\n  NONE = 'NONE',\n  READY = 'READY',\n  PENDING = 'PENDING',\n  ERROR = 'ERROR',\n  NOT_STARTED = 'NOT_STARTED',\n}\n\n/** @enumType */\nexport type BusinessStatusWithLiterals =\n  | BusinessStatus\n  | 'NONE'\n  | 'READY'\n  | 'PENDING'\n  | 'ERROR'\n  | 'NOT_STARTED';\n\nexport interface EstimateDeliveryRequest\n  extends EstimateDeliveryRequestDispatchTimeOneOf {\n  /** Estimated pickup time. */\n  pickupTime?: Date | null;\n  /** Estimated dropoff time. */\n  dropoffTime?: Date | null;\n  /**\n   * Instance ID.\n   * @format GUID\n   */\n  instanceId: string;\n  /** Account ID. */\n  accountId: string;\n  /** Delivery pickup address. */\n  pickupAddress?: Address;\n  /** Delivery dropoff address. */\n  dropoffAddress?: Address;\n  /** Unique identifier of the specific store that the delivery is for. */\n  storeLocationId: string;\n  /** The subtotal for all items in the order, excluding tax/tip. */\n  orderTotal: Money;\n}\n\n/** @oneof */\nexport interface EstimateDeliveryRequestDispatchTimeOneOf {\n  /** Estimated pickup time. */\n  pickupTime?: Date | null;\n  /** Estimated dropoff time. */\n  dropoffTime?: Date | null;\n}\n\n/** Physical address */\nexport interface Address {\n  /**\n   * Country code.\n   * @format COUNTRY\n   */\n  country?: string;\n  /** Subdivision. Usually a state, region, prefecture, or province code, according to [ISO 3166-2](https://en.wikipedia.org/wiki/ISO_3166-2). */\n  subdivision?: string | null;\n  /** City name. */\n  city?: string;\n  /** Zip/postal code. */\n  postalCode?: string | null;\n  /** Street name and number. */\n  streetAddress?: StreetAddress;\n  /** Free text providing more detailed address info. Usually contains Apt, Suite, and Floor. */\n  addressLine2?: string | null;\n  /** Coordinates of the physical address. */\n  location?: AddressLocation;\n}\n\nexport interface StreetAddress {\n  /** Street number. */\n  number?: string;\n  /** Street name. */\n  name?: string;\n}\n\nexport interface AddressLocation {\n  /** Address latitude. */\n  latitude?: number | null;\n  /** Address longitude. */\n  longitude?: number | null;\n}\n\n/**\n * Money.\n * Default format to use. Sufficiently compliant with majority of standards: w3c, ISO 4217, ISO 20022, ISO 8583:2003.\n */\nexport interface Money {\n  /**\n   * Monetary amount. Decimal string with a period as a decimal separator (e.g., 3.99). Optionally, a single (-), to indicate that the amount is negative.\n   * @format DECIMAL_VALUE\n   */\n  value?: string;\n  /**\n   * Currency code. Must be valid ISO 4217 currency code (e.g., USD).\n   * @format CURRENCY\n   */\n  currency?: string;\n  /** Monetary amount. Decimal string in local format (e.g., 1 000,30). Optionally, a single (-), to indicate that the amount is negative. */\n  formattedValue?: string | null;\n}\n\nexport interface EstimateDeliveryResponse {\n  /** Optional. Used as reference to the estimate when creating a new order. */\n  _id?: string | null;\n  /** Amount that is charged for this delivery. */\n  fee?: Money;\n  /** Estimated pickup time. */\n  promisedPickupTime?: Date | null;\n  /** Estimated dropoff time. */\n  promisedDropoffTime?: Date | null;\n}\n\nexport interface CreateDeliveryRequest\n  extends CreateDeliveryRequestDispatchTimeOneOf {\n  /** The requested time at which the order should be picked up. */\n  pickupTime?: Date | null;\n  /** The requested time at which the order should be delivered. */\n  dropoffTime?: Date | null;\n  /**\n   * Instance ID.\n   * @format GUID\n   */\n  instanceId: string;\n  /** Account ID. */\n  accountId: string;\n  /** Unique identifier of the specific store that the delivery is for. */\n  storeLocationId: string;\n  /** The name of the business where the order should be picked up from. */\n  pickupBusinessName: string;\n  /** Estimate ID. */\n  estimateId?: string | null;\n  /** Delivery pickup address. */\n  pickupAddress: Address;\n  /** Delivery dropoff address. */\n  dropoffAddress: Address;\n  /** Phone number of the store where the order should be picked up from. */\n  pickupPhoneNumber: string;\n  /** Customer details. */\n  customer: Customer;\n  /** Instructions for the courier at the pickup location. */\n  pickupInstructions?: string | null;\n  /** Instructions for the courier at the dropoff location. */\n  dropoffInstructions?: string | null;\n  /** Is contactless delivery. */\n  contactlessDelivery?: boolean | null;\n  /** Order ID. */\n  orderId: string;\n  /** The subtotal for all items in the order, excluding tax/tip. */\n  orderTotal: Money;\n  /** Amount that will be paid to the courier. */\n  orderTip: Money;\n}\n\n/** @oneof */\nexport interface CreateDeliveryRequestDispatchTimeOneOf {\n  /** The requested time at which the order should be picked up. */\n  pickupTime?: Date | null;\n  /** The requested time at which the order should be delivered. */\n  dropoffTime?: Date | null;\n}\n\nexport interface Customer {\n  /** First name. */\n  firstName?: string;\n  /** Last name. */\n  lastName?: string;\n  /** Phone number. */\n  phoneNumber?: string;\n  /**\n   * Email address.\n   * @format EMAIL\n   */\n  email?: string;\n}\n\nexport interface CreateDeliveryResponse {\n  /** The vendor new order id */\n  _id?: string;\n  /** When a delivery is ready to be picked up. This is the start of the pickup window. */\n  pickupWindowStartTime?: Date | null;\n  /** When a delivery must be picked up by. This is the end of the pickup window. */\n  pickupWindowEndTime?: Date | null;\n  /** When a delivery is ready to be dropped off. This is the start of the dropoff window. */\n  dropoffWindowStartTime?: Date | null;\n  /** When a delivery must be dropped off by. This is the end of the dropoff window. */\n  dropoffWindowEndTime?: Date | null;\n  /** Amount that is charged for this delivery. */\n  fee?: Money;\n}\n\n/** @docsIgnore */\nexport type EstimateDeliveryApplicationErrors = {\n  code?: 'ESTIMATE_DELIVERY_REJECTED';\n  description?: string;\n  data?: Record<string, any>;\n};\n/** @docsIgnore */\nexport type CreateDeliveryApplicationErrors = {\n  code?: 'CREATE_DELIVERY_REJECTED';\n  description?: string;\n  data?: Record<string, any>;\n};\n\n/**\n * Retrieves list of account belongs to given instance\n * @param instanceId - Instance ID.\n * @public\n * @documentationMaturity preview\n * @requiredField instanceId\n * @permissionId WIX_RESTAURANTS.READ_LOCAL_DELIVERY\n * @applicableIdentity APP\n * @fqn com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.ListAccountIds\n */\nexport async function listAccountIds(\n  instanceId: string\n): Promise<NonNullablePaths<ListAccountIdsResponse, `accountIds`, 2>> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[1] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = renameKeysFromSDKRequestToRESTRequest({\n    instanceId: instanceId,\n  });\n\n  const reqOpts = ambassadorWixLocaldeliverySpiV1Tpa.listAccountIds(payload);\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: { instanceId: '$[0]' },\n        singleArgumentUnchanged: false,\n      },\n      ['instanceId']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n\n/**\n * Retrieves the delivery vendor business status\n * @param instanceId - Instance ID.\n * @public\n * @documentationMaturity preview\n * @requiredField instanceId\n * @requiredField options\n * @requiredField options.accountId\n * @permissionId WIX_RESTAURANTS.READ_LOCAL_DELIVERY\n * @applicableIdentity APP\n * @fqn com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.BusinessStatus\n */\nexport async function businessStatus(\n  instanceId: string,\n  options: NonNullablePaths<BusinessStatusOptions, `accountId`, 2>\n): Promise<NonNullablePaths<BusinessStatusResponse, `status`, 2>> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[2] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = renameKeysFromSDKRequestToRESTRequest({\n    instanceId: instanceId,\n    accountId: options?.accountId,\n  });\n\n  const reqOpts = ambassadorWixLocaldeliverySpiV1Tpa.businessStatus(payload);\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: {\n          instanceId: '$[0]',\n          accountId: '$[1].accountId',\n        },\n        singleArgumentUnchanged: false,\n      },\n      ['instanceId', 'options']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n\nexport interface BusinessStatusOptions {\n  /** Account ID. */\n  accountId: string;\n}\n\n/**\n * Retrieves an estimate of the delivery\n * @param instanceId - Instance ID.\n * @public\n * @documentationMaturity preview\n * @requiredField instanceId\n * @requiredField options.accountId\n * @requiredField options.dispatchTime\n * @requiredField options.orderTotal\n * @requiredField options.storeLocationId\n * @permissionId WIX_RESTAURANTS.READ_LOCAL_DELIVERY\n * @applicableIdentity APP\n * @fqn com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.EstimateDelivery\n */\nexport async function estimateDelivery(\n  instanceId: string,\n  options?: NonNullablePaths<\n    EstimateDeliveryOptions,\n    `accountId` | `orderTotal` | `storeLocationId`,\n    2\n  >\n): Promise<\n  NonNullablePaths<\n    EstimateDeliveryResponse,\n    `fee.value` | `fee.currency`,\n    3\n  > & {\n    __applicationErrorsType?: EstimateDeliveryApplicationErrors;\n  }\n> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[2] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = transformPaths(\n    renameKeysFromSDKRequestToRESTRequest({\n      instanceId: instanceId,\n      accountId: options?.accountId,\n      pickupAddress: options?.pickupAddress,\n      dropoffAddress: options?.dropoffAddress,\n      pickupTime: options?.pickupTime,\n      dropoffTime: options?.dropoffTime,\n      storeLocationId: options?.storeLocationId,\n      orderTotal: options?.orderTotal,\n    }),\n    [\n      {\n        transformFn: transformSDKAddressToRESTAddress,\n        paths: [{ path: 'pickupAddress' }, { path: 'dropoffAddress' }],\n      },\n    ]\n  );\n\n  const reqOpts = ambassadorWixLocaldeliverySpiV1Tpa.estimateDelivery(payload);\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: {\n          instanceId: '$[0]',\n          accountId: '$[1].accountId',\n          pickupAddress: '$[1].pickupAddress',\n          dropoffAddress: '$[1].dropoffAddress',\n          pickupTime: '$[1].pickupTime',\n          dropoffTime: '$[1].dropoffTime',\n          storeLocationId: '$[1].storeLocationId',\n          orderTotal: '$[1].orderTotal',\n        },\n        singleArgumentUnchanged: false,\n      },\n      ['instanceId', 'options']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n\nexport interface EstimateDeliveryOptions\n  extends EstimateDeliveryOptionsDispatchTimeOneOf {\n  /** Account ID. */\n  accountId: string;\n  /** Delivery pickup address. */\n  pickupAddress?: Address;\n  /** Delivery dropoff address. */\n  dropoffAddress?: Address;\n  /** Estimated pickup time. */\n  pickupTime?: Date | null;\n  /** Estimated dropoff time. */\n  dropoffTime?: Date | null;\n  /** Unique identifier of the specific store that the delivery is for. */\n  storeLocationId: string;\n  /** The subtotal for all items in the order, excluding tax/tip. */\n  orderTotal: Money;\n}\n\n/** @oneof */\nexport interface EstimateDeliveryOptionsDispatchTimeOneOf {\n  /** Estimated pickup time. */\n  pickupTime?: Date | null;\n  /** Estimated dropoff time. */\n  dropoffTime?: Date | null;\n}\n\n/**\n * Creates a new delivery order\n * @param instanceId - Instance ID.\n * @public\n * @documentationMaturity preview\n * @requiredField instanceId\n * @requiredField options.accountId\n * @requiredField options.customer\n * @requiredField options.customer.email\n * @requiredField options.customer.firstName\n * @requiredField options.customer.lastName\n * @requiredField options.customer.phoneNumber\n * @requiredField options.dispatchTime\n * @requiredField options.dropoffAddress\n * @requiredField options.orderId\n * @requiredField options.orderTip\n * @requiredField options.orderTotal\n * @requiredField options.pickupAddress\n * @requiredField options.pickupBusinessName\n * @requiredField options.pickupPhoneNumber\n * @requiredField options.storeLocationId\n * @permissionId WIX_RESTAURANTS.WRITE_LOCAL_DELIVERY\n * @applicableIdentity APP\n * @fqn com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.CreateDelivery\n */\nexport async function createDelivery(\n  instanceId: string,\n  options?: NonNullablePaths<\n    CreateDeliveryOptions,\n    | `accountId`\n    | `customer`\n    | `customer.email`\n    | `customer.firstName`\n    | `customer.lastName`\n    | `customer.phoneNumber`\n    | `dropoffAddress`\n    | `orderId`\n    | `orderTip`\n    | `orderTotal`\n    | `pickupAddress`\n    | `pickupBusinessName`\n    | `pickupPhoneNumber`\n    | `storeLocationId`,\n    3\n  >\n): Promise<\n  NonNullablePaths<\n    CreateDeliveryResponse,\n    `_id` | `fee.value` | `fee.currency`,\n    3\n  > & {\n    __applicationErrorsType?: CreateDeliveryApplicationErrors;\n  }\n> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[2] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = transformPaths(\n    renameKeysFromSDKRequestToRESTRequest({\n      instanceId: instanceId,\n      accountId: options?.accountId,\n      storeLocationId: options?.storeLocationId,\n      pickupBusinessName: options?.pickupBusinessName,\n      estimateId: options?.estimateId,\n      pickupTime: options?.pickupTime,\n      dropoffTime: options?.dropoffTime,\n      pickupAddress: options?.pickupAddress,\n      dropoffAddress: options?.dropoffAddress,\n      pickupPhoneNumber: options?.pickupPhoneNumber,\n      customer: options?.customer,\n      pickupInstructions: options?.pickupInstructions,\n      dropoffInstructions: options?.dropoffInstructions,\n      contactlessDelivery: options?.contactlessDelivery,\n      orderId: options?.orderId,\n      orderTotal: options?.orderTotal,\n      orderTip: options?.orderTip,\n    }),\n    [\n      {\n        transformFn: transformSDKAddressToRESTAddress,\n        paths: [{ path: 'pickupAddress' }, { path: 'dropoffAddress' }],\n      },\n    ]\n  );\n\n  const reqOpts = ambassadorWixLocaldeliverySpiV1Tpa.createDelivery(payload);\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: {\n          instanceId: '$[0]',\n          accountId: '$[1].accountId',\n          storeLocationId: '$[1].storeLocationId',\n          pickupBusinessName: '$[1].pickupBusinessName',\n          estimateId: '$[1].estimateId',\n          pickupTime: '$[1].pickupTime',\n          dropoffTime: '$[1].dropoffTime',\n          pickupAddress: '$[1].pickupAddress',\n          dropoffAddress: '$[1].dropoffAddress',\n          pickupPhoneNumber: '$[1].pickupPhoneNumber',\n          customer: '$[1].customer',\n          pickupInstructions: '$[1].pickupInstructions',\n          dropoffInstructions: '$[1].dropoffInstructions',\n          contactlessDelivery: '$[1].contactlessDelivery',\n          orderId: '$[1].orderId',\n          orderTotal: '$[1].orderTotal',\n          orderTip: '$[1].orderTip',\n        },\n        singleArgumentUnchanged: false,\n      },\n      ['instanceId', 'options']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n\nexport interface CreateDeliveryOptions\n  extends CreateDeliveryOptionsDispatchTimeOneOf {\n  /** Account ID. */\n  accountId: string;\n  /** Unique identifier of the specific store that the delivery is for. */\n  storeLocationId: string;\n  /** The name of the business where the order should be picked up from. */\n  pickupBusinessName: string;\n  /** Estimate ID. */\n  estimateId?: string | null;\n  /** The requested time at which the order should be picked up. */\n  pickupTime?: Date | null;\n  /** The requested time at which the order should be delivered. */\n  dropoffTime?: Date | null;\n  /** Delivery pickup address. */\n  pickupAddress: Address;\n  /** Delivery dropoff address. */\n  dropoffAddress: Address;\n  /** Phone number of the store where the order should be picked up from. */\n  pickupPhoneNumber: string;\n  /** Customer details. */\n  customer: Customer;\n  /** Instructions for the courier at the pickup location. */\n  pickupInstructions?: string | null;\n  /** Instructions for the courier at the dropoff location. */\n  dropoffInstructions?: string | null;\n  /** Is contactless delivery. */\n  contactlessDelivery?: boolean | null;\n  /** Order ID. */\n  orderId: string;\n  /** The subtotal for all items in the order, excluding tax/tip. */\n  orderTotal: Money;\n  /** Amount that will be paid to the courier. */\n  orderTip: Money;\n}\n\n/** @oneof */\nexport interface CreateDeliveryOptionsDispatchTimeOneOf {\n  /** The requested time at which the order should be picked up. */\n  pickupTime?: Date | null;\n  /** The requested time at which the order should be delivered. */\n  dropoffTime?: Date | null;\n}\n","import { transformSDKFloatToRESTFloat } from '@wix/sdk-runtime/transformations/float';\nimport { transformSDKTimestampToRESTTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformRESTTimestampToSDKTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\nimport { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveComWixpressLocaldeliverySpiV1LocalDeliveryProviderUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {};\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_restaurants_local-delivery-spi';\n\n/** Retrieves list of account belongs to given instance */\nexport function listAccountIds(payload: object): RequestOptionsFactory<any> {\n  function __listAccountIds({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.localdelivery.spi.v1.tpa',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.ListAccountIds',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveComWixpressLocaldeliverySpiV1LocalDeliveryProviderUrl({\n        protoPath: '/account-ids',\n        data: payload,\n        host,\n      }),\n      data: payload,\n    };\n\n    return metadata;\n  }\n\n  return __listAccountIds;\n}\n\n/** Retrieves the delivery vendor business status */\nexport function businessStatus(payload: object): RequestOptionsFactory<any> {\n  function __businessStatus({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.localdelivery.spi.v1.tpa',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.BusinessStatus',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveComWixpressLocaldeliverySpiV1LocalDeliveryProviderUrl({\n        protoPath: '/business-status',\n        data: payload,\n        host,\n      }),\n      data: payload,\n    };\n\n    return metadata;\n  }\n\n  return __businessStatus;\n}\n\n/** Retrieves an estimate of the delivery */\nexport function estimateDelivery(payload: object): RequestOptionsFactory<any> {\n  function __estimateDelivery({ host }: any) {\n    const serializedData = transformPaths(payload, [\n      {\n        transformFn: transformSDKTimestampToRESTTimestamp,\n        paths: [{ path: 'pickupTime' }, { path: 'dropoffTime' }],\n      },\n      {\n        transformFn: transformSDKFloatToRESTFloat,\n        paths: [\n          { path: 'pickupAddress.geocode.latitude' },\n          { path: 'pickupAddress.geocode.longitude' },\n          { path: 'dropoffAddress.geocode.latitude' },\n          { path: 'dropoffAddress.geocode.longitude' },\n        ],\n      },\n    ]);\n    const metadata = {\n      entityFqdn: 'wix.localdelivery.spi.v1.tpa',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.EstimateDelivery',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveComWixpressLocaldeliverySpiV1LocalDeliveryProviderUrl({\n        protoPath: '/estimate-delivery',\n        data: serializedData,\n        host,\n      }),\n      data: serializedData,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'promisedPickupTime' },\n              { path: 'promisedDropoffTime' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __estimateDelivery;\n}\n\n/** Creates a new delivery order */\nexport function createDelivery(payload: object): RequestOptionsFactory<any> {\n  function __createDelivery({ host }: any) {\n    const serializedData = transformPaths(payload, [\n      {\n        transformFn: transformSDKTimestampToRESTTimestamp,\n        paths: [{ path: 'pickupTime' }, { path: 'dropoffTime' }],\n      },\n      {\n        transformFn: transformSDKFloatToRESTFloat,\n        paths: [\n          { path: 'pickupAddress.geocode.latitude' },\n          { path: 'pickupAddress.geocode.longitude' },\n          { path: 'dropoffAddress.geocode.latitude' },\n          { path: 'dropoffAddress.geocode.longitude' },\n        ],\n      },\n    ]);\n    const metadata = {\n      entityFqdn: 'wix.localdelivery.spi.v1.tpa',\n      method: 'POST' as any,\n      methodFqn:\n        'com.wixpress.localdelivery.spi.v1.LocalDeliveryProvider.CreateDelivery',\n      packageName: PACKAGE_NAME,\n      migrationOptions: {\n        optInTransformResponse: true,\n      },\n      url: resolveComWixpressLocaldeliverySpiV1LocalDeliveryProviderUrl({\n        protoPath: '/create-delivery',\n        data: serializedData,\n        host,\n      }),\n      data: serializedData,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'pickupWindowStartTime' },\n              { path: 'pickupWindowEndTime' },\n              { path: 'dropoffWindowStartTime' },\n              { path: 'dropoffWindowEndTime' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __createDelivery;\n}\n"],"mappings":"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","names":["payload","transformPaths","BusinessStatus","listAccountIds","businessStatus","estimateDelivery","createDelivery"]}