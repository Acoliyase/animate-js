{"version":3,"sources":["../../../src/payments-refunds-v1-refund-refunds.http.ts","../../../src/payments-refunds-v1-refund-refunds.meta.ts"],"sourcesContent":["import { toURLSearchParams } from '@wix/sdk-runtime/rest-modules';\nimport { transformSDKTimestampToRESTTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformRESTTimestampToSDKTimestamp } from '@wix/sdk-runtime/transformations/timestamp';\nimport { transformPaths } from '@wix/sdk-runtime/transformations/transform-paths';\nimport { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveWixPaymentsRefundsV1RefundServiceUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {\n    'manage._base_domain_': [\n      {\n        srcPath: '/_api/payments/refunds/v1',\n        destPath: '/v1',\n      },\n    ],\n    'www.wixapis.com': [\n      {\n        srcPath: '/payments/refunds/v1/refunds',\n        destPath: '/v1/refunds',\n      },\n    ],\n    '*.dev.wix-code.com': [\n      {\n        srcPath: '/payments/refunds/v1/refunds',\n        destPath: '/v1/refunds',\n      },\n    ],\n    _: [\n      {\n        srcPath: '/payments/refunds/v1/refunds',\n        destPath: '/v1/refunds',\n      },\n    ],\n  };\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_payments_refunds';\n\n/**\n * Creates a refund.\n *\n * The refunding process starts immediately after a refund entity is created.\n *\n * If you specify an `amount`, you must also specify a `currency_code`. This currency should be the same as the currency of the charge.\n * If `amount` and `currency_code` are not specified, the refund is created for the full charge amount. If the charge was already partially refunded, this refund will fail.\n */\nexport function createRefund(payload: object): RequestOptionsFactory<any> {\n  function __createRefund({ host }: any) {\n    const serializedData = transformPaths(payload, [\n      {\n        transformFn: transformSDKTimestampToRESTTimestamp,\n        paths: [{ path: 'refund.createdDate' }, { path: 'refund.updatedDate' }],\n      },\n    ]);\n    const metadata = {\n      entityFqdn: 'wix.payments.refunds.v1.refund',\n      method: 'POST' as any,\n      methodFqn: 'wix.payments.refunds.v1.RefundService.CreateRefund',\n      packageName: PACKAGE_NAME,\n      url: resolveWixPaymentsRefundsV1RefundServiceUrl({\n        protoPath: '/v1/refunds',\n        data: serializedData,\n        host,\n      }),\n      data: serializedData,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'refund.createdDate' },\n              { path: 'refund.updatedDate' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __createRefund;\n}\n\n/** Retrieves a refund. */\nexport function getRefund(payload: object): RequestOptionsFactory<any> {\n  function __getRefund({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.payments.refunds.v1.refund',\n      method: 'GET' as any,\n      methodFqn: 'wix.payments.refunds.v1.RefundService.GetRefund',\n      packageName: PACKAGE_NAME,\n      url: resolveWixPaymentsRefundsV1RefundServiceUrl({\n        protoPath: '/v1/refunds/{refundId}',\n        data: payload,\n        host,\n      }),\n      params: toURLSearchParams(payload),\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'refund.createdDate' },\n              { path: 'refund.updatedDate' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __getRefund;\n}\n\n/**\n * Creates a query to retrieve a list of refunds.\n *\n *\n * The `queryRefunds()` method builds a query to retrieve a list of refunds and returns a [RefundsQueryBuilder](https://dev.wix.com/docs/sdk/backend-modules/payments/refunds/refunds-query-builder/ascending) object.\n *\n * The returned object contains the query definition which is typically used to run the query using the [`find()`](https://dev.wix.com/docs/sdk/backend-modules/payments/refunds/refunds-query-builder/find) method.\n *\n * You can refine the query by chaining `RefundsQueryBuilder` methods onto the query. `RefundsQueryBuilder` methods enable you to sort, filter, and control the results that `queryRefunds.find()` returns.\n *\n * The query runs with the following `RefundsQueryBuilder` defaults that you can override:\n *\n * - [`skipTo(0)`](https://dev.wix.com/docs/sdk/backend-modules/payments/refunds/refunds-query-builder/skip-to)\n * - [`limit(50)`](https://dev.wix.com/docs/sdk/backend-modules/payments/refunds/refunds-query-builder/limit)\n * - [`descending(\"_createdDate\")`](https://dev.wix.com/docs/sdk/backend-modules/payments/refunds/refunds-query-builder/descending)\n *\n * The methods that are chained to `queryRefunds()` are applied in the order they are called.\n *\n * The table below shows which `RefundsQueryBuilder` methods are supported for `queryRefunds()`. You can only use one filter method for each property. Only the first filter will work if a property is used in more than one filter.\n */\nexport function queryRefunds(payload: object): RequestOptionsFactory<any> {\n  function __queryRefunds({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.payments.refunds.v1.refund',\n      method: 'POST' as any,\n      methodFqn: 'wix.payments.refunds.v1.RefundService.QueryRefunds',\n      packageName: PACKAGE_NAME,\n      url: resolveWixPaymentsRefundsV1RefundServiceUrl({\n        protoPath: '/v1/refunds/query',\n        data: payload,\n        host,\n      }),\n      data: payload,\n      transformResponse: (payload: any) =>\n        transformPaths(payload, [\n          {\n            transformFn: transformRESTTimestampToSDKTimestamp,\n            paths: [\n              { path: 'refunds.createdDate' },\n              { path: 'refunds.updatedDate' },\n            ],\n          },\n        ]),\n    };\n\n    return metadata;\n  }\n\n  return __queryRefunds;\n}\n","import * as ambassadorWixPaymentsRefundsV1Refund from './payments-refunds-v1-refund-refunds.http.js';\nimport * as ambassadorWixPaymentsRefundsV1RefundTypes from './payments-refunds-v1-refund-refunds.types.js';\nimport * as ambassadorWixPaymentsRefundsV1RefundUniversalTypes from './payments-refunds-v1-refund-refunds.universal.js';\n\nexport type __PublicMethodMetaInfo<\n  K = string,\n  M = unknown,\n  T = unknown,\n  S = unknown,\n  Q = unknown,\n  R = unknown\n> = {\n  getUrl: (context: any) => string;\n  httpMethod: K;\n  path: string;\n  pathParams: M;\n  __requestType: T;\n  __originalRequestType: S;\n  __responseType: Q;\n  __originalResponseType: R;\n};\n\nexport function createRefund(): __PublicMethodMetaInfo<\n  'POST',\n  {},\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.CreateRefundRequest,\n  ambassadorWixPaymentsRefundsV1RefundTypes.CreateRefundRequest,\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.CreateRefundResponse,\n  ambassadorWixPaymentsRefundsV1RefundTypes.CreateRefundResponse\n> {\n  const payload = {} as any;\n\n  const getRequestOptions =\n    ambassadorWixPaymentsRefundsV1Refund.createRefund(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'POST',\n    path: '/v1/refunds',\n    pathParams: {},\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n\nexport function getRefund(): __PublicMethodMetaInfo<\n  'GET',\n  { refundId: string },\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.GetRefundRequest,\n  ambassadorWixPaymentsRefundsV1RefundTypes.GetRefundRequest,\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.GetRefundResponse,\n  ambassadorWixPaymentsRefundsV1RefundTypes.GetRefundResponse\n> {\n  const payload = { refundId: ':refundId' } as any;\n\n  const getRequestOptions =\n    ambassadorWixPaymentsRefundsV1Refund.getRefund(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'GET',\n    path: '/v1/refunds/{refundId}',\n    pathParams: { refundId: 'refundId' },\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n\nexport function queryRefunds(): __PublicMethodMetaInfo<\n  'POST',\n  {},\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.QueryRefundsRequest,\n  ambassadorWixPaymentsRefundsV1RefundTypes.QueryRefundsRequest,\n  ambassadorWixPaymentsRefundsV1RefundUniversalTypes.QueryRefundsResponse,\n  ambassadorWixPaymentsRefundsV1RefundTypes.QueryRefundsResponse\n> {\n  const payload = {} as any;\n\n  const getRequestOptions =\n    ambassadorWixPaymentsRefundsV1Refund.queryRefunds(payload);\n\n  const getUrl = (context: any): string => {\n    const { url } = getRequestOptions(context);\n    return url!;\n  };\n\n  return {\n    getUrl,\n    httpMethod: 'POST',\n    path: '/v1/refunds/query',\n    pathParams: {},\n    __requestType: null as any,\n    __originalRequestType: null as any,\n    __responseType: null as any,\n    __originalResponseType: null as any,\n  };\n}\n"],"mappings":"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","names":["payload","createRefund","getRefund","queryRefunds"]}