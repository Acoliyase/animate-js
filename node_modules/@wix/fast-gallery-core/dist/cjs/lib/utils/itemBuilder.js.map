{"version":3,"names":["_serialize","require","_types","_commonUtils","getContentCss","infoPosition","contentItemsAlignment","isFlexDirRow","includes","flexDirectionMap","ABOVE","BELOW","LEFT","RIGHT","ON_IMAGE","justifyContent","alignItems","flexDirection","position","textAlign","width","color","top","left","transform","getMediaCss","imageFit","height","ImageFit","crop","objectFit","getDetailsCss","buildItemStyles","styles","contentRule","serializeStyles","mediaRule","detailsRule","cssStringToBuilderReturnType","exports"],"sources":["../../../../src/lib/utils/itemBuilder.ts"],"sourcesContent":["import { serializeStyles, CSSInterpolation } from '@emotion/serialize';\nimport {\n  BuilderReturnType,\n  ImageFit,\n  ItemInfoPosition,\n  ItemStyles,\n} from '../types';\nimport { cssStringToBuilderReturnType } from './commonUtils';\nimport { Property } from 'csstype';\n\nconst getContentCss = (\n  infoPosition: ItemInfoPosition | string,\n  // enableTitle: boolean,\n  contentItemsAlignment: Property.JustifyContent,\n): CSSInterpolation => {\n  const isFlexDirRow = ['LEFT', 'RIGHT', 'ON_IMAGE'].includes(infoPosition);\n\n  const flexDirectionMap: Record<string, Property.FlexDirection> = {\n    ABOVE: 'column-reverse',\n    BELOW: 'column',\n    LEFT: 'row-reverse',\n    RIGHT: 'row',\n    ON_IMAGE: 'row',\n  };\n\n  return {\n    '.content': {\n      justifyContent: isFlexDirRow ? 'center' : contentItemsAlignment,\n      alignItems: isFlexDirRow ? contentItemsAlignment : 'center',\n      flexDirection: flexDirectionMap[infoPosition] || 'column',\n    },\n    '.info': {\n      // display: enableTitle ? 'block' : 'none',\n    },\n    ...(infoPosition === 'ON_IMAGE'\n      ? {\n          '.content .info, .content .counter': {\n            position: 'absolute',\n            textAlign: 'center',\n            width: '100%',\n            color: '#000000',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n          },\n        }\n      : {}),\n  };\n};\n\nconst getMediaCss = (\n  imageFit: ImageFit, // fix type\n): CSSInterpolation => {\n  return {\n    '.media': {\n      height: imageFit === ImageFit.crop ? '100%' : 'auto',\n    },\n    '.image': {\n      objectFit: imageFit === ImageFit.crop ? 'cover' : 'contain',\n    },\n  };\n};\n\nconst getDetailsCss = (\n  infoPosition: ItemInfoPosition | string,\n): CSSInterpolation => {\n  if (infoPosition === 'ON_IMAGE') {\n    return {\n      '.details': {\n        position: 'absolute',\n        height: '100%',\n      },\n    };\n  } else {\n    return {};\n  }\n};\n\nexport const buildItemStyles = (styles: ItemStyles = {}): BuilderReturnType => {\n  const {\n    infoPosition = 'ABOVE',\n    // enableTitle = true,\n    imageFit = ImageFit.crop,\n    contentItemsAlignment = 'flex-start',\n  } = {\n    ...styles,\n  };\n\n\n  const contentRule = serializeStyles([\n    getContentCss(infoPosition, contentItemsAlignment),\n  ]).styles;\n  const mediaRule = serializeStyles([getMediaCss(imageFit)]).styles;\n  const detailsRule = serializeStyles([getDetailsCss(infoPosition)]).styles;\n\n  return cssStringToBuilderReturnType(\n    contentRule + mediaRule + detailsRule,\n  );\n};\n"],"mappings":";;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAMA,IAAAE,YAAA,GAAAF,OAAA;AAGA,MAAMG,aAAa,GAAGA,CACpBC,YAAuC,EAEvCC,qBAA8C,KACzB;EACrB,MAAMC,YAAY,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC,CAACC,QAAQ,CAACH,YAAY,CAAC;EAEzE,MAAMI,gBAAwD,GAAG;IAC/DC,KAAK,EAAE,gBAAgB;IACvBC,KAAK,EAAE,QAAQ;IACfC,IAAI,EAAE,aAAa;IACnBC,KAAK,EAAE,KAAK;IACZC,QAAQ,EAAE;EACZ,CAAC;EAED,OAAO;IACL,UAAU,EAAE;MACVC,cAAc,EAAER,YAAY,GAAG,QAAQ,GAAGD,qBAAqB;MAC/DU,UAAU,EAAET,YAAY,GAAGD,qBAAqB,GAAG,QAAQ;MAC3DW,aAAa,EAAER,gBAAgB,CAACJ,YAAY,CAAC,IAAI;IACnD,CAAC;IACD,OAAO,EAAE;MACP;IAAA,CACD;IACD,IAAIA,YAAY,KAAK,UAAU,GAC3B;MACE,mCAAmC,EAAE;QACnCa,QAAQ,EAAE,UAAU;QACpBC,SAAS,EAAE,QAAQ;QACnBC,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE,SAAS;QAChBC,GAAG,EAAE,KAAK;QACVC,IAAI,EAAE,KAAK;QACXC,SAAS,EAAE;MACb;IACF,CAAC,GACD,CAAC,CAAC;EACR,CAAC;AACH,CAAC;AAED,MAAMC,WAAW,GAAGA,CAClBC,QAAkB,CAAE;AAAA,KACC;EACrB,OAAO;IACL,QAAQ,EAAE;MACRC,MAAM,EAAED,QAAQ,KAAKE,eAAQ,CAACC,IAAI,GAAG,MAAM,GAAG;IAChD,CAAC;IACD,QAAQ,EAAE;MACRC,SAAS,EAAEJ,QAAQ,KAAKE,eAAQ,CAACC,IAAI,GAAG,OAAO,GAAG;IACpD;EACF,CAAC;AACH,CAAC;AAED,MAAME,aAAa,GACjB1B,YAAuC,IAClB;EACrB,IAAIA,YAAY,KAAK,UAAU,EAAE;IAC/B,OAAO;MACL,UAAU,EAAE;QACVa,QAAQ,EAAE,UAAU;QACpBS,MAAM,EAAE;MACV;IACF,CAAC;EACH,CAAC,MAAM;IACL,OAAO,CAAC,CAAC;EACX;AACF,CAAC;AAEM,MAAMK,eAAe,GAAGA,CAACC,MAAkB,GAAG,CAAC,CAAC,KAAwB;EAC7E,MAAM;IACJ5B,YAAY,GAAG,OAAO;IACtB;IACAqB,QAAQ,GAAGE,eAAQ,CAACC,IAAI;IACxBvB,qBAAqB,GAAG;EAC1B,CAAC,GAAG;IACF,GAAG2B;EACL,CAAC;EAGD,MAAMC,WAAW,GAAG,IAAAC,0BAAe,EAAC,CAClC/B,aAAa,CAACC,YAAY,EAAEC,qBAAqB,CAAC,CACnD,CAAC,CAAC2B,MAAM;EACT,MAAMG,SAAS,GAAG,IAAAD,0BAAe,EAAC,CAACV,WAAW,CAACC,QAAQ,CAAC,CAAC,CAAC,CAACO,MAAM;EACjE,MAAMI,WAAW,GAAG,IAAAF,0BAAe,EAAC,CAACJ,aAAa,CAAC1B,YAAY,CAAC,CAAC,CAAC,CAAC4B,MAAM;EAEzE,OAAO,IAAAK,yCAA4B,EACjCJ,WAAW,GAAGE,SAAS,GAAGC,WAC5B,CAAC;AACH,CAAC;AAACE,OAAA,CAAAP,eAAA,GAAAA,eAAA","ignoreList":[]}