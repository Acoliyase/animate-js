import React from 'react';
import Badge from '.';
import { SKIN, TYPE, SIZE } from './Badge.constants';
import { createRendererWithUniDriver, cleanup } from '../utils/test-utils/unit';
import { badgeUniDriverFactory } from './Badge.uni.driver';
describe('Badge', () => {
    const render = createRendererWithUniDriver(badgeUniDriverFactory);
    const createDriver = (jsx) => render(jsx).driver;
    afterEach(() => cleanup());
    describe('type prop', () => {
        it('should be solid by default', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.getType()).toBe(TYPE.solid);
        });
        Object.keys(TYPE).forEach(type => {
            it(`should be ${type}`, async () => {
                const driver = createDriver(React.createElement(Badge, { type: type }, "Hello"));
                expect(await driver.getType()).toBe(type);
            });
        });
        it('should use default value when value is provided as undefined', async () => {
            const driver = createDriver(React.createElement(Badge, { type: undefined }, "Hello"));
            expect(await driver.getType()).toBe(TYPE.solid);
        });
    });
    describe('skin prop', () => {
        it('should be general by default', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.getSkin()).toBe(SKIN.general);
        });
        Object.keys(SKIN).forEach(skin => {
            it(`should be ${skin}`, async () => {
                const driver = createDriver(React.createElement(Badge, { skin: skin }, "Hello"));
                expect(await driver.getSkin()).toBe(skin);
            });
        });
    });
    describe('uppercase prop', () => {
        it('should be uppercase by default', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.isUppercase()).toBe(true);
        });
        it('should be free-case when value is false', async () => {
            const driver = createDriver(React.createElement(Badge, { uppercase: false }, "Hello"));
            expect(await driver.isUppercase()).toBe(false);
        });
    });
    describe('size prop', () => {
        it('should be medium by default', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.getSize()).toBe(SIZE.medium);
        });
        Object.keys(SIZE).forEach(size => {
            it(`should be ${size}`, async () => {
                const driver = createDriver(React.createElement(Badge, { size: size }, "Hello"));
                expect(await driver.getSize()).toBe(size);
            });
        });
    });
    describe('onClick prop', () => {
        it('cursor should be default when no onClick', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.hasClickCursor()).toBe(false);
        });
        it('cursor should be pointer when onClick set', async () => {
            const driver = createDriver(React.createElement(Badge, { onClick: (e) => e }, "Hello"));
            expect(await driver.hasClickCursor()).toBe(true);
        });
        it('should call event handler on badge click', async () => {
            const handler = jest.fn();
            const driver = createDriver(React.createElement(Badge, { onClick: () => handler() }, "Hello"));
            await driver.click();
            expect(handler).toHaveBeenCalled();
        });
    });
    describe('children prop', () => {
        it('should render the text given as a children prop', async () => {
            const driver = createDriver(React.createElement(Badge, null, "Hello"));
            expect(await driver.text()).toBe('Hello');
        });
    });
});
//# sourceMappingURL=Badge.spec.js.map