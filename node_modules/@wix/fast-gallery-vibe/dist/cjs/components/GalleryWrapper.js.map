{"version":3,"names":["React","_interopRequireWildcard","require","_fastGalleryCore","_clsx","_variants","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","GalleryWrapper","exports","forwardRef","props","ref","items","variant","className","itemRenderer","emptyState","children","otherProps","hasItems","length","convertItemToGalleryItem","useCallback","item","index","id","_id","toString","mediaUrl","type","MediaTypes","IMAGE","metaData","width","height","title","description","alt","link","url","target","galleryItems","useMemo","map","ItemRendererComponent","Component","itemProps","originalItem","parseInt","data","rendered","createElement","Fragment","process","env","NODE_ENV","console","warn","customRenderers","finalClassName","clsx","galleryVariants","_extends2","__self","__source","fileName","lineNumber","columnNumber","Gallery","dataList","options","displayName"],"sources":["../../../src/components/GalleryWrapper.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  Gallery,\n  MediaTypes,\n  ItemContentData,\n  BaseMetaDataType,\n} from '@wix/fast-gallery-core';\nimport { clsx } from 'clsx';\nimport { galleryVariants } from './variants.js';\nimport type { GalleryWrapperProps, BaseItem } from './types.js';\nimport type { ItemRendererProps } from '@wix/fast-gallery-core';\nimport './gallery.css';\n\nexport const GalleryWrapper = React.forwardRef<\n  HTMLDivElement,\n  GalleryWrapperProps<BaseItem>\n>((props, ref) => {\n  const {\n    items = [],\n    variant = 'grid',\n    className,\n    itemRenderer,\n    emptyState,\n    children,\n    ...otherProps\n  } = props;\n\n  const hasItems = items.length > 0;\n\n  // Convert items to gallery format\n  const convertItemToGalleryItem = React.useCallback(\n    (item: BaseItem, index: number): ItemContentData<BaseMetaDataType> => {\n      return {\n        id: item.id || item._id || `item-${index}`,\n        index: index.toString(),\n        mediaUrl: '',\n        type: MediaTypes.IMAGE,\n        metaData: {\n          width: 1, // Minimal value for fast-gallery-core layout calculations\n          height: 1, // Minimal value for fast-gallery-core layout calculations\n          title: '',\n          description: '',\n          alt: '',\n          link: { url: '', target: '_self' },\n        },\n      };\n    },\n    []\n  );\n\n  const galleryItems = React.useMemo(\n    () => items.map((item, index) => convertItemToGalleryItem(item, index)),\n    [items, convertItemToGalleryItem]\n  );\n\n  // Create custom item renderer component\n  const ItemRendererComponent = React.useMemo(() => {\n    const Component: React.FC<ItemRendererProps> = (itemProps) => {\n      if (itemRenderer) {\n        const originalItem = items[parseInt(itemProps.data.index, 10)];\n        if (originalItem) {\n          const rendered = itemRenderer(\n            originalItem,\n            parseInt(itemProps.data.index, 10)\n          );\n          return <>{rendered}</>;\n        }\n      }\n\n      // Development warning if no itemRenderer is provided\n      if (process.env.NODE_ENV === 'development' && !itemRenderer) {\n        console.warn(\n          'GalleryWrapper: No itemRenderer provided. Gallery will render empty items. ' +\n            'Please provide an itemRenderer prop to render your content.'\n        );\n      }\n\n      return null;\n    };\n    return Component;\n  }, [itemRenderer, items]);\n\n  const customRenderers = React.useMemo(\n    () => ({\n      itemRenderer: ItemRendererComponent,\n    }),\n    [ItemRendererComponent]\n  );\n\n  const finalClassName = clsx(galleryVariants({ variant }), className);\n\n  // Show empty state if no items\n  if (!hasItems) {\n    return (emptyState as React.ReactElement) || null;\n  }\n\n  return (\n    <div\n      ref={ref}\n      className={finalClassName}\n      data-gallery-variant={variant}\n      {...otherProps}\n    >\n      <Gallery\n        dataList={galleryItems}\n        customRenderers={customRenderers}\n        options={{}}\n      />\n      {children}\n    </div>\n  );\n});\n\nGalleryWrapper.displayName = 'GalleryWrapper';\n"],"mappings":"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","ignoreList":[]}