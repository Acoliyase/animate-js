import { jsx as _jsx, Fragment as _Fragment } from "react/jsx-runtime";
import React from 'react';
import { AsChildSlot } from '@wix/headless-utils/react';
import { TestIds } from './TestIds.js';
import { CoreModifierGroup, ModifierGroupName, useModifierGroupContext, } from './core/index.js';
import * as ModifierComponent from './Modifier.js';
export const Root = (props) => {
    if (!props.modifierGroup) {
        return null;
    }
    return (_jsx(CoreModifierGroup, { modifierGroup: props.modifierGroup, children: props.children }));
};
/**
 * Displays the modifier group name with customizable rendering following the documented API.
 *
 * @component
 * @example
 * ```tsx
 * // Default usage
 * <ModifierGroup.Name className="text-sm font-medium" />
 *
 * // asChild with primitive
 * <ModifierGroup.Name asChild>
 *   <h4 className="text-sm font-medium" />
 * </ModifierGroup.Name>
 *
 * // asChild with react component
 * <ModifierGroup.Name asChild>
 *   {React.forwardRef(({name, ...props}, ref) => (
 *     <h4 ref={ref} {...props} className="text-sm font-medium">
 *       {name}
 *     </h4>
 *   ))}
 * </ModifierGroup.Name>
 * ```
 */
export const Name = React.forwardRef((props, ref) => {
    const { asChild, children, className, ...otherProps } = props;
    return (_jsx(ModifierGroupName, { children: ({ name }) => {
            return (_jsx(AsChildSlot, { ref: ref, asChild: asChild, className: className, "data-testid": TestIds.modifierGroupName, customElement: children, customElementProps: { name }, content: name, ...otherProps, children: _jsx("p", { children: name }) }));
        } }));
});
Name.displayName = 'ModifierGroup.Name';
export const ModifiersRepeater = (props) => {
    const { children } = props;
    const { modifierGroup } = useModifierGroupContext();
    const hasModifiers = !!(modifierGroup.modifiers && modifierGroup.modifiers.length > 0);
    if (!hasModifiers) {
        return null;
    }
    const modifierGroupModifiers = modifierGroup.modifiers;
    return (_jsx(_Fragment, { children: modifierGroupModifiers.map((modifier) => (_jsx(ModifierComponent.Root, { modifier: modifier, children: children }, modifier._id))) }));
};
ModifiersRepeater.displayName = 'ModifierGroup.ModifiersRepeater';
/**
 * ModifierGroup namespace containing all modifier group components
 * following the compound component pattern: ModifierGroupComponent.Root, ModifierGroupComponent.Name, ModifierGroupComponent.ModifiersRepeater
 */
export const ModifierGroupComponent = {
    /** ModifierGroup root component */
    Root,
    /** ModifierGroup name component */
    Name,
    /** ModifierGroup modifiers repeater component */
    ModifiersRepeater,
};
