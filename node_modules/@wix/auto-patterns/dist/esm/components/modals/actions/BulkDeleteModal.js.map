{"version":3,"names":["Box","CustomModalLayout","Modal","Text","React","BulkDeleteModal","_ref","_modalParams$title","_modalParams$actions","_modalParams$actions2","_modalParams$descript","sdk","modalParams","actionParams","getOptimisticActions","collectionId","closeModal","optimisticActions","createElement","isOpen","onRequestClose","title","text","theme","onCloseButtonClick","primaryButtonOnClick","_modalParams$feedback","schema","getSchema","Error","selectedIds","selectedValues","map","value","idField","deleteMany","successToast","feedback","errorToast","_modalParams$feedback2","submit","result","actions","bulkDelete","secondaryButtonOnClick","primaryButtonText","secondaryButtonText","cancel","content","direction","width","gap","paddingTop","paddingBottom","description"],"sources":["../../../../../src/components/modals/actions/BulkDeleteModal.tsx"],"sourcesContent":["import { Box, CustomModalLayout, Modal, Text } from '@wix/design-system';\nimport React from 'react';\nimport { BulkActionsActionParams, BulkDeleteActionModal } from '../../../types';\nimport { ActionModalProps } from './types';\n\nexport interface BulkDeleteModalProps extends ActionModalProps {\n  modalParams: BulkDeleteActionModal;\n  actionParams: BulkActionsActionParams;\n}\n\nexport const BulkDeleteModal = ({\n  sdk,\n  modalParams,\n  actionParams,\n}: BulkDeleteModalProps) => {\n  const { getOptimisticActions, collectionId, closeModal } = sdk;\n  const optimisticActions = getOptimisticActions(collectionId);\n\n  return (\n    <Modal isOpen onRequestClose={closeModal}>\n      <CustomModalLayout\n        title={modalParams.title?.text || 'Delete item?'}\n        theme=\"destructive\"\n        onCloseButtonClick={() => {\n          closeModal();\n        }}\n        primaryButtonOnClick={() => {\n          const schema = sdk.getSchema(sdk.collectionId);\n          if (!schema) {\n            throw new Error('Schema not found');\n          }\n          const selectedIds = actionParams.selectedValues.map(\n            (value) => value[schema.idField],\n          );\n          optimisticActions?.deleteMany(actionParams.selectedValues, {\n            successToast:\n              modalParams.feedback?.successToast?.text ||\n              'Items deleted successfully',\n            errorToast: () =>\n              modalParams.feedback?.errorToast?.text ||\n              'Failed to delete items',\n            submit: async () => {\n              const result = await schema.actions.bulkDelete(selectedIds);\n              return [result];\n            },\n          });\n          closeModal();\n        }}\n        secondaryButtonOnClick={() => {\n          closeModal();\n        }}\n        primaryButtonText={modalParams.actions?.submit?.text || 'Save'}\n        secondaryButtonText={modalParams.actions?.cancel?.text || 'Cancel'}\n        content={\n          <Box\n            direction=\"vertical\"\n            width=\"552px\"\n            gap=\"SP2\"\n            paddingTop=\"SP1\"\n            paddingBottom=\"SP1\"\n          >\n            <Box>\n              <Text>\n                {modalParams.description?.text || 'This items will be deleted'}\n              </Text>\n            </Box>\n          </Box>\n        }\n      />\n    </Modal>\n  );\n};\n"],"mappings":"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","ignoreList":[]}