{"version":3,"names":["Box","CustomModalLayout","Input","Modal","Text","React","useState","CreateModal","_ref","_modalParams$title","_modalParams$actions","_modalParams$actions2","sdk","modalParams","values","setValues","fields","reduce","acc","field","id","closeModal","getOptimisticActions","collectionId","optimisticActions","createElement","isOpen","onRequestClose","title","text","onCloseButtonClick","primaryButtonOnClick","_modalParams$feedback","schema","getSchema","createdItem","createOne","successToast","feedback","errorToast","_modalParams$feedback2","submit","Error","result","actions","create","secondaryButtonOnClick","primaryButtonText","secondaryButtonText","cancel","content","direction","width","gap","paddingTop","paddingBottom","map","key","label","value","onChange","e","prev","target"],"sources":["../../../../../src/components/modals/actions/CreateModal.tsx"],"sourcesContent":["import { Box, CustomModalLayout, Input, Modal, Text } from '@wix/design-system';\nimport React, { useState } from 'react';\nimport { CreateActionModal } from '../../../types';\nimport { ActionModalProps } from './types';\n\nexport interface CreateModalProps extends ActionModalProps {\n  modalParams: CreateActionModal;\n}\n\nexport const CreateModal = ({ sdk, modalParams }: CreateModalProps) => {\n  const [values, setValues] = useState(\n    modalParams.fields.reduce((acc, field) => {\n      acc[field.id] = '';\n      return acc;\n    }, {} as Record<string, any>),\n  );\n  const { closeModal } = sdk;\n  const { getOptimisticActions, collectionId } = sdk;\n  const optimisticActions = getOptimisticActions(collectionId);\n\n  return (\n    <Modal isOpen onRequestClose={closeModal}>\n      <CustomModalLayout\n        title={modalParams.title?.text || 'Create'}\n        onCloseButtonClick={() => {\n          closeModal();\n        }}\n        primaryButtonOnClick={() => {\n          const schema = sdk.getSchema(sdk.collectionId);\n          const createdItem = { ...values };\n          optimisticActions?.createOne(createdItem, {\n            successToast:\n              modalParams.feedback?.successToast?.text ||\n              'Item created successfully',\n            errorToast: () =>\n              modalParams.feedback?.errorToast?.text || 'Failed to create item',\n            submit: async () => {\n              if (!schema) {\n                throw new Error('Schema not found');\n              }\n\n              const result = await schema.actions.create(createdItem);\n              return [result];\n            },\n          });\n          closeModal();\n        }}\n        secondaryButtonOnClick={() => {\n          closeModal();\n        }}\n        primaryButtonText={modalParams.actions?.submit?.text || 'Save'}\n        secondaryButtonText={modalParams.actions?.cancel?.text || 'Cancel'}\n        content={\n          <Box\n            direction=\"vertical\"\n            width=\"552px\"\n            gap=\"SP2\"\n            paddingTop=\"SP1\"\n            paddingBottom=\"SP1\"\n          >\n            {modalParams.fields.map((field) => {\n              return (\n                <Box key={field.id} direction=\"vertical\" width=\"100%\" gap=\"SP2\">\n                  <Box>\n                    <Text>{field.label}</Text>\n                  </Box>\n                  <Box>\n                    <Input\n                      value={values[field.id]}\n                      onChange={(e) => {\n                        setValues((prev) => ({\n                          ...prev,\n                          [field.id]: e.target.value,\n                        }));\n                      }}\n                    />\n                  </Box>\n                </Box>\n              );\n            })}\n          </Box>\n        }\n      />\n    </Modal>\n  );\n};\n"],"mappings":"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","ignoreList":[]}