import React from 'react';
import { AutoPatternsTable } from '../AutoPatternsTable';
import { AutoPatternsGrid } from '../AutoPatternsGrid';
import { AutoPatternsTableGridSwitch } from '../AutoPatternsTableGridSwitch/AutoPatternsTableGridSwitch';
import { SchemaProvider } from '../../providers';
import { SkeletonCollection } from './SkeletonCollection';
export const AutoPatternsCollectionPageContent = _ref => {
  let {
    configuration
  } = _ref;
  const {
    components
  } = configuration;
  return /*#__PURE__*/React.createElement(React.Fragment, null, components.map((component, index) => {
    var _layout$find, _layout$find2;
    const {
      layout,
      ...sharedConfig
    } = component;
    if (!(layout != null && layout.length)) {
      return null;
    }
    const tableConfig = (_layout$find = layout.find(item => item.type === 'Table')) == null ? void 0 : _layout$find.table;
    const gridConfig = (_layout$find2 = layout.find(item => item.type === 'Grid')) == null ? void 0 : _layout$find2.grid;
    let componentType = 'Table';
    let componentToRender = null;
    if (tableConfig && gridConfig) {
      const config = {
        ...sharedConfig,
        ...tableConfig,
        ...gridConfig
      };
      componentToRender = /*#__PURE__*/React.createElement(AutoPatternsTableGridSwitch, {
        configuration: config
      });
    } else if (tableConfig) {
      const config = {
        ...sharedConfig,
        ...tableConfig
      };
      componentToRender = /*#__PURE__*/React.createElement(AutoPatternsTable, {
        configuration: config
      });
    } else if (gridConfig) {
      componentType = 'Grid';
      const config = {
        ...sharedConfig,
        ...gridConfig
      };
      componentToRender = /*#__PURE__*/React.createElement(AutoPatternsGrid, {
        configuration: config
      });
    }
    return componentToRender ? /*#__PURE__*/React.createElement(SchemaProvider, {
      key: `${sharedConfig.collection.collectionId}-${index}`,
      collection: sharedConfig.collection,
      skeleton: /*#__PURE__*/React.createElement(SkeletonCollection, {
        componentType: componentType
      })
    }, componentToRender) : null;
  }).filter(Boolean));
};
//# sourceMappingURL=AutoPatternsCollectionPageContent.js.map