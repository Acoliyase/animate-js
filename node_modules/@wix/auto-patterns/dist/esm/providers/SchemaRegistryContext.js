import React, { createContext, useContext, useState, useCallback, useMemo } from 'react';
const SchemaRegistryContext = /*#__PURE__*/createContext({
  getSchema: () => undefined,
  addSchema: () => {}
});
export const SchemaRegistryProvider = _ref => {
  let {
    children
  } = _ref;
  const [registry, setRegistry] = useState({});
  const addSchema = useCallback((collectionId, schema) => {
    setRegistry(prevRegistry => ({
      ...prevRegistry,
      [collectionId]: schema
    }));
  }, []);
  const getSchema = useCallback(collectionId => {
    return registry == null ? void 0 : registry[collectionId];
  }, [registry]);
  const contextValue = useMemo(() => ({
    getSchema,
    addSchema
  }), [getSchema, addSchema]);
  return /*#__PURE__*/React.createElement(SchemaRegistryContext.Provider, {
    value: contextValue
  }, children);
};
export const useSchemaRegistry = () => {
  const context = useContext(SchemaRegistryContext);
  if (!context) {
    throw new Error('useSchemaRegistry must be used within a UseRegistryProvider');
  }
  return context;
};
//# sourceMappingURL=SchemaRegistryContext.js.map