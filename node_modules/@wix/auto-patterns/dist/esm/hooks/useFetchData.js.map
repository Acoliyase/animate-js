{"version":3,"names":["React","useSchema","useFetchData","_ref","searchableFieldIds","filterFieldMapping","schema","fetchData","useMemo","query","actions","find"],"sources":["../../../src/hooks/useFetchData.tsx"],"sourcesContent":["import React from 'react';\nimport { useSchema } from '../providers/SchemaContext';\nimport { ComputedQuery } from '@wix/patterns';\n\ninterface UseFetchDataProps {\n  searchableFieldIds?: string[];\n  filterFieldMapping?: Record<string, { fieldId: string }>;\n}\n\nexport const useFetchData = ({\n  searchableFieldIds,\n  filterFieldMapping,\n}: UseFetchDataProps) => {\n  const schema = useSchema();\n\n  const fetchData = React.useMemo(() => {\n    return (query: ComputedQuery<any>) => {\n      return schema.actions.find(query, {\n        searchableFieldIds: searchableFieldIds || [],\n        filterFieldMapping,\n      });\n    };\n  }, [schema, searchableFieldIds, filterFieldMapping]);\n\n  return {\n    fetchData,\n  };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,4BAA4B;AAQtD,OAAO,MAAMC,YAAY,GAAGC,IAAA,IAGH;EAAA,IAHI;IAC3BC,kBAAkB;IAClBC;EACiB,CAAC,GAAAF,IAAA;EAClB,MAAMG,MAAM,GAAGL,SAAS,CAAC,CAAC;EAE1B,MAAMM,SAAS,GAAGP,KAAK,CAACQ,OAAO,CAAC,MAAM;IACpC,OAAQC,KAAyB,IAAK;MACpC,OAAOH,MAAM,CAACI,OAAO,CAACC,IAAI,CAACF,KAAK,EAAE;QAChCL,kBAAkB,EAAEA,kBAAkB,IAAI,EAAE;QAC5CC;MACF,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,CAACC,MAAM,EAAEF,kBAAkB,EAAEC,kBAAkB,CAAC,CAAC;EAEpD,OAAO;IACLE;EACF,CAAC;AACH,CAAC","ignoreList":[]}