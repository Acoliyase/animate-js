{"version":3,"names":["useMemo","getImageUrl","useSchema","useBaseGridFeatures","configuration","item","schema","titleFieldId","subtitleFieldId","imageFieldId","imagePlacement","cardContentMode","preset","visibleFieldIds","filter","Boolean","renderItem","gridItem","id","idField","title","subtitle","backgroundImageUrl"],"sources":["../../../src/hooks/useBaseGridFeatures.tsx"],"sourcesContent":["import { GridConfig } from '../types';\nimport { useMemo } from 'react';\nimport { getImageUrl } from '../utils/media/getImageUrl';\nimport { useSchema } from '../providers';\n\nexport const useBaseGridFeatures = (configuration: GridConfig) => {\n  const { item } = configuration;\n\n  const schema = useSchema();\n\n  const {\n    titleFieldId,\n    subtitleFieldId,\n    imageFieldId,\n    imagePlacement,\n    cardContentMode: preset,\n  } = item;\n\n  const visibleFieldIds = useMemo(\n    () =>\n      [titleFieldId, subtitleFieldId, imageFieldId].filter(Boolean) as string[],\n    [titleFieldId, subtitleFieldId, imageFieldId],\n  );\n\n  const renderItem = useMemo(\n    () => (gridItem: any) => ({\n      id: gridItem[schema.idField],\n      title: `${gridItem[titleFieldId]}`,\n      ...(subtitleFieldId\n        ? { subtitle: `${gridItem[subtitleFieldId] ?? ''}` }\n        : {}),\n      ...(imageFieldId\n        ? { backgroundImageUrl: getImageUrl(gridItem[imageFieldId]) }\n        : {}),\n    }),\n    [titleFieldId, subtitleFieldId, imageFieldId, schema.idField],\n  );\n\n  return {\n    imagePlacement,\n    preset,\n    renderItem,\n    visibleFieldIds,\n  };\n};\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,SAAS,QAAQ,cAAc;AAExC,OAAO,MAAMC,mBAAmB,GAAIC,aAAyB,IAAK;EAChE,MAAM;IAAEC;EAAK,CAAC,GAAGD,aAAa;EAE9B,MAAME,MAAM,GAAGJ,SAAS,CAAC,CAAC;EAE1B,MAAM;IACJK,YAAY;IACZC,eAAe;IACfC,YAAY;IACZC,cAAc;IACdC,eAAe,EAAEC;EACnB,CAAC,GAAGP,IAAI;EAER,MAAMQ,eAAe,GAAGb,OAAO,CAC7B,MACE,CAACO,YAAY,EAAEC,eAAe,EAAEC,YAAY,CAAC,CAACK,MAAM,CAACC,OAAO,CAAa,EAC3E,CAACR,YAAY,EAAEC,eAAe,EAAEC,YAAY,CAC9C,CAAC;EAED,MAAMO,UAAU,GAAGhB,OAAO,CACxB,MAAOiB,QAAa,KAAM;IACxBC,EAAE,EAAED,QAAQ,CAACX,MAAM,CAACa,OAAO,CAAC;IAC5BC,KAAK,EAAE,GAAGH,QAAQ,CAACV,YAAY,CAAC,EAAE;IAClC,IAAIC,eAAe,GACf;MAAEa,QAAQ,EAAE,GAAGJ,QAAQ,CAACT,eAAe,CAAC,IAAI,EAAE;IAAG,CAAC,GAClD,CAAC,CAAC,CAAC;IACP,IAAIC,YAAY,GACZ;MAAEa,kBAAkB,EAAErB,WAAW,CAACgB,QAAQ,CAACR,YAAY,CAAC;IAAE,CAAC,GAC3D,CAAC,CAAC;EACR,CAAC,CAAC,EACF,CAACF,YAAY,EAAEC,eAAe,EAAEC,YAAY,EAAEH,MAAM,CAACa,OAAO,CAC9D,CAAC;EAED,OAAO;IACLT,cAAc;IACdE,MAAM;IACNI,UAAU;IACVH;EACF,CAAC;AACH,CAAC","ignoreList":[]}