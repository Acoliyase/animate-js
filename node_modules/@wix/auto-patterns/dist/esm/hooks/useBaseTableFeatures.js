import React, { useMemo } from 'react';
import { useColumns } from './useColumns';
import { CustomColumns } from '@wix/patterns';
import { useCollectionPageOnRowClickActions } from './useCollectionPageOnRowClickActions';
import { useNavigation } from './useNavigationUtils';
export const useBaseTableFeatures = configuration => {
  var _configuration$custom;
  const {
    navigateToEntityPage
  } = useNavigation();
  const columns = useColumns(configuration.columns);
  const visibleFieldIds = useMemo(() => configuration.columns.map(column => column.id), [configuration]);
  const entityPageId = configuration.entityPageId;
  const onRowClickOverride = useCollectionPageOnRowClickActions({
    collectionPageOnRowClickActions: configuration.onRowClick,
    collectionId: configuration.collection.collectionId
  });
  const onRowClick = configuration.onRowClick ? onRowClickOverride : item => navigateToEntityPage({
    item,
    entityPageId
  });
  const stickyColumns = configuration.stickyColumns;
  const stickySelectionColumn = !!stickyColumns; // Sticky selection column is true if stickyColumns is positive number

  return {
    columns,
    visibleFieldIds,
    onRowClick,
    customColumns: (_configuration$custom = configuration.customColumns) != null && _configuration$custom.enabled ? /*#__PURE__*/React.createElement(CustomColumns, null) : undefined,
    stickyColumns,
    stickySelectionColumn
  };
};
//# sourceMappingURL=useBaseTableFeatures.js.map