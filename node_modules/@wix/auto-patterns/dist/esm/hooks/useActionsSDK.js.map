{"version":3,"names":["useMemo","useSchemaRegistry","useBaseSDK","useOptimisticActionsContext","useActionsSDK","_ref","collectionId","getSchema","getOptimisticActions","baseSDK","sdk"],"sources":["../../../src/hooks/useActionsSDK.ts"],"sourcesContent":["import { useMemo } from 'react';\nimport { useSchemaRegistry } from '../providers';\nimport { ActionsSDK } from '../utils/actions/types';\nimport { useBaseSDK } from './useBaseSDK';\nimport { useOptimisticActionsContext } from '../providers/OptimisticActionsContext';\n\nexport interface ActionsSDKParams {\n  collectionId: string;\n}\n\nexport const useActionsSDK = ({ collectionId }: ActionsSDKParams) => {\n  const { getSchema } = useSchemaRegistry();\n\n  const { getOptimisticActions } = useOptimisticActionsContext();\n\n  const baseSDK = useBaseSDK();\n  /*  eslint-disable react-hooks/exhaustive-deps */\n  // disabled because bug in Patterns that navigateToEntityPage isn't wrapped with useCallback,\n  const sdk = useMemo<ActionsSDK>(\n    () => ({\n      ...baseSDK, // TODO: Why spread and not sdk.app/base.openModal ... instead\n      getSchema,\n      collectionId,\n      getOptimisticActions,\n    }),\n    [getSchema, collectionId, getOptimisticActions, baseSDK],\n  );\n\n  /*  eslint-enable react-hooks/exhaustive-deps */\n\n  return sdk;\n};\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,iBAAiB,QAAQ,cAAc;AAEhD,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,2BAA2B,QAAQ,uCAAuC;AAMnF,OAAO,MAAMC,aAAa,GAAGC,IAAA,IAAwC;EAAA,IAAvC;IAAEC;EAA+B,CAAC,GAAAD,IAAA;EAC9D,MAAM;IAAEE;EAAU,CAAC,GAAGN,iBAAiB,CAAC,CAAC;EAEzC,MAAM;IAAEO;EAAqB,CAAC,GAAGL,2BAA2B,CAAC,CAAC;EAE9D,MAAMM,OAAO,GAAGP,UAAU,CAAC,CAAC;EAC5B;EACA;EACA,MAAMQ,GAAG,GAAGV,OAAO,CACjB,OAAO;IACL,GAAGS,OAAO;IAAE;IACZF,SAAS;IACTD,YAAY;IACZE;EACF,CAAC,CAAC,EACF,CAACD,SAAS,EAAED,YAAY,EAAEE,oBAAoB,EAAEC,OAAO,CACzD,CAAC;;EAED;;EAEA,OAAOC,GAAG;AACZ,CAAC","ignoreList":[]}