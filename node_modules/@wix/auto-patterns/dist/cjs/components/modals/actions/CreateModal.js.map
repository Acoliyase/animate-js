{"version":3,"names":["_designSystem","require","_react","_interopRequireWildcard","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CreateModal","sdk","modalParams","_modalParams$title","_modalParams$actions","_modalParams$actions2","values","setValues","useState","fields","reduce","acc","field","id","closeModal","getOptimisticActions","collectionId","optimisticActions","createElement","Modal","isOpen","onRequestClose","__self","__source","fileName","lineNumber","columnNumber","CustomModalLayout","title","text","onCloseButtonClick","primaryButtonOnClick","_modalParams$feedback","schema","getSchema","createdItem","createOne","successToast","feedback","errorToast","_modalParams$feedback2","submit","Error","result","actions","create","secondaryButtonOnClick","primaryButtonText","secondaryButtonText","cancel","content","Box","direction","width","gap","paddingTop","paddingBottom","map","key","Text","label","Input","value","onChange","prev","target","exports"],"sources":["../../../../../src/components/modals/actions/CreateModal.tsx"],"sourcesContent":["import { Box, CustomModalLayout, Input, Modal, Text } from '@wix/design-system';\nimport React, { useState } from 'react';\nimport { CreateActionModal } from '../../../types';\nimport { ActionModalProps } from './types';\n\nexport interface CreateModalProps extends ActionModalProps {\n  modalParams: CreateActionModal;\n}\n\nexport const CreateModal = ({ sdk, modalParams }: CreateModalProps) => {\n  const [values, setValues] = useState(\n    modalParams.fields.reduce((acc, field) => {\n      acc[field.id] = '';\n      return acc;\n    }, {} as Record<string, any>),\n  );\n  const { closeModal } = sdk;\n  const { getOptimisticActions, collectionId } = sdk;\n  const optimisticActions = getOptimisticActions(collectionId);\n\n  return (\n    <Modal isOpen onRequestClose={closeModal}>\n      <CustomModalLayout\n        title={modalParams.title?.text || 'Create'}\n        onCloseButtonClick={() => {\n          closeModal();\n        }}\n        primaryButtonOnClick={() => {\n          const schema = sdk.getSchema(sdk.collectionId);\n          const createdItem = { ...values };\n          optimisticActions?.createOne(createdItem, {\n            successToast:\n              modalParams.feedback?.successToast?.text ||\n              'Item created successfully',\n            errorToast: () =>\n              modalParams.feedback?.errorToast?.text || 'Failed to create item',\n            submit: async () => {\n              if (!schema) {\n                throw new Error('Schema not found');\n              }\n\n              const result = await schema.actions.create(createdItem);\n              return [result];\n            },\n          });\n          closeModal();\n        }}\n        secondaryButtonOnClick={() => {\n          closeModal();\n        }}\n        primaryButtonText={modalParams.actions?.submit?.text || 'Save'}\n        secondaryButtonText={modalParams.actions?.cancel?.text || 'Cancel'}\n        content={\n          <Box\n            direction=\"vertical\"\n            width=\"552px\"\n            gap=\"SP2\"\n            paddingTop=\"SP1\"\n            paddingBottom=\"SP1\"\n          >\n            {modalParams.fields.map((field) => {\n              return (\n                <Box key={field.id} direction=\"vertical\" width=\"100%\" gap=\"SP2\">\n                  <Box>\n                    <Text>{field.label}</Text>\n                  </Box>\n                  <Box>\n                    <Input\n                      value={values[field.id]}\n                      onChange={(e) => {\n                        setValues((prev) => ({\n                          ...prev,\n                          [field.id]: e.target.value,\n                        }));\n                      }}\n                    />\n                  </Box>\n                </Box>\n              );\n            })}\n          </Box>\n        }\n      />\n    </Modal>\n  );\n};\n"],"mappings":"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","ignoreList":[]}