{"version":3,"names":["_designSystem","require","_react","_interopRequireDefault","_jsxFileName","BulkDeleteModal","sdk","modalParams","actionParams","_modalParams$title","_modalParams$actions","_modalParams$actions2","_modalParams$descript","getOptimisticActions","collectionId","closeModal","optimisticActions","default","createElement","Modal","isOpen","onRequestClose","__self","__source","fileName","lineNumber","columnNumber","CustomModalLayout","title","text","theme","onCloseButtonClick","primaryButtonOnClick","_modalParams$feedback","schema","getSchema","Error","selectedIds","selectedValues","map","value","idField","deleteMany","successToast","feedback","errorToast","_modalParams$feedback2","submit","result","actions","bulkDelete","secondaryButtonOnClick","primaryButtonText","secondaryButtonText","cancel","content","Box","direction","width","gap","paddingTop","paddingBottom","Text","description","exports"],"sources":["../../../../../src/components/modals/actions/BulkDeleteModal.tsx"],"sourcesContent":["import { Box, CustomModalLayout, Modal, Text } from '@wix/design-system';\nimport React from 'react';\nimport { BulkActionsActionParams, BulkDeleteActionModal } from '../../../types';\nimport { ActionModalProps } from './types';\n\nexport interface BulkDeleteModalProps extends ActionModalProps {\n  modalParams: BulkDeleteActionModal;\n  actionParams: BulkActionsActionParams;\n}\n\nexport const BulkDeleteModal = ({\n  sdk,\n  modalParams,\n  actionParams,\n}: BulkDeleteModalProps) => {\n  const { getOptimisticActions, collectionId, closeModal } = sdk;\n  const optimisticActions = getOptimisticActions(collectionId);\n\n  return (\n    <Modal isOpen onRequestClose={closeModal}>\n      <CustomModalLayout\n        title={modalParams.title?.text || 'Delete item?'}\n        theme=\"destructive\"\n        onCloseButtonClick={() => {\n          closeModal();\n        }}\n        primaryButtonOnClick={() => {\n          const schema = sdk.getSchema(sdk.collectionId);\n          if (!schema) {\n            throw new Error('Schema not found');\n          }\n          const selectedIds = actionParams.selectedValues.map(\n            (value) => value[schema.idField],\n          );\n          optimisticActions?.deleteMany(actionParams.selectedValues, {\n            successToast:\n              modalParams.feedback?.successToast?.text ||\n              'Items deleted successfully',\n            errorToast: () =>\n              modalParams.feedback?.errorToast?.text ||\n              'Failed to delete items',\n            submit: async () => {\n              const result = await schema.actions.bulkDelete(selectedIds);\n              return [result];\n            },\n          });\n          closeModal();\n        }}\n        secondaryButtonOnClick={() => {\n          closeModal();\n        }}\n        primaryButtonText={modalParams.actions?.submit?.text || 'Save'}\n        secondaryButtonText={modalParams.actions?.cancel?.text || 'Cancel'}\n        content={\n          <Box\n            direction=\"vertical\"\n            width=\"552px\"\n            gap=\"SP2\"\n            paddingTop=\"SP1\"\n            paddingBottom=\"SP1\"\n          >\n            <Box>\n              <Text>\n                {modalParams.description?.text || 'This items will be deleted'}\n              </Text>\n            </Box>\n          </Box>\n        }\n      />\n    </Modal>\n  );\n};\n"],"mappings":"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","ignoreList":[]}