{"version":3,"names":["_react","require","_getImageUrl","_providers","useBaseGridFeatures","configuration","item","schema","useSchema","titleFieldId","subtitleFieldId","imageFieldId","imagePlacement","cardContentMode","preset","visibleFieldIds","useMemo","filter","Boolean","renderItem","gridItem","id","idField","title","subtitle","backgroundImageUrl","getImageUrl","exports"],"sources":["../../../src/hooks/useBaseGridFeatures.tsx"],"sourcesContent":["import { GridConfig } from '../types';\nimport { useMemo } from 'react';\nimport { getImageUrl } from '../utils/media/getImageUrl';\nimport { useSchema } from '../providers';\n\nexport const useBaseGridFeatures = (configuration: GridConfig) => {\n  const { item } = configuration;\n\n  const schema = useSchema();\n\n  const {\n    titleFieldId,\n    subtitleFieldId,\n    imageFieldId,\n    imagePlacement,\n    cardContentMode: preset,\n  } = item;\n\n  const visibleFieldIds = useMemo(\n    () =>\n      [titleFieldId, subtitleFieldId, imageFieldId].filter(Boolean) as string[],\n    [titleFieldId, subtitleFieldId, imageFieldId],\n  );\n\n  const renderItem = useMemo(\n    () => (gridItem: any) => ({\n      id: gridItem[schema.idField],\n      title: `${gridItem[titleFieldId]}`,\n      ...(subtitleFieldId\n        ? { subtitle: `${gridItem[subtitleFieldId] ?? ''}` }\n        : {}),\n      ...(imageFieldId\n        ? { backgroundImageUrl: getImageUrl(gridItem[imageFieldId]) }\n        : {}),\n    }),\n    [titleFieldId, subtitleFieldId, imageFieldId, schema.idField],\n  );\n\n  return {\n    imagePlacement,\n    preset,\n    renderItem,\n    visibleFieldIds,\n  };\n};\n"],"mappings":";;;;AACA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AAEO,MAAMG,mBAAmB,GAAIC,aAAyB,IAAK;EAChE,MAAM;IAAEC;EAAK,CAAC,GAAGD,aAAa;EAE9B,MAAME,MAAM,GAAG,IAAAC,oBAAS,EAAC,CAAC;EAE1B,MAAM;IACJC,YAAY;IACZC,eAAe;IACfC,YAAY;IACZC,cAAc;IACdC,eAAe,EAAEC;EACnB,CAAC,GAAGR,IAAI;EAER,MAAMS,eAAe,GAAG,IAAAC,cAAO,EAC7B,MACE,CAACP,YAAY,EAAEC,eAAe,EAAEC,YAAY,CAAC,CAACM,MAAM,CAACC,OAAO,CAAa,EAC3E,CAACT,YAAY,EAAEC,eAAe,EAAEC,YAAY,CAC9C,CAAC;EAED,MAAMQ,UAAU,GAAG,IAAAH,cAAO,EACxB,MAAOI,QAAa,KAAM;IACxBC,EAAE,EAAED,QAAQ,CAACb,MAAM,CAACe,OAAO,CAAC;IAC5BC,KAAK,EAAE,GAAGH,QAAQ,CAACX,YAAY,CAAC,EAAE;IAClC,IAAIC,eAAe,GACf;MAAEc,QAAQ,EAAE,GAAGJ,QAAQ,CAACV,eAAe,CAAC,IAAI,EAAE;IAAG,CAAC,GAClD,CAAC,CAAC,CAAC;IACP,IAAIC,YAAY,GACZ;MAAEc,kBAAkB,EAAE,IAAAC,wBAAW,EAACN,QAAQ,CAACT,YAAY,CAAC;IAAE,CAAC,GAC3D,CAAC,CAAC;EACR,CAAC,CAAC,EACF,CAACF,YAAY,EAAEC,eAAe,EAAEC,YAAY,EAAEJ,MAAM,CAACe,OAAO,CAC9D,CAAC;EAED,OAAO;IACLV,cAAc;IACdE,MAAM;IACNK,UAAU;IACVJ;EACF,CAAC;AACH,CAAC;AAACY,OAAA,CAAAvB,mBAAA,GAAAA,mBAAA","ignoreList":[]}