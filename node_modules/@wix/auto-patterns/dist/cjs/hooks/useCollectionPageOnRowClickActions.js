"use strict";

exports.__esModule = true;
exports.useCollectionPageOnRowClickActions = void 0;
var _react = require("react");
var _actions = require("../utils/actions");
var _useActionsSDK = require("./useActionsSDK");
const useCollectionPageOnRowClickActions = ({
  collectionPageOnRowClickActions,
  collectionId
}) => {
  const sdk = (0, _useActionsSDK.useActionsSDK)({
    collectionId
  });
  const buildCollectionPageActions = (0, _react.useCallback)((item, index) => {
    if (!collectionPageOnRowClickActions) {
      return;
    }
    const buildAction = actionConfig => {
      let actionToResolve = null;
      const baseParams = {
        actionParams: {
          item,
          index
        },
        sdk
      };
      switch (actionConfig.type) {
        case 'custom':
          actionToResolve = (0, _actions.customAction)({
            action: actionConfig,
            ...baseParams
          });
          break;
        default:
          return null;
      }
      if (!actionToResolve) {
        return null;
      }
      const resolvedAction = (0, _actions.resolveAction)(actionConfig, actionToResolve);
      return resolvedAction.onClick == null ? void 0 : resolvedAction.onClick();
    };
    return buildAction(collectionPageOnRowClickActions);
  }, [collectionPageOnRowClickActions, sdk]);
  return buildCollectionPageActions;
};
exports.useCollectionPageOnRowClickActions = useCollectionPageOnRowClickActions;
//# sourceMappingURL=useCollectionPageOnRowClickActions.js.map