{"version":3,"names":["_react","_interopRequireWildcard","require","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","OptimisticActionsContext","createContext","undefined","OptimisticActionsProvider","children","optimisticActionsMap","setOptimisticActionsMap","useState","registerOptimisticActions","useCallback","collectionId","actions","prev","getOptimisticActions","createElement","Provider","value","__self","__source","fileName","lineNumber","columnNumber","exports","useOptimisticActionsContext","context","useContext","Error"],"sources":["../../../src/providers/OptimisticActionsContext.tsx"],"sourcesContent":["import React, { createContext, useCallback, useContext, useState } from 'react';\nimport { CollectionOptimisticActions } from '@wix/patterns';\n\ninterface OptimisticActionsContextValue {\n  registerOptimisticActions: (\n    collectionId: string,\n    actions: CollectionOptimisticActions<any, any>,\n  ) => void;\n  getOptimisticActions: (\n    collectionId: string,\n  ) => CollectionOptimisticActions<any, any>;\n}\n\nconst OptimisticActionsContext = createContext<\n  OptimisticActionsContextValue | undefined\n>(undefined);\n\nexport const OptimisticActionsProvider: React.FC<{\n  children: React.ReactNode;\n}> = ({ children }) => {\n  const [optimisticActionsMap, setOptimisticActionsMap] = useState<\n    Record<string, CollectionOptimisticActions<any, any>>\n  >({});\n\n  const registerOptimisticActions = useCallback(\n    (collectionId: string, actions: CollectionOptimisticActions<any, any>) => {\n      setOptimisticActionsMap((prev) => ({\n        ...prev,\n        [collectionId]: actions,\n      }));\n    },\n    [],\n  );\n\n  const getOptimisticActions = useCallback(\n    (collectionId: string) => optimisticActionsMap[collectionId],\n    [optimisticActionsMap],\n  );\n\n  return (\n    <OptimisticActionsContext.Provider\n      value={{ registerOptimisticActions, getOptimisticActions }}\n    >\n      {children}\n    </OptimisticActionsContext.Provider>\n  );\n};\n\nexport const useOptimisticActionsContext = () => {\n  const context = useContext(OptimisticActionsContext);\n  if (!context) {\n    throw new Error(\n      'useOptimisticActionsContext must be used within an OptimisticActionsProvider',\n    );\n  }\n  return context;\n};\n"],"mappings":";;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAgF,IAAAC,YAAA;AAAA,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAJ,wBAAAI,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAahF,MAAMW,wBAAwB,gBAAG,IAAAC,oBAAa,EAE5CC,SAAS,CAAC;AAEL,MAAMC,yBAEX,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EACrB,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAG,IAAAC,eAAQ,EAE9D,CAAC,CAAC,CAAC;EAEL,MAAMC,yBAAyB,GAAG,IAAAC,kBAAW,EAC3C,CAACC,YAAoB,EAAEC,OAA8C,KAAK;IACxEL,uBAAuB,CAAEM,IAAI,KAAM;MACjC,GAAGA,IAAI;MACP,CAACF,YAAY,GAAGC;IAClB,CAAC,CAAC,CAAC;EACL,CAAC,EACD,EACF,CAAC;EAED,MAAME,oBAAoB,GAAG,IAAAJ,kBAAW,EACrCC,YAAoB,IAAKL,oBAAoB,CAACK,YAAY,CAAC,EAC5D,CAACL,oBAAoB,CACvB,CAAC;EAED,oBACE7B,MAAA,CAAAU,OAAA,CAAA4B,aAAA,CAACd,wBAAwB,CAACe,QAAQ;IAChCC,KAAK,EAAE;MAAER,yBAAyB;MAAEK;IAAqB,CAAE;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAxC,YAAA;MAAAyC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAE1DjB,QACgC,CAAC;AAExC,CAAC;AAACkB,OAAA,CAAAnB,yBAAA,GAAAA,yBAAA;AAEK,MAAMoB,2BAA2B,GAAGA,CAAA,KAAM;EAC/C,MAAMC,OAAO,GAAG,IAAAC,iBAAU,EAACzB,wBAAwB,CAAC;EACpD,IAAI,CAACwB,OAAO,EAAE;IACZ,MAAM,IAAIE,KAAK,CACb,8EACF,CAAC;EACH;EACA,OAAOF,OAAO;AAChB,CAAC;AAACF,OAAA,CAAAC,2BAAA,GAAAA,2BAAA","ignoreList":[]}