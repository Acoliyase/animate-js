import { fireEvent, createEvent } from "@testing-library/react";
import dataHooks from "../../dataHooks";
const getAllByDataHook = (baseElement, dataHook) => baseElement.querySelectorAll(`[data-hook="${dataHook}"]`);
const getByDataHook = (baseElement, dataHook) => baseElement.querySelector(`[data-hook="${dataHook}"]`);
const getSearchInput = (baseElement) => getByDataHook(baseElement, dataHooks.categorySearchInput);
const getCategoryRows = (baseElement) => getAllByDataHook(baseElement, dataHooks.categoryTableCell);
class CategoryListDriver {
  constructor(baseElement) {
    this.getAmountOfCategoryTitles = () => getAllByDataHook(this.baseElement, dataHooks.categoryTableTitle).length;
    this.getAmountOfCategoryRows = () => getCategoryRows(this.baseElement).length;
    this.getRowText = (index) => {
      const categoryRows = getCategoryRows(this.baseElement);
      const row = categoryRows.item(index);
      return row.textContent;
    };
    this.search = (query) => {
      const searchInput = getSearchInput(this.baseElement);
      const inputEvent = createEvent.input(searchInput, {
        target: { value: query }
      });
      fireEvent(searchInput, inputEvent);
    };
    this.baseElement = baseElement;
  }
}
export {
  CategoryListDriver as default
};
