{"version":3,"names":["_commonConfigHeader","require","Object","keys","forEach","key","prototype","hasOwnProperty","call","_exportNames","exports","getPassThroughHeaders","req","headers","getCommonConfigHeader","reduce","res","header","entries","filter","_","value","fromEntries"],"sources":["../../../src/headers/index.ts"],"sourcesContent":["/**\n * Based on https://github.com/wix-private/metro/blob/master/packages/wix-headers/src/index.ts\n */\n\nimport type { SDKOptions } from '../types';\nimport { getCommonConfigHeader } from './common-config-header';\n\nexport * from './common-config-header';\n\nexport const getPassThroughHeaders = (req?: SDKOptions['req']) => {\n  if (!req) {\n    return {};\n  }\n\n  const headers = [getCommonConfigHeader(req)];\n\n  return headers.reduce((res, header) => {\n    const entries = Object.entries(header).filter(([_, value]) => !!value);\n\n    res = {\n      ...res,\n      ...Object.fromEntries(entries),\n    };\n\n    return res;\n  }, {} as Record<string, string>);\n};\n"],"mappings":";;;;;;;AAKA,IAAAA,mBAAA,GAAAC,OAAA;AAEAC,MAAA,CAAAC,IAAA,CAAAH,mBAAA,EAAAI,OAAA,WAAAC,GAAA;EAAA,IAAAA,GAAA,kBAAAA,GAAA;EAAA,IAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAC,YAAA,EAAAJ,GAAA;EAAA,IAAAA,GAAA,IAAAK,OAAA,IAAAA,OAAA,CAAAL,GAAA,MAAAL,mBAAA,CAAAK,GAAA;EAAAK,OAAA,CAAAL,GAAA,IAAAL,mBAAA,CAAAK,GAAA;AAAA;AAPA;AACA;AACA;;AAOO,MAAMM,qBAAqB,GAAIC,GAAuB,IAAK;EAChE,IAAI,CAACA,GAAG,EAAE;IACR,OAAO,CAAC,CAAC;EACX;EAEA,MAAMC,OAAO,GAAG,CAAC,IAAAC,yCAAqB,EAACF,GAAG,CAAC,CAAC;EAE5C,OAAOC,OAAO,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;IACrC,MAAMC,OAAO,GAAGhB,MAAM,CAACgB,OAAO,CAACD,MAAM,CAAC,CAACE,MAAM,CAAC,CAAC,CAACC,CAAC,EAAEC,KAAK,CAAC,KAAK,CAAC,CAACA,KAAK,CAAC;IAEtEL,GAAG,GAAG;MACJ,GAAGA,GAAG;MACN,GAAGd,MAAM,CAACoB,WAAW,CAACJ,OAAO;IAC/B,CAAC;IAED,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAA2B,CAAC;AAClC,CAAC;AAACN,OAAA,CAAAC,qBAAA,GAAAA,qBAAA","ignoreList":[]}