"use strict";

exports.__esModule = true;
var _exportNames = {
  getPassThroughHeaders: true
};
exports.getPassThroughHeaders = void 0;
var _commonConfigHeader = require("./common-config-header");
Object.keys(_commonConfigHeader).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _commonConfigHeader[key]) return;
  exports[key] = _commonConfigHeader[key];
});
/**
 * Based on https://github.com/wix-private/metro/blob/master/packages/wix-headers/src/index.ts
 */

const getPassThroughHeaders = req => {
  if (!req) {
    return {};
  }
  const headers = [(0, _commonConfigHeader.getCommonConfigHeader)(req)];
  return headers.reduce((res, header) => {
    const entries = Object.entries(header).filter(([_, value]) => !!value);
    res = {
      ...res,
      ...Object.fromEntries(entries)
    };
    return res;
  }, {});
};
exports.getPassThroughHeaders = getPassThroughHeaders;
//# sourceMappingURL=index.js.map