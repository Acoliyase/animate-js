{"version":3,"names":["getCommonConfigHeader","getPassThroughHeaders","req","headers","reduce","res","header","entries","Object","filter","_ref","_","value","fromEntries"],"sources":["../../../src/headers/index.ts"],"sourcesContent":["/**\n * Based on https://github.com/wix-private/metro/blob/master/packages/wix-headers/src/index.ts\n */\n\nimport type { SDKOptions } from '../types';\nimport { getCommonConfigHeader } from './common-config-header';\n\nexport * from './common-config-header';\n\nexport const getPassThroughHeaders = (req?: SDKOptions['req']) => {\n  if (!req) {\n    return {};\n  }\n\n  const headers = [getCommonConfigHeader(req)];\n\n  return headers.reduce((res, header) => {\n    const entries = Object.entries(header).filter(([_, value]) => !!value);\n\n    res = {\n      ...res,\n      ...Object.fromEntries(entries),\n    };\n\n    return res;\n  }, {} as Record<string, string>);\n};\n"],"mappings":"AAAA;AACA;AACA;;AAGA,SAASA,qBAAqB,QAAQ,wBAAwB;AAE9D,cAAc,wBAAwB;AAEtC,OAAO,MAAMC,qBAAqB,GAAIC,GAAuB,IAAK;EAChE,IAAI,CAACA,GAAG,EAAE;IACR,OAAO,CAAC,CAAC;EACX;EAEA,MAAMC,OAAO,GAAG,CAACH,qBAAqB,CAACE,GAAG,CAAC,CAAC;EAE5C,OAAOC,OAAO,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,MAAM,KAAK;IACrC,MAAMC,OAAO,GAAGC,MAAM,CAACD,OAAO,CAACD,MAAM,CAAC,CAACG,MAAM,CAACC,IAAA;MAAA,IAAC,CAACC,CAAC,EAAEC,KAAK,CAAC,GAAAF,IAAA;MAAA,OAAK,CAAC,CAACE,KAAK;IAAA,EAAC;IAEtEP,GAAG,GAAG;MACJ,GAAGA,GAAG;MACN,GAAGG,MAAM,CAACK,WAAW,CAACN,OAAO;IAC/B,CAAC;IAED,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAA2B,CAAC;AAClC,CAAC","ignoreList":[]}