import { jsx as _jsx } from "react/jsx-runtime";
import { useService, WixServices } from '@wix/services-manager-react';
import { CheckoutServiceDefinition, CheckoutService, } from '../../services/checkout-service.js';
import { createServicesMap } from '@wix/services-manager';
/**
 * Root component that provides the Checkout service context to its children.
 * This component sets up the necessary services for managing direct product checkout functionality.
 *
 * @order 1
 * @component
 * @example
 * ```tsx
 * import { Checkout } from '@wix/ecom/react';
 *
 * function ProductCheckout() {
 *   const lineItems = [{ catalogReference: { productId: 'product-id', variantId: 'variant-id' }, quantity: 1 }];
 *
 *   return (
 *     <Checkout.Root checkoutServiceConfig={{ channelType: 'WEB', postFlowUrl: '/thank-you' }}>
 *       <div>
 *         <Checkout.Trigger>
 *           {({ createCheckout, isLoading, error }) => (
 *             <button onClick={() => createCheckout(lineItems)} disabled={isLoading}>
 *               {isLoading ? 'Processing...' : 'Buy Now'}
 *             </button>
 *           )}
 *         </Checkout.Trigger>
 *       </div>
 *     </Checkout.Root>
 *   );
 * }
 * ```
 */
export function Root(props) {
    return (_jsx(WixServices, { servicesMap: createServicesMap().addService(CheckoutServiceDefinition, CheckoutService, props.checkoutServiceConfig), children: props.children }));
}
/**
 * Headless component that provides checkout creation functionality.
 * Use this component to trigger direct checkout for a product.
 *
 * @component
 * @example
 * ```tsx
 * import { Checkout } from '@wix/ecom/react';
 *
 * function BuyNowButton() {
 *   const lineItems = [{ catalogReference: { productId: 'product-id' }, quantity: 1 }];
 *
 *   return (
 *     <Checkout.Trigger>
 *       {({ createCheckout, isLoading, error }) => (
 *         <div>
 *           <button
 *             onClick={() => createCheckout(lineItems)}
 *             disabled={isLoading}
 *             className="buy-now-btn"
 *           >
 *             {isLoading ? 'Processing...' : 'Buy Now'}
 *           </button>
 *           {error && (
 *             <p className="error-message">{error}</p>
 *           )}
 *         </div>
 *       )}
 *     </Checkout.Trigger>
 *   );
 * }
 * ```
 */
export function Trigger(props) {
    const service = useService(CheckoutServiceDefinition);
    const isLoading = service.isLoading.get();
    const error = service.error.get();
    return props.children({
        createCheckout: service.createCheckout,
        isLoading,
        error,
    });
}
