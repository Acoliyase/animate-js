{"version":3,"sources":["../../src/payments-mcp-v1-wix-payments-account-wix-payments-account.universal.ts","../../src/payments-mcp-v1-wix-payments-account-wix-payments-account.http.ts","../../src/payments-mcp-v1-wix-payments-account-wix-payments-account.public.ts","../../src/payments-mcp-v1-wix-payments-account-wix-payments-account.context.ts"],"sourcesContent":["import { transformError as sdkTransformError } from '@wix/sdk-runtime/transform-error';\nimport {\n  renameKeysFromSDKRequestToRESTRequest,\n  renameKeysFromRESTResponseToSDKResponse,\n} from '@wix/sdk-runtime/rename-all-nested-keys';\nimport { HttpClient, NonNullablePaths } from '@wix/sdk-types';\nimport * as ambassadorWixPaymentsMcpV1WixPaymentsAccount from './payments-mcp-v1-wix-payments-account-wix-payments-account.http.js';\n\n/** An account that enables a Wix site to process customer payments. */\nexport interface WixPaymentsAccount {\n  /**\n   * ID of the Wix Payments account.\n   * @format GUID\n   * @readonly\n   */\n  _id?: string | null;\n  /**\n   * First name of the Wix Payments account owner.\n   * @maxLength 500\n   */\n  firstName?: string | null;\n  /**\n   * Last name of the Wix Payments account owner.\n   * @maxLength 500\n   */\n  lastName?: string | null;\n  /**\n   * Whether the account owner has accepted the\n   * [Wix Payments Terms of Service](https://www.wix.com/about/terms-of-payments).\n   * The account owner must accept these terms for the account to be created\n   * successfully. If the terms aren't accepted, the Connect Wix Payments Account\n   * call fails.\n   */\n  tosAccepted?: boolean | null;\n  /**\n   * Brief summary of the types of products and services offered for sale through the Wix Payments account.\n   * For example, \"Sportswear and sport accessories\".\n   * @maxLength 500\n   */\n  productDescription?: string | null;\n}\n\nexport interface ConnectWixPaymentsAccountRequest {\n  /** Wix Payments account to connect to the site. */\n  account: WixPaymentsAccount;\n}\n\nexport interface ConnectWixPaymentsAccountResponse {\n  /** Connected Wix Payments account. */\n  account?: WixPaymentsAccount;\n}\n\n/**\n * Connects a Wix Payments account to the site.\n *\n *\n * The call fails if:\n * - The site's location\n * ([SDK](https://dev.wix.com/docs/sdk/backend-modules/business-tools/locations/introduction) | [REST](https://dev.wix.com/docs/rest/business-management/locations/introduction))\n * is outside the USA.\n * - A Wix Payments account is already connected to the site.\n * - You don't specify `{\"tosAccepted\": true}`.\n *\n * The connected Wix Payments account has the following limitations, which site\n * owners can manage in their dashboard:\n *\n * - By default, customers can only pay via credit card, Apple Pay, or Google Pay.\n * - To receive payments, site owners must complete onboarding to their Wix\n * Payments account in the site's dashboard.\n * @param account - Wix Payments account to connect to the site.\n * @public\n * @documentationMaturity preview\n * @requiredField account\n * @requiredField account.firstName\n * @requiredField account.lastName\n * @requiredField account.tosAccepted\n * @permissionId CASHIER.PROVIDER_ACCOUNTS_CREATE\n * @applicableIdentity APP\n * @fqn wix.payments.mcp.v1.WixPaymentsAccountService.ConnectWixPaymentsAccount\n */\nexport async function connectWixPaymentsAccount(\n  account: NonNullablePaths<\n    WixPaymentsAccount,\n    `firstName` | `lastName` | `tosAccepted`,\n    2\n  >\n): Promise<ConnectWixPaymentsAccountResponse> {\n  // @ts-ignore\n  const { httpClient, sideEffects } = arguments[1] as {\n    httpClient: HttpClient;\n    sideEffects?: any;\n  };\n\n  const payload = renameKeysFromSDKRequestToRESTRequest({ account: account });\n\n  const reqOpts =\n    ambassadorWixPaymentsMcpV1WixPaymentsAccount.connectWixPaymentsAccount(\n      payload\n    );\n\n  sideEffects?.onSiteCall?.();\n  try {\n    const result = await httpClient.request(reqOpts);\n    sideEffects?.onSuccess?.(result);\n\n    return renameKeysFromRESTResponseToSDKResponse(result.data)!;\n  } catch (err: any) {\n    const transformedError = sdkTransformError(\n      err,\n      {\n        spreadPathsToArguments: {},\n        explicitPathsToArguments: { account: '$[0]' },\n        singleArgumentUnchanged: false,\n      },\n      ['account']\n    );\n    sideEffects?.onError?.(err);\n\n    throw transformedError;\n  }\n}\n","import { resolveUrl } from '@wix/sdk-runtime/rest-modules';\nimport { ResolveUrlOpts } from '@wix/sdk-runtime/rest-modules';\nimport { RequestOptionsFactory } from '@wix/sdk-types';\n\nfunction resolveWixPaymentsMcpV1WixPaymentsAccountServiceUrl(\n  opts: Omit<ResolveUrlOpts, 'domainToMappings'>\n) {\n  const domainToMappings = {\n    'www.wixapis.com': [\n      {\n        srcPath: '/payments/v1/wix-payments-account',\n        destPath: '/v1/wix-payments-account',\n      },\n      {\n        srcPath: '/payments/mcp/v1/wix-payments-account',\n        destPath: '/v1/wix-payments-account',\n      },\n    ],\n  };\n\n  return resolveUrl(Object.assign(opts, { domainToMappings }));\n}\n\nconst PACKAGE_NAME = '@wix/auto_sdk_payments_wix-payments-account';\n\n/**\n * Connects a Wix Payments account to the site.\n *\n *\n * The call fails if:\n * - The site's location\n * ([SDK](https://dev.wix.com/docs/sdk/backend-modules/business-tools/locations/introduction) | [REST](https://dev.wix.com/docs/rest/business-management/locations/introduction))\n * is outside the USA.\n * - A Wix Payments account is already connected to the site.\n * - You don't specify `{\"tosAccepted\": true}`.\n *\n * The connected Wix Payments account has the following limitations, which site\n * owners can manage in their dashboard:\n *\n * - By default, customers can only pay via credit card, Apple Pay, or Google Pay.\n * - To receive payments, site owners must complete onboarding to their Wix\n * Payments account in the site's dashboard.\n */\nexport function connectWixPaymentsAccount(\n  payload: object\n): RequestOptionsFactory<any> {\n  function __connectWixPaymentsAccount({ host }: any) {\n    const metadata = {\n      entityFqdn: 'wix.payments.mcp.v1.wix_payments_account',\n      method: 'POST' as any,\n      methodFqn:\n        'wix.payments.mcp.v1.WixPaymentsAccountService.ConnectWixPaymentsAccount',\n      packageName: PACKAGE_NAME,\n      url: resolveWixPaymentsMcpV1WixPaymentsAccountServiceUrl({\n        protoPath: '/v1/wix-payments-account/connect',\n        data: payload,\n        host,\n      }),\n      data: payload,\n    };\n\n    return metadata;\n  }\n\n  return __connectWixPaymentsAccount;\n}\n","import { HttpClient, NonNullablePaths } from '@wix/sdk-types';\nimport {\n  ConnectWixPaymentsAccountResponse,\n  WixPaymentsAccount,\n  connectWixPaymentsAccount as universalConnectWixPaymentsAccount,\n} from './payments-mcp-v1-wix-payments-account-wix-payments-account.universal.js';\n\nexport const __metadata = { PACKAGE_NAME: '@wix/payments' };\n\nexport function connectWixPaymentsAccount(\n  httpClient: HttpClient\n): ConnectWixPaymentsAccountSignature {\n  return (\n    account: NonNullablePaths<\n      WixPaymentsAccount,\n      `firstName` | `lastName` | `tosAccepted`,\n      2\n    >\n  ) =>\n    universalConnectWixPaymentsAccount(\n      account,\n      // @ts-ignore\n      { httpClient }\n    );\n}\n\ninterface ConnectWixPaymentsAccountSignature {\n  /**\n   * Connects a Wix Payments account to the site.\n   *\n   *\n   * The call fails if:\n   * - The site's location\n   * ([SDK](https://dev.wix.com/docs/sdk/backend-modules/business-tools/locations/introduction) | [REST](https://dev.wix.com/docs/rest/business-management/locations/introduction))\n   * is outside the USA.\n   * - A Wix Payments account is already connected to the site.\n   * - You don't specify `{\"tosAccepted\": true}`.\n   *\n   * The connected Wix Payments account has the following limitations, which site\n   * owners can manage in their dashboard:\n   *\n   * - By default, customers can only pay via credit card, Apple Pay, or Google Pay.\n   * - To receive payments, site owners must complete onboarding to their Wix\n   * Payments account in the site's dashboard.\n   * @param - Wix Payments account to connect to the site.\n   */\n  (\n    account: NonNullablePaths<\n      WixPaymentsAccount,\n      `firstName` | `lastName` | `tosAccepted`,\n      2\n    >\n  ): Promise<ConnectWixPaymentsAccountResponse>;\n}\n\nexport {\n  ConnectWixPaymentsAccountRequest,\n  ConnectWixPaymentsAccountResponse,\n  WixPaymentsAccount,\n} from './payments-mcp-v1-wix-payments-account-wix-payments-account.universal.js';\n","import { connectWixPaymentsAccount as publicConnectWixPaymentsAccount } from './payments-mcp-v1-wix-payments-account-wix-payments-account.public.js';\nimport { createRESTModule } from '@wix/sdk-runtime/rest-modules';\nimport { BuildRESTFunction, MaybeContext } from '@wix/sdk-types';\n\nexport const connectWixPaymentsAccount: MaybeContext<\n  BuildRESTFunction<typeof publicConnectWixPaymentsAccount> &\n    typeof publicConnectWixPaymentsAccount\n> = /*#__PURE__*/ createRESTModule(publicConnectWixPaymentsAccount);\n\nexport {\n  WixPaymentsAccount,\n  ConnectWixPaymentsAccountRequest,\n  ConnectWixPaymentsAccountResponse,\n} from './payments-mcp-v1-wix-payments-account-wix-payments-account.universal.js';\n"],"mappings":";AAAA,SAAS,kBAAkB,yBAAyB;AACpD;AAAA,EACE;AAAA,EACA;AAAA,OACK;;;ACJP,SAAS,kBAAkB;AAI3B,SAAS,oDACP,MACA;AACA,QAAM,mBAAmB;AAAA,IACvB,mBAAmB;AAAA,MACjB;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,QACE,SAAS;AAAA,QACT,UAAU;AAAA,MACZ;AAAA,IACF;AAAA,EACF;AAEA,SAAO,WAAW,OAAO,OAAO,MAAM,EAAE,iBAAiB,CAAC,CAAC;AAC7D;AAEA,IAAM,eAAe;AAoBd,SAAS,0BACd,SAC4B;AAC5B,WAAS,4BAA4B,EAAE,KAAK,GAAQ;AAClD,UAAM,WAAW;AAAA,MACf,YAAY;AAAA,MACZ,QAAQ;AAAA,MACR,WACE;AAAA,MACF,aAAa;AAAA,MACb,KAAK,oDAAoD;AAAA,QACvD,WAAW;AAAA,QACX,MAAM;AAAA,QACN;AAAA,MACF,CAAC;AAAA,MACD,MAAM;AAAA,IACR;AAEA,WAAO;AAAA,EACT;AAEA,SAAO;AACT;;;ADeA,eAAsBA,2BACpB,SAK4C;AAE5C,QAAM,EAAE,YAAY,YAAY,IAAI,UAAU,CAAC;AAK/C,QAAM,UAAU,sCAAsC,EAAE,QAAiB,CAAC;AAE1E,QAAM,UACyC;AAAA,IAC3C;AAAA,EACF;AAEF,eAAa,aAAa;AAC1B,MAAI;AACF,UAAM,SAAS,MAAM,WAAW,QAAQ,OAAO;AAC/C,iBAAa,YAAY,MAAM;AAE/B,WAAO,wCAAwC,OAAO,IAAI;AAAA,EAC5D,SAAS,KAAU;AACjB,UAAM,mBAAmB;AAAA,MACvB;AAAA,MACA;AAAA,QACE,wBAAwB,CAAC;AAAA,QACzB,0BAA0B,EAAE,SAAS,OAAO;AAAA,QAC5C,yBAAyB;AAAA,MAC3B;AAAA,MACA,CAAC,SAAS;AAAA,IACZ;AACA,iBAAa,UAAU,GAAG;AAE1B,UAAM;AAAA,EACR;AACF;;;AE/GO,SAASC,2BACd,YACoC;AACpC,SAAO,CACL,YAMAA;AAAA,IACE;AAAA;AAAA,IAEA,EAAE,WAAW;AAAA,EACf;AACJ;;;ACvBA,SAAS,wBAAwB;AAG1B,IAAMC,6BAGK,iCAAiBA,0BAA+B;","names":["connectWixPaymentsAccount","connectWixPaymentsAccount","connectWixPaymentsAccount"]}