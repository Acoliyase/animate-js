{"version":3,"names":["_SimpleEmitter","require","_BackwardCompatibleAssistantPlatformSdk","initSideEffectEmitterSingleton","window","__AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__","SimpleEmitter","___AGENT_PLATFORM_BM_SDK__","BackwardCompatibleAssistantPlatformSdk"],"sources":["../../src/hooks.tsx"],"sourcesContent":["import { SimpleEmitter } from './SimpleEmitter';\nimport { SideEffectEmitter } from './SideEffectEmitter';\nimport { BackwardCompatibleAssistantPlatformSdk } from './BackwardCompatibleAssistantPlatformSdk';\nimport { AssistantBmSdk } from './AssistantBmSdk';\n\ndeclare global {\n  interface Window {\n    ___AGENT_PLATFORM_BM_SDK__?: AssistantBmSdk;\n    __AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__?: SideEffectEmitter;\n  }\n}\n\nexport function initSideEffectEmitterSingleton() {\n  if (!window.__AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__) {\n    window.__AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__ = new SimpleEmitter();\n  }\n\n  if (!window.___AGENT_PLATFORM_BM_SDK__) {\n    // TODO: Remove this backward compatibility code in the future\n    // `getActiveListeners()` and `setActiveListenersObserver()` methods were in use by `@wix/chat-service-sdk`\n\n    window.___AGENT_PLATFORM_BM_SDK__ =\n      new BackwardCompatibleAssistantPlatformSdk(\n        window.__AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__!,\n      );\n  }\n\n  return window.__AGENT_PLATFORM_BM_SDK_SIDE_EFFECT_EMITTER__;\n}\n"],"mappings":";;;;AAAA,IAAAA,cAAA,GAAAC,OAAA;AAEA,IAAAC,uCAAA,GAAAD,OAAA;AAUO,SAASE,8BAA8BA,CAAA,EAAG;EAC/C,IAAI,CAACC,MAAM,CAACC,6CAA6C,EAAE;IACzDD,MAAM,CAACC,6CAA6C,GAAG,IAAIC,4BAAa,CAAC,CAAC;EAC5E;EAEA,IAAI,CAACF,MAAM,CAACG,0BAA0B,EAAE;IACtC;IACA;;IAEAH,MAAM,CAACG,0BAA0B,GAC/B,IAAIC,8EAAsC,CACxCJ,MAAM,CAACC,6CACT,CAAC;EACL;EAEA,OAAOD,MAAM,CAACC,6CAA6C;AAC7D","ignoreList":[]}