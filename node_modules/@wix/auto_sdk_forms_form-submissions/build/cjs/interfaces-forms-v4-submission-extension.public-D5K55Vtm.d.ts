import { ServicePluginDefinition } from '@wix/sdk-types';

interface ValidateSubmissionRequest extends ValidateSubmissionRequestActionsOneOf {
    /** Data for updating an existing submission. */
    updateOptions?: UpdateOptions;
    /** Submission to validate. */
    submission: FormSubmission;
    /** Whether to create or update the submission. */
    actionType: ActionType;
}
/** @oneof */
interface ValidateSubmissionRequestActionsOneOf {
    /** Data for updating an existing submission. */
    updateOptions?: UpdateOptions;
}
/** Form submission that was created or retrieved. */
interface FormSubmission {
    /**
     * Submission ID.
     * @format GUID
     * @readonly
     */
    _id?: string | null;
    /**
     * ID of the form which the submission belongs to.
     * @format GUID
     * @immutable
     */
    formId?: string;
    /**
     * The app which the form submissions belong to. For example, the namespace for the Wix Forms app is `wix.form_app.form`. Call `Get Submission` to retrieve the namespace.
     * @minLength 10
     * @maxLength 50
     * @readonly
     */
    namespace?: string;
    /** Status of the submission. */
    status?: SubmissionStatus;
    /** Submission values where `key` is the form field and `value` is the data submitted for the given field. */
    submissions?: Record<string, any>;
    /**
     * Date and time the form submission was created.
     * @immutable
     */
    _createdDate?: Date | null;
    /**
     * Date and time the form submission was updated.
     * @readonly
     */
    _updatedDate?: Date | null;
    /**
     * Revision number, which increments by 1 each time the form submission is updated. To prevent conflicting changes, the existing revision must be used when updating a form submission.
     * @readonly
     */
    revision?: string | null;
    /**
     * ID of the visitor that submitted the form.
     * @readonly
     */
    submitter?: Submitter;
    /** Whether a site owner marked a submission as "seen". */
    seen?: boolean;
    /** Data extension object that holds users' and apps' fields. */
    extendedFields?: ExtendedFields;
    /**
     * Order details. <br>
     * <b>Note</b>: This object is only applicable when submitting a form in the Wix Payments app.
     */
    orderDetails?: OrderDetails;
    /**
     * Contact ID of a site visitor who created the submission.
     * @format GUID
     * @immutable
     */
    contactId?: string | null;
    /**
     * Authorized viewer ID.
     * @format GUID
     * @immutable
     */
    accessRestriction?: string | null;
    /** Tag IDs collections associated with the current entity. */
    tags?: PublicTags;
}
declare enum SubmissionStatus {
    UNKNOWN_SUBMISSION_STATUS = "UNKNOWN_SUBMISSION_STATUS",
    /** A submission is created, but has not yet been recorded in the Wix Forms collection. */
    PENDING = "PENDING",
    /** A submission is recorded in the Wix Forms collection. */
    CONFIRMED = "CONFIRMED",
    /** A form submission requiring payment is created. */
    PAYMENT_WAITING = "PAYMENT_WAITING",
    /** An order of a form submission is canceled. */
    PAYMENT_CANCELED = "PAYMENT_CANCELED"
}
interface Submitter extends SubmitterSubmitterOneOf {
    /**
     * Member ID.
     * @format GUID
     */
    memberId?: string | null;
    /**
     * Visitor ID.
     * @format GUID
     */
    visitorId?: string | null;
    /**
     * Application ID.
     * @maxLength 36
     */
    applicationId?: string | null;
    /**
     * User ID.
     * @format GUID
     */
    userId?: string | null;
}
/** @oneof */
interface SubmitterSubmitterOneOf {
    /**
     * Member ID.
     * @format GUID
     */
    memberId?: string | null;
    /**
     * Visitor ID.
     * @format GUID
     */
    visitorId?: string | null;
    /**
     * Application ID.
     * @maxLength 36
     */
    applicationId?: string | null;
    /**
     * User ID.
     * @format GUID
     */
    userId?: string | null;
}
interface ExtendedFields {
    /**
     * Extended field data. Each key corresponds to the namespace of the app that created the extended fields.
     * The value of each key is structured according to the schema defined when the extended fields were configured.
     *
     * You can only access fields for which you have the appropriate permissions.
     *
     * Learn more about [extended fields](https://dev.wix.com/docs/rest/articles/getting-started/extended-fields).
     */
    namespaces?: Record<string, Record<string, any>>;
}
interface OrderDetails {
    /**
     * ID of the order related to submission (only applicable if a form has payments).
     * @format GUID
     * @readonly
     */
    orderId?: string | null;
    /**
     * Order number.
     * @readonly
     */
    number?: string | null;
    /**
     * Currency.
     * @format CURRENCY
     * @readonly
     */
    currency?: string | null;
    /**
     * Item subtotal.
     * @decimalValue options { gte:0.00, maxScale:2 }
     * @readonly
     */
    itemSubtotal?: string;
    /**
     * ID of the checkout related to submission (only applicable if a form has payments).
     * @format GUID
     * @readonly
     */
    checkoutId?: string;
}
interface PublicTags {
    /** Tags that are exposed to anyone who has access to the labeled entity itself, including site members and visitors. */
    tags?: TagList;
}
interface TagList {
    /**
     * List of tag IDs
     * @maxSize 100
     * @maxLength 5
     */
    tagIds?: string[];
}
declare enum ActionType {
    /** Unknown action type. */
    UNKNOWN_ACTION = "UNKNOWN_ACTION",
    /** Update submission. */
    UPDATE = "UPDATE",
    /** Create submission. */
    CREATE = "CREATE"
}
interface UpdateOptions {
    /** Submission to update. */
    currentSubmission?: FormSubmission;
}
interface ValidateSubmissionResponse {
    /**
     * List of validation errors. <br>
     * If there are no validation errors, returns an empty array.
     * @maxSize 100
     */
    errors?: SubmissionValidationError[];
}
interface SubmissionValidationError extends SubmissionValidationErrorErrorMessageOneOf {
    /** Predefined error type. */
    errorType?: SubmissionErrorType;
    /**
     * Custom error message. The message is displayed instead of an error type.
     * @maxLength 500
     */
    customErrorMessage?: string;
    /**
     * Path indicating the source of the error, such as `form.fields.target`.
     * @maxLength 500
     */
    errorPath?: string;
    /** Additional error parameters. */
    params?: Record<string, any> | null;
}
/** @oneof */
interface SubmissionValidationErrorErrorMessageOneOf {
    /** Predefined error type. */
    errorType?: SubmissionErrorType;
    /**
     * Custom error message. The message is displayed instead of an error type.
     * @maxLength 500
     */
    customErrorMessage?: string;
}
declare enum SubmissionErrorType {
    /** Error is unknown or unsuitable for any of the options below. */
    UNKNOWN_ERROR = "UNKNOWN_ERROR",
    /** Type of submitted value is incorrect. */
    TYPE_ERROR = "TYPE_ERROR",
    /** Value is required to be provided. */
    REQUIRED_VALUE_ERROR = "REQUIRED_VALUE_ERROR",
    /** Value contains additional properties not expected in schema. */
    UNKNOWN_VALUE_ERROR = "UNKNOWN_VALUE_ERROR",
    /** Text value exceeds max length. */
    MAX_LENGTH_ERROR = "MAX_LENGTH_ERROR",
    /** Text value does not reach min length. */
    MIN_LENGTH_ERROR = "MIN_LENGTH_ERROR",
    /** Text value is not applicable for expected pattern. */
    PATTERN_ERROR = "PATTERN_ERROR",
    /** Text value is not applicable for expected format. */
    FORMAT_ERROR = "FORMAT_ERROR",
    /** Number value is too big. */
    MAX_VALUE_ERROR = "MAX_VALUE_ERROR",
    /** Number value is too small. */
    MIN_VALUE_ERROR = "MIN_VALUE_ERROR",
    /** Number value is not a multiple of expected number. */
    MULTIPLE_OF_VALUE_ERROR = "MULTIPLE_OF_VALUE_ERROR",
    /** Array value has too many items. */
    MIN_ITEMS_ERROR = "MIN_ITEMS_ERROR",
    /** Array value has not enough items. */
    MAX_ITEMS_ERROR = "MAX_ITEMS_ERROR",
    /** Value is not in the list of allowed values. */
    NOT_ALLOWED_VALUE_ERROR = "NOT_ALLOWED_VALUE_ERROR",
    /** Submitted form is disabled. */
    DISABLED_FORM_ERROR = "DISABLED_FORM_ERROR"
}
interface FormSubmissionSpiExtensionConfig {
    /**
     * Deployment URI where the endpoints are called. Wix Forms appends the endpoint path to the deployment URI.
     * For example, to call the Validate Submission endpoint at `https://my-form-submissions.com/v1/validateSubmission`,
     * the `deploymentUri` you provide here is `https://my-form-submissions.com/`.
     */
    deploymentUri?: SpiBaseUri;
    /**
     * Namespace names.
     * @maxSize 10
     */
    namespaceConfigs?: FormsSubmissionsExtensionNamespaceConfig[];
}
interface SpiBaseUri {
    /**
     * Base URI where the methods are called. Wix appends the path to the `baseUri`.
     * For example, to call the Get Shipping Rates method at `https://my-shipping-provider.com/v1/getRates`, the base URI you provide here is `https://my-shipping-provider.com/`.
     * @minLength 6
     * @maxLength 2048
     */
    baseUri?: string;
    /** Alternate, custom URIs to replace the default URIs for specific service plugin methods. */
    alternativeUris?: AlternativeUri[];
}
interface AlternativeUri {
    /**
     * Name of the method to create a custom URI for.
     *
     * For `methodName`, use the name of the method in PascalCase.
     * For example, for Get Shipping Rates use `GetShippingRates`.
     * @minLength 3
     * @maxLength 128
     */
    methodName?: string;
    /**
     * Custom URI that Wix uses to call your server for this method. The path-suffix documented in the method will not be appended to this URI.
     * Must be a secured endpoint beginning with `https://`. For example, `https://www.my-shipping-provider.com/my-shipping-rates`.
     * @minLength 6
     * @maxLength 2048
     */
    absoluteUri?: string;
}
interface FormsSubmissionsExtensionNamespaceConfig {
    /**
     * The app which the form submissions belong to. For example, the namespace for the Wix Forms app is `wix.form_app.form`.
     *
     * Call `Get Submission` to retrieve the namespace.
     * @minLength 10
     * @maxLength 50
     */
    namespace?: string;
    /**
     * The ID of the specific form that will trigger the defined methods when a submission is made.
     * This field is optional. If not provided, submissions from all forms will trigger the methods.
     * @format GUID
     */
    formId?: string | null;
    /** Enable submission validation. */
    submissionValidationEnabled?: boolean;
}
/**
 * this message is not directly used by any service,
 * it exists to describe the expected parameters that SHOULD be provided to invoked Velo methods as part of open-platform.
 * e.g. SPIs, event-handlers, etc..
 * NOTE: this context object MUST be provided as the last argument in each Velo method signature.
 *
 * Example:
 * ```typescript
 * export function wixStores_onOrderCanceled({ event, metadata }: OrderCanceledEvent) {
 * ...
 * }
 * ```
 */
interface Context {
    /** A unique identifier of the request. You may print this ID to your logs to help with future debugging and easier correlation with Wix's logs. */
    requestId?: string | null;
    /**
     * [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) 3-letter currency code.
     * @format CURRENCY
     */
    currency?: string | null;
    /** An object that describes the identity that triggered this request. */
    identity?: IdentificationData;
    /** A string representing a language and region in the format of `"xx-XX"`. First 2 letters represent the language code according to ISO 639-1. This is followed by a dash "-", and then a by 2 capital letters representing the region according to ISO 3166-2. For example, `"en-US"`. */
    languages?: string[];
    /**
     * The service provider app's instance ID.
     * @format GUID
     */
    instanceId?: string | null;
}
declare enum IdentityType {
    UNKNOWN = "UNKNOWN",
    ANONYMOUS_VISITOR = "ANONYMOUS_VISITOR",
    MEMBER = "MEMBER",
    WIX_USER = "WIX_USER",
    APP = "APP"
}
interface IdentificationData extends IdentificationDataIdOneOf {
    /**
     * ID of a site visitor that has not logged in to the site.
     * @format GUID
     */
    anonymousVisitorId?: string;
    /**
     * ID of a site visitor that has logged in to the site.
     * @format GUID
     */
    memberId?: string;
    /**
     * ID of a Wix user (site owner, contributor, etc.).
     * @format GUID
     */
    wixUserId?: string;
    /**
     * ID of an app.
     * @format GUID
     */
    appId?: string;
    /** @readonly */
    identityType?: IdentityType;
}
/** @oneof */
interface IdentificationDataIdOneOf {
    /**
     * ID of a site visitor that has not logged in to the site.
     * @format GUID
     */
    anonymousVisitorId?: string;
    /**
     * ID of a site visitor that has logged in to the site.
     * @format GUID
     */
    memberId?: string;
    /**
     * ID of a Wix user (site owner, contributor, etc.).
     * @format GUID
     */
    wixUserId?: string;
    /**
     * ID of an app.
     * @format GUID
     */
    appId?: string;
}

interface ValidateSubmissionEnvelope {
    request: ValidateSubmissionRequest;
    metadata: Context;
}
declare const provideHandlers: ServicePluginDefinition<{
    /**
     *
     * > **Note:** The Form Submission service plugin only works with the Wix Forms app.
     *
     * Validates a submission.
     *
     * Validates a site visitor's form submission and returns any validation violations. Site visitors can see the validation violations on their forms. For example, invalid fields are highlighted in red. */
    validateSubmission(payload: ValidateSubmissionEnvelope): ValidateSubmissionResponse | Promise<ValidateSubmissionResponse>;
}>;

export { ActionType as A, type Context as C, type ExtendedFields as E, type FormSubmission as F, IdentityType as I, type OrderDetails as O, type PublicTags as P, SubmissionStatus as S, type TagList as T, type UpdateOptions as U, type ValidateSubmissionRequest as V, type ValidateSubmissionRequestActionsOneOf as a, type Submitter as b, type SubmitterSubmitterOneOf as c, type ValidateSubmissionResponse as d, type SubmissionValidationError as e, type SubmissionValidationErrorErrorMessageOneOf as f, SubmissionErrorType as g, type FormSubmissionSpiExtensionConfig as h, type SpiBaseUri as i, type AlternativeUri as j, type FormsSubmissionsExtensionNamespaceConfig as k, type IdentificationData as l, type IdentificationDataIdOneOf as m, type ValidateSubmissionEnvelope as n, provideHandlers as p };
