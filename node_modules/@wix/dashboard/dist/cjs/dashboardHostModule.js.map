{"version":3,"names":["_hostModules","require","_sdk","createDashboardModule","createHost","dashboardSDKBuilders","createSDKBuilders","createHostModule","host","auth","getAuthHeaders","getAccessToken","headers","Authorization","exports"],"sources":["../../src/dashboardHostModule.ts"],"sourcesContent":["import { createHostModule } from '@wix/sdk-runtime/host-modules';\nimport type { AuthenticationStrategy } from '@wix/sdk-types';\nimport { createSDKBuilders } from './sdk';\nimport type { CreateHost, Host, SDK } from './types';\n\nexport const createDashboardModule = ({\n  createHost,\n}: {\n  createHost: CreateHost;\n}) => {\n  const dashboardSDKBuilders = createSDKBuilders();\n  return {\n    ...createHostModule<Host, SDK>(dashboardSDKBuilders),\n    host: createHost,\n    auth: () => {\n      return {\n        getAuthHeaders: async (host) => {\n          const getAccessToken = dashboardSDKBuilders.getAccessToken(host);\n          return {\n            headers: {\n              Authorization: await getAccessToken(),\n            },\n          };\n        },\n      } as AuthenticationStrategy<Host>;\n    },\n  };\n};\n"],"mappings":";;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AAEA,IAAAC,IAAA,GAAAD,OAAA;AAGO,MAAME,qBAAqB,GAAGA,CAAC;EACpCC;AAGF,CAAC,KAAK;EACJ,MAAMC,oBAAoB,GAAG,IAAAC,sBAAiB,EAAC,CAAC;EAChD,OAAO;IACL,GAAG,IAAAC,6BAAgB,EAAYF,oBAAoB,CAAC;IACpDG,IAAI,EAAEJ,UAAU;IAChBK,IAAI,EAAEA,CAAA,KAAM;MACV,OAAO;QACLC,cAAc,EAAE,MAAOF,IAAI,IAAK;UAC9B,MAAMG,cAAc,GAAGN,oBAAoB,CAACM,cAAc,CAACH,IAAI,CAAC;UAChE,OAAO;YACLI,OAAO,EAAE;cACPC,aAAa,EAAE,MAAMF,cAAc,CAAC;YACtC;UACF,CAAC;QACH;MACF,CAAC;IACH;EACF,CAAC;AACH,CAAC;AAACG,OAAA,CAAAX,qBAAA,GAAAA,qBAAA","ignoreList":[]}