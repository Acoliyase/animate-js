{"version":3,"file":"sdk.umd.min.js","mappings":"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","sources":["webpack://_wix_dashboard/webpack/universalModuleDefinition","webpack://_wix_dashboard/../../../node_modules/@wix/sdk-runtime/build/context.js","webpack://_wix_dashboard/../../../node_modules/@wix/sdk-runtime/build/host-modules.js","webpack://_wix_dashboard/../../../node_modules/@wix/sdk-runtime/build/context-v2.js","webpack://_wix_dashboard/./types/addSitePlugin.ts","webpack://_wix_dashboard/./sdk.ts","webpack://_wix_dashboard/./dashboardHostModule.ts","webpack://_wix_dashboard/../../../node_modules/comlink/dist/esm/comlink.mjs","webpack://_wix_dashboard/../../../communication-channel/dist/esm/serialization.js","webpack://_wix_dashboard/../../../communication-channel/dist/esm/index.js","webpack://_wix_dashboard/../../../node_modules/@wix/monitoring/build/index.js","webpack://_wix_dashboard/../../../node_modules/@wix/monitoring-common-sentry/build/index.js","webpack://_wix_dashboard/../../../node_modules/@wix/monitoring-browser-sentry/build/index.js","webpack://_wix_dashboard/../../../node_modules/@wix/monitoring-browser-panorama/build/index.js","webpack://_wix_dashboard/./helpers/registerHeightReporter.ts","webpack://_wix_dashboard/./helpers/isWixOrigin.ts","webpack://_wix_dashboard/./helpers/essentials.ts","webpack://_wix_dashboard/./hostPlatform.ts","webpack://_wix_dashboard/./helpers/registerOnBeforeUnload.ts","webpack://_wix_dashboard/../../../node_modules/@wix/monitoring-browser-sdk-host/build/index.js","webpack://_wix_dashboard/../../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://_wix_dashboard/../../../node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://_wix_dashboard/../../../node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://_wix_dashboard/../../../node_modules/@babel/runtime/helpers/typeof.js","webpack://_wix_dashboard/../../../node_modules/@wix/sdk-context/build/browser/index.mjs","webpack://_wix_dashboard/webpack/bootstrap","webpack://_wix_dashboard/webpack/runtime/compat get default export","webpack://_wix_dashboard/webpack/runtime/define property getters","webpack://_wix_dashboard/webpack/runtime/hasOwnProperty shorthand","webpack://_wix_dashboard/webpack/runtime/make namespace object","webpack://_wix_dashboard/./index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"WixDashboardSDK\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WixDashboardSDK\"] = factory();\n\telse\n\t\troot[\"WixDashboardSDK\"] = factory();\n})((typeof self !== 'undefined' ? self : this), () => {\nreturn ","import { wixContext } from '@wix/sdk-context';\nexport function resolveContext() {\n    const oldContext = typeof $wixContext !== 'undefined' && $wixContext.initWixModules\n        ? $wixContext.initWixModules\n        : typeof globalThis.__wix_context__ !== 'undefined' &&\n            globalThis.__wix_context__.initWixModules\n            ? globalThis.__wix_context__.initWixModules\n            : undefined;\n    if (oldContext) {\n        return {\n            // @ts-expect-error\n            initWixModules(modules, elevated) {\n                return runWithoutContext(() => oldContext(modules, elevated));\n            },\n            fetchWithAuth() {\n                throw new Error('fetchWithAuth is not available in this context');\n            },\n            graphql() {\n                throw new Error('graphql is not available in this context');\n            },\n        };\n    }\n    const contextualClient = typeof $wixContext !== 'undefined'\n        ? $wixContext.client\n        : typeof wixContext.client !== 'undefined'\n            ? wixContext.client\n            : typeof globalThis.__wix_context__ !== 'undefined'\n                ? globalThis.__wix_context__.client\n                : undefined;\n    const elevatedClient = typeof $wixContext !== 'undefined'\n        ? $wixContext.elevatedClient\n        : typeof wixContext.elevatedClient !== 'undefined'\n            ? wixContext.elevatedClient\n            : typeof globalThis.__wix_context__ !== 'undefined'\n                ? globalThis.__wix_context__.elevatedClient\n                : undefined;\n    if (!contextualClient && !elevatedClient) {\n        return;\n    }\n    return {\n        initWixModules(wixModules, elevated) {\n            if (elevated) {\n                if (!elevatedClient) {\n                    throw new Error('An elevated client is required to use elevated modules. Make sure to initialize the Wix context with an elevated client before using elevated SDK modules');\n                }\n                return runWithoutContext(() => elevatedClient.use(wixModules));\n            }\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return runWithoutContext(() => contextualClient.use(wixModules));\n        },\n        fetchWithAuth: (urlOrRequest, requestInit) => {\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return contextualClient.fetchWithAuth(urlOrRequest, requestInit);\n        },\n        async graphql(query, variables, opts) {\n            if (!contextualClient) {\n                throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n            }\n            return contextualClient.graphql(query, variables, opts);\n        },\n    };\n}\nexport function contextualizeHostModule(hostModule, prop) {\n    return (...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(hostModule)[prop].apply(undefined, args);\n    };\n}\nexport function contextualizeRESTModule(restModule, expectedArgsLength) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context\n            .initWixModules(restModule, args[expectedArgsLength]?.suppressAuth ? true : false)\n            .apply(undefined, args);\n    });\n}\nexport function contextualizeEventDefinitionModule(eventDefinition) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(eventDefinition).apply(undefined, args);\n    });\n}\nexport function contextualizeSerivcePluginModule(servicePlugin) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n        }\n        return context.initWixModules(servicePlugin).apply(undefined, args);\n    });\n}\nexport * from './context-v2.js';\nexport function runWithoutContext(fn) {\n    const globalContext = globalThis.__wix_context__;\n    const moduleContext = {\n        client: wixContext.client,\n        elevatedClient: wixContext.elevatedClient,\n    };\n    let closureContext;\n    globalThis.__wix_context__ = undefined;\n    wixContext.client = undefined;\n    wixContext.elevatedClient = undefined;\n    if (typeof $wixContext !== 'undefined') {\n        closureContext = {\n            client: $wixContext?.client,\n            elevatedClient: $wixContext?.elevatedClient,\n        };\n        delete $wixContext.client;\n        delete $wixContext.elevatedClient;\n    }\n    try {\n        return fn();\n    }\n    finally {\n        globalThis.__wix_context__ = globalContext;\n        wixContext.client = moduleContext.client;\n        wixContext.elevatedClient = moduleContext.elevatedClient;\n        if (typeof $wixContext !== 'undefined') {\n            $wixContext.client = closureContext.client;\n            $wixContext.elevatedClient = closureContext.elevatedClient;\n        }\n    }\n}\n","import { contextualizeHostModuleV2 } from './context-v2.js';\nexport function createHostModule(hostModuleAPI) {\n    return contextualizeHostModuleV2({\n        __type: 'host',\n        create: (host) => Object.entries(hostModuleAPI).reduce((acc, [key, fn]) => ({\n            ...acc,\n            [key]: fn(host),\n        }), {}),\n    }, Object.keys(hostModuleAPI));\n}\n","import { EventDefinition, ServicePluginDefinition, } from '@wix/sdk-types';\nimport { resolveContext } from './context.js';\nexport { EventDefinition, ServicePluginDefinition, };\nexport function contextualizeHostModuleV2(hostModule, props) {\n    return {\n        ...hostModule,\n        ...Object.fromEntries(props.map((prop) => [\n            prop,\n            (...args) => {\n                const context = resolveContext();\n                if (!context) {\n                    throw new Error('Wix context is not available. Make sure to initialize the Wix context before using SDK modules');\n                }\n                return context\n                    .initWixModules(hostModule)[prop].apply(undefined, args);\n            },\n        ])),\n    };\n}\nexport function contextualizeRESTModuleV2(restModule, elevated) {\n    return ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // @ts-expect-error - if there is no context, we want to behave like the original module\n            return restModule.apply(undefined, args);\n        }\n        return (context\n            .initWixModules(restModule, elevated)\n            // @ts-expect-error - we know the args here are meant to be passed to the initalized module\n            .apply(undefined, args));\n    });\n}\nexport function contextualizeEventDefinitionModuleV2(eventDefinition) {\n    const contextualMethod = ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // this line should throw, but this would be a breaking change for older SDK versions\n            // this is because in wixClient there's code that calls any function it detects and checks\n            // if it's an ambassador module (see isAmbassadorModule)\n            return () => { };\n        }\n        return context.initWixModules(eventDefinition).apply(undefined, args);\n    });\n    contextualMethod.__type = eventDefinition.__type;\n    contextualMethod.type = eventDefinition.type;\n    contextualMethod.isDomainEvent = eventDefinition.isDomainEvent;\n    contextualMethod.transformations = eventDefinition.transformations;\n    return contextualMethod;\n}\nexport function contextualizeSerivcePluginModuleV2(servicePlugin) {\n    const contextualMethod = ((...args) => {\n        const context = resolveContext();\n        if (!context) {\n            // this line should throw, but this would be a breaking change for older SDK versions\n            // this is because in wixClient there's code that calls any function it detects and checks\n            // if it's an ambassador module (see isAmbassadorModule)\n            return () => { };\n        }\n        return context.initWixModules(servicePlugin).apply(undefined, args);\n    });\n    contextualMethod.__type = servicePlugin.__type;\n    contextualMethod.componentType = servicePlugin.componentType;\n    contextualMethod.methods = servicePlugin.methods;\n    return contextualMethod;\n}\n","type SuccessResult = {\n  type: 'SUCCESS';\n};\n\ntype ErrorResult = {\n  type: 'ERROR';\n  data: {\n    error: { message: string; code: number };\n  };\n};\n\nexport type AddSitePluginModalResult = SuccessResult | ErrorResult;\n\nexport class AddSitePluginModalError extends Error {\n  code: number;\n  constructor({ message, code }: { message: string; code: number }) {\n    super(message);\n    this.message = message;\n    this.code = code;\n  }\n}\n\nexport type AddSitePlugin = (\n  pluginId: string,\n  options?: {\n    placement?: {\n      appDefinitionId: string;\n      widgetId: string;\n      slotId: string;\n    };\n  },\n) => Promise<void>;\n","import {\n  CloseModal,\n  GetAccessToken,\n  GetLanguage,\n  GetPageUrl,\n  Host,\n  Navigate,\n  ObserveState,\n  OnBeforeUnload,\n  OpenModal,\n  ShowToast,\n  RequestFeedback,\n  SetPageTitle,\n  NavigateBack,\n  OnLayerStateChange,\n  ProviderOpenModal,\n  OpenMediaManager,\n} from './types';\nimport {\n  AddSitePlugin,\n  AddSitePluginModalError,\n  AddSitePluginModalResult,\n} from './types/addSitePlugin';\nimport { InstallApp } from './types/installApp';\nimport { GetDashboardMenuPlugins, GetDashboardPlugins } from './types/slots';\nimport { GetWidget } from './types/widget';\nimport { GetSiteInfo } from './types/getSiteInfo';\n\nexport const createSDKBuilders = () => {\n  const showToast =\n    ({ channel }: Host): ShowToast =>\n    (...args) => {\n      const handle = channel.showToast(...args);\n      const remove = () => Promise.resolve(handle).then((h) => h.remove());\n      return { remove };\n    };\n\n  const observeState =\n    ({ channel }: Host): ObserveState =>\n    (...args) => {\n      const handle = (channel.observeState as ObserveState)(\n        ...args,\n      ) as ReturnType<Host['channel']['observeState']>; // this temporary casting is needed because it seems that typescript can't handle this by itself.\n      const disconnect = () =>\n        Promise.resolve(handle).then((h) => h.disconnect());\n      return { disconnect };\n    };\n\n  const navigate =\n    ({ channel }: Host): Navigate =>\n    (...args) => {\n      return channel.navigate(...args);\n    };\n\n  const navigateBack =\n    ({ channel }: Host): NavigateBack =>\n    () => {\n      return channel.navigateBack();\n    };\n\n  const openModal =\n    ({ channel }: Host): OpenModal =>\n    (modalInfo, modalParams?) => {\n      const [modalId, params]: Parameters<ProviderOpenModal> =\n        typeof modalInfo === 'string'\n          ? [modalInfo, modalParams]\n          : [modalInfo.modalId, modalInfo.params];\n\n      const handle = channel.openModal(modalId, params);\n      return {\n        modalClosed: Promise.resolve(handle).then((h) => h.modalClosed),\n      };\n    };\n\n  const closeModal =\n    ({ channel }: Host): CloseModal =>\n    (closeData) => {\n      if (closeData === undefined) {\n        return channel.closeModal();\n      }\n      const filteredArg = JSON.parse(JSON.stringify(closeData));\n      return channel.closeModal(filteredArg);\n    };\n\n  const getAccessToken =\n    ({ channel }: Host): GetAccessToken =>\n    () => {\n      return channel.getAccessToken();\n    };\n\n  const getPageUrl =\n    ({ channel }: Host): GetPageUrl =>\n    (...args) => {\n      return channel.getPageUrl(...args);\n    };\n\n  const openMediaManager =\n    ({ channel }: Host): OpenMediaManager =>\n    (...args) => {\n      return channel.openMediaManager(...args);\n    };\n\n  const addSitePlugin =\n    ({ channel }: Host): AddSitePlugin =>\n    (pluginId, options) => {\n      const PLUGINS_DASHBOARD_MODAL_ID = '802c76e4-b381-4bb3-9152-96acabbf3194';\n      const additionalParams = options?.placement || {};\n      const handle = channel.openModal(PLUGINS_DASHBOARD_MODAL_ID, {\n        ...additionalParams,\n        pluginId,\n        action: 'populate',\n      });\n      return Promise.resolve(handle)\n        .then(\n          (h) => h.modalClosed as unknown as Promise<AddSitePluginModalResult>,\n        )\n        .then((resp) => {\n          if (resp?.type === undefined) {\n            throw new AddSitePluginModalError({\n              message: 'Aborted by user',\n              code: 3006,\n            });\n          }\n          if (resp?.type === 'ERROR') {\n            throw new AddSitePluginModalError(resp.data.error);\n          }\n        });\n    };\n\n  const onBeforeUnload =\n    ({ channel }: Host): OnBeforeUnload =>\n    (...args) => {\n      return channel.onBeforeUnload(...args);\n    };\n\n  const setPageTitle =\n    ({ channel }: Host): SetPageTitle =>\n    (pageTitle: string | null) => {\n      return channel.setPageTitle(pageTitle);\n    };\n\n  const getLanguage = (host: Host): GetLanguage => {\n    let language: string | null = null;\n    return async () => {\n      if (language) {\n        return language;\n      }\n      let observeStateResult = null as ReturnType<ObserveState> | null;\n      language = await new Promise<string>((resolve) => {\n        observeStateResult = observeState(host)((_, envState) => {\n          resolve(envState.language);\n        });\n      });\n      observeStateResult?.disconnect();\n      return language;\n    };\n  };\n\n  const requestFeedback =\n    ({ channel }: Host): RequestFeedback =>\n    (...args) => {\n      return channel.requestFeedback(...args);\n    };\n\n  const onLayerStateChange =\n    ({ channel }: Host): OnLayerStateChange =>\n    (...args) => {\n      const resultOrPromise = channel.onLayerStateChange(...args);\n      const remove = () =>\n        Promise.resolve(resultOrPromise).then((h) => h.remove());\n      return { remove };\n    };\n\n  const installApp = ({ channel }: Host): InstallApp => channel.installApp;\n\n  const getWidget =\n    ({ channel }: Host): GetWidget =>\n    (...args) => {\n      if ('getWidget' in channel) {\n        return channel.getWidget(...args);\n      } else {\n        throw new Error('Unsupported');\n      }\n    };\n\n  const getDashboardPlugins =\n    ({ channel }: Host): GetDashboardPlugins =>\n    (...args) => {\n      if ('getDashboardPlugins' in channel) {\n        return channel.getDashboardPlugins(...args);\n      } else {\n        throw new Error('Unsupported');\n      }\n    };\n\n  const getDashboardMenuPlugins =\n    ({ channel }: Host): GetDashboardMenuPlugins =>\n    (...args) => {\n      if ('getDashboardMenuPlugins' in channel) {\n        return channel.getDashboardMenuPlugins(...args);\n      } else {\n        throw new Error('Unsupported');\n      }\n    };\n\n  const getSiteInfo = ({ channel }: Host): GetSiteInfo => channel.getSiteInfo;\n\n  return {\n    showToast,\n    observeState,\n    navigate,\n    navigateBack,\n    openModal,\n    closeModal,\n    getAccessToken,\n    getPageUrl,\n    openMediaManager,\n    addSitePlugin,\n    onBeforeUnload,\n    setPageTitle,\n    getLanguage,\n    requestFeedback,\n    onLayerStateChange,\n    installApp,\n    getSiteInfo,\n    getWidget,\n    getDashboardPlugins,\n    getDashboardMenuPlugins,\n  };\n};\n","import { createHostModule } from '@wix/sdk-runtime/host-modules';\nimport type { AuthenticationStrategy } from '@wix/sdk-types';\nimport { createSDKBuilders } from './sdk';\nimport type { CreateHost, Host, SDK } from './types';\n\nexport const createDashboardModule = ({\n  createHost,\n}: {\n  createHost: CreateHost;\n}) => {\n  const dashboardSDKBuilders = createSDKBuilders();\n  return {\n    ...createHostModule<Host, SDK>(dashboardSDKBuilders),\n    host: createHost,\n    auth: () => {\n      return {\n        getAuthHeaders: async (host) => {\n          const getAccessToken = dashboardSDKBuilders.getAccessToken(host);\n          return {\n            headers: {\n              Authorization: await getAccessToken(),\n            },\n          };\n        },\n      } as AuthenticationStrategy<Host>;\n    },\n  };\n};\n","/**\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst proxyMarker = Symbol(\"Comlink.proxy\");\r\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\r\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\r\nconst throwMarker = Symbol(\"Comlink.thrown\");\r\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\r\n/**\r\n * Internal transfer handle to handle objects marked to proxy.\r\n */\r\nconst proxyTransferHandler = {\r\n    canHandle: (val) => isObject(val) && val[proxyMarker],\r\n    serialize(obj) {\r\n        const { port1, port2 } = new MessageChannel();\r\n        expose(obj, port1);\r\n        return [port2, [port2]];\r\n    },\r\n    deserialize(port) {\r\n        port.start();\r\n        return wrap(port);\r\n    },\r\n};\r\n/**\r\n * Internal transfer handler to handle thrown exceptions.\r\n */\r\nconst throwTransferHandler = {\r\n    canHandle: (value) => isObject(value) && throwMarker in value,\r\n    serialize({ value }) {\r\n        let serialized;\r\n        if (value instanceof Error) {\r\n            serialized = {\r\n                isError: true,\r\n                value: {\r\n                    message: value.message,\r\n                    name: value.name,\r\n                    stack: value.stack,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            serialized = { isError: false, value };\r\n        }\r\n        return [serialized, []];\r\n    },\r\n    deserialize(serialized) {\r\n        if (serialized.isError) {\r\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\r\n        }\r\n        throw serialized.value;\r\n    },\r\n};\r\n/**\r\n * Allows customizing the serialization of certain values.\r\n */\r\nconst transferHandlers = new Map([\r\n    [\"proxy\", proxyTransferHandler],\r\n    [\"throw\", throwTransferHandler],\r\n]);\r\nfunction expose(obj, ep = self) {\r\n    ep.addEventListener(\"message\", function callback(ev) {\r\n        if (!ev || !ev.data) {\r\n            return;\r\n        }\r\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\r\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\r\n        let returnValue;\r\n        try {\r\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\r\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\r\n            switch (type) {\r\n                case 0 /* GET */:\r\n                    {\r\n                        returnValue = rawValue;\r\n                    }\r\n                    break;\r\n                case 1 /* SET */:\r\n                    {\r\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\r\n                        returnValue = true;\r\n                    }\r\n                    break;\r\n                case 2 /* APPLY */:\r\n                    {\r\n                        returnValue = rawValue.apply(parent, argumentList);\r\n                    }\r\n                    break;\r\n                case 3 /* CONSTRUCT */:\r\n                    {\r\n                        const value = new rawValue(...argumentList);\r\n                        returnValue = proxy(value);\r\n                    }\r\n                    break;\r\n                case 4 /* ENDPOINT */:\r\n                    {\r\n                        const { port1, port2 } = new MessageChannel();\r\n                        expose(obj, port2);\r\n                        returnValue = transfer(port1, [port1]);\r\n                    }\r\n                    break;\r\n                case 5 /* RELEASE */:\r\n                    {\r\n                        returnValue = undefined;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        catch (value) {\r\n            returnValue = { value, [throwMarker]: 0 };\r\n        }\r\n        Promise.resolve(returnValue)\r\n            .catch((value) => {\r\n            return { value, [throwMarker]: 0 };\r\n        })\r\n            .then((returnValue) => {\r\n            const [wireValue, transferables] = toWireValue(returnValue);\r\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\r\n            if (type === 5 /* RELEASE */) {\r\n                // detach and deactive after sending release response above.\r\n                ep.removeEventListener(\"message\", callback);\r\n                closeEndPoint(ep);\r\n            }\r\n        });\r\n    });\r\n    if (ep.start) {\r\n        ep.start();\r\n    }\r\n}\r\nfunction isMessagePort(endpoint) {\r\n    return endpoint.constructor.name === \"MessagePort\";\r\n}\r\nfunction closeEndPoint(endpoint) {\r\n    if (isMessagePort(endpoint))\r\n        endpoint.close();\r\n}\r\nfunction wrap(ep, target) {\r\n    return createProxy(ep, [], target);\r\n}\r\nfunction throwIfProxyReleased(isReleased) {\r\n    if (isReleased) {\r\n        throw new Error(\"Proxy has been released and is not useable\");\r\n    }\r\n}\r\nfunction createProxy(ep, path = [], target = function () { }) {\r\n    let isProxyReleased = false;\r\n    const proxy = new Proxy(target, {\r\n        get(_target, prop) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            if (prop === releaseProxy) {\r\n                return () => {\r\n                    return requestResponseMessage(ep, {\r\n                        type: 5 /* RELEASE */,\r\n                        path: path.map((p) => p.toString()),\r\n                    }).then(() => {\r\n                        closeEndPoint(ep);\r\n                        isProxyReleased = true;\r\n                    });\r\n                };\r\n            }\r\n            if (prop === \"then\") {\r\n                if (path.length === 0) {\r\n                    return { then: () => proxy };\r\n                }\r\n                const r = requestResponseMessage(ep, {\r\n                    type: 0 /* GET */,\r\n                    path: path.map((p) => p.toString()),\r\n                }).then(fromWireValue);\r\n                return r.then.bind(r);\r\n            }\r\n            return createProxy(ep, [...path, prop]);\r\n        },\r\n        set(_target, prop, rawValue) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\r\n            // boolean. To show good will, we return true asynchronously \\_()_/\r\n            const [value, transferables] = toWireValue(rawValue);\r\n            return requestResponseMessage(ep, {\r\n                type: 1 /* SET */,\r\n                path: [...path, prop].map((p) => p.toString()),\r\n                value,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        apply(_target, _thisArg, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const last = path[path.length - 1];\r\n            if (last === createEndpoint) {\r\n                return requestResponseMessage(ep, {\r\n                    type: 4 /* ENDPOINT */,\r\n                }).then(fromWireValue);\r\n            }\r\n            // We just pretend that `bind()` didnt happen.\r\n            if (last === \"bind\") {\r\n                return createProxy(ep, path.slice(0, -1));\r\n            }\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 2 /* APPLY */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        construct(_target, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 3 /* CONSTRUCT */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n    });\r\n    return proxy;\r\n}\r\nfunction myFlat(arr) {\r\n    return Array.prototype.concat.apply([], arr);\r\n}\r\nfunction processArguments(argumentList) {\r\n    const processed = argumentList.map(toWireValue);\r\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\r\n}\r\nconst transferCache = new WeakMap();\r\nfunction transfer(obj, transfers) {\r\n    transferCache.set(obj, transfers);\r\n    return obj;\r\n}\r\nfunction proxy(obj) {\r\n    return Object.assign(obj, { [proxyMarker]: true });\r\n}\r\nfunction windowEndpoint(w, context = self, targetOrigin = \"*\") {\r\n    return {\r\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\r\n        addEventListener: context.addEventListener.bind(context),\r\n        removeEventListener: context.removeEventListener.bind(context),\r\n    };\r\n}\r\nfunction toWireValue(value) {\r\n    for (const [name, handler] of transferHandlers) {\r\n        if (handler.canHandle(value)) {\r\n            const [serializedValue, transferables] = handler.serialize(value);\r\n            return [\r\n                {\r\n                    type: 3 /* HANDLER */,\r\n                    name,\r\n                    value: serializedValue,\r\n                },\r\n                transferables,\r\n            ];\r\n        }\r\n    }\r\n    return [\r\n        {\r\n            type: 0 /* RAW */,\r\n            value,\r\n        },\r\n        transferCache.get(value) || [],\r\n    ];\r\n}\r\nfunction fromWireValue(value) {\r\n    switch (value.type) {\r\n        case 3 /* HANDLER */:\r\n            return transferHandlers.get(value.name).deserialize(value.value);\r\n        case 0 /* RAW */:\r\n            return value.value;\r\n    }\r\n}\r\nfunction requestResponseMessage(ep, msg, transfers) {\r\n    return new Promise((resolve) => {\r\n        const id = generateUUID();\r\n        ep.addEventListener(\"message\", function l(ev) {\r\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\r\n                return;\r\n            }\r\n            ep.removeEventListener(\"message\", l);\r\n            resolve(ev.data);\r\n        });\r\n        if (ep.start) {\r\n            ep.start();\r\n        }\r\n        ep.postMessage(Object.assign({ id }, msg), transfers);\r\n    });\r\n}\r\nfunction generateUUID() {\r\n    return new Array(4)\r\n        .fill(0)\r\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\r\n        .join(\"-\");\r\n}\n\nexport { createEndpoint, expose, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","import { proxy } from 'comlink';\nconst proxyCallbackMarker = '__proxyCallbackId__wixSDK__';\nconst proxyPromiseMarker = '__proxyPromiseId__wixSDK__';\nexport const serializeAllMethodsIn = sdk => {\n  return wrapMethodsWithProxy(sdk, originalMethod => {\n    return async function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const [proxies, argsNoProxies] = extractProxies(args);\n      const originalResult = await originalMethod(proxy(proxies), argsNoProxies);\n      return deserializeReturnValue(originalResult);\n    };\n  });\n};\nexport const deserializeAllMethodsIn = api => {\n  return wrapMethodsWithProxy(api, originalMethod => {\n    return (proxies, args) => {\n      const argsWithProxies = insertProxies(proxies, args);\n      const originalRun = originalMethod(...argsWithProxies);\n      return serializeReturnValue(originalRun);\n    };\n  });\n};\nconst serializeReturnValue = async value => {\n  const [proxies, clonables] = extractProxies(await value);\n  return proxy({\n    proxies,\n    clonables\n  });\n};\nconst deserializeReturnValue = async value => {\n  return insertProxies(value == null ? void 0 : value.proxies, await (value == null ? void 0 : value.clonables));\n};\nconst extractProxies = data => {\n  const walker = (proxies, val) => {\n    if (isPromise(val)) {\n      const proxyId = uniqueId();\n      proxies.promises[proxyId] = val;\n      return {\n        [proxyPromiseMarker]: proxyId\n      };\n    }\n    if (isFunction(val)) {\n      const proxyId = uniqueId();\n      proxies.callbacks[proxyId] = (innerProxies, argsAsArray) => {\n        const argsWithProxies = insertProxies(innerProxies, argsAsArray);\n        const exec = val(...argsWithProxies);\n        return serializeReturnValue(exec);\n      };\n      return {\n        [proxyCallbackMarker]: proxyId\n      };\n    }\n    if (Array.isArray(val)) {\n      return val.map(i => walker(proxies, i));\n    }\n    if (isObject(val)) {\n      return mapObjectValues(val, i => walker(proxies, i));\n    }\n    return val;\n  };\n  const proxies = {\n    promises: {},\n    callbacks: {}\n  };\n  const dataWithoutProxies = walker(proxies, data);\n  return [proxies, dataWithoutProxies];\n};\nconst insertProxies = (proxies, data) => {\n  if (Array.isArray(data)) {\n    return data.map(i => insertProxies(proxies, i));\n  }\n  if (isObject(data) && data.hasOwnProperty(proxyPromiseMarker)) {\n    const promiseId = data[proxyPromiseMarker];\n    return proxies.promises[promiseId];\n  }\n  if (isObject(data) && data.hasOwnProperty(proxyCallbackMarker)) {\n    const callbackId = data[proxyCallbackMarker];\n    // passing args in spread syntax to comlink proxy generates problem when transpiling to old JS version\n    // so pass it as array and handle it on the deserialization level:\n    return async function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      const [innerProxies, argsNoProxies] = extractProxies(args);\n      const exec = await proxies.callbacks[callbackId](proxy(innerProxies), argsNoProxies);\n      return deserializeReturnValue(exec);\n    };\n  }\n  if (isObject(data)) {\n    return mapObjectValues(data, i => insertProxies(proxies, i));\n  }\n  return data;\n};\nconst wrapMethodsWithProxy = (obj, callback) => {\n  return new Proxy(obj, {\n    get(target, prop) {\n      if (!target[prop]) {\n        return () => {\n          throw new Error(`Serialization error occurred while accessing ${prop} property of ${target}`);\n        };\n      }\n      return callback(target[prop]);\n    }\n  });\n};\nconst isPromise = val => val instanceof Promise;\nconst isObject = val => val && typeof val === 'object' && !isPromise(val);\nconst isFunction = val => typeof val === 'function';\nconst mapObjectValues = (obj, callback) => {\n  const mapEntries = _ref => {\n    let [key, value] = _ref;\n    return [key, callback(value)];\n  };\n  return Object.fromEntries(Object.entries(obj).map(mapEntries));\n};\nconst uniqueId = (() => {\n  let counter = 0;\n  return () => ++counter;\n})();\n//# sourceMappingURL=serialization.js.map","import { deserializeAllMethodsIn, serializeAllMethodsIn } from './serialization';\nimport { wrap, expose, releaseProxy } from 'comlink';\nexport const handshakeCode = 'wix-sdk-bo-hello-handshake';\n/**\n * Initializes a new channel with a target.\n * @param postMessage - Target's function to receive messages.\n * @param origin - Target's origin.\n */\nexport const open = _ref => {\n  let {\n    postMessage,\n    origin\n  } = _ref;\n  const {\n    port1: widgetPort,\n    port2: hostPort\n  } = new MessageChannel();\n  const protocolVersion = '1.0.0';\n  const message = {\n    code: handshakeCode,\n    version: protocolVersion,\n    port: hostPort\n  };\n  postMessage(message, origin, [hostPort]);\n  const channel = serializeAllMethodsIn(wrap(widgetPort));\n  return {\n    channel,\n    close: () => channel[releaseProxy]()\n  };\n};\n\n/**\n * Serves api as a response over the communication channel to given port.\n * @param api - The api object that has the methods inside it.\n * @param port - The port on which the channel was initiated and needs to receive the api.\n */\nexport const serve = _ref2 => {\n  let {\n    api,\n    port\n  } = _ref2;\n  expose(deserializeAllMethodsIn(api), port);\n};\n//# sourceMappingURL=index.js.map","// src/context/context-utils.ts\nvar validValue = (value) => value !== void 0 && value !== null && value !== \"\";\nvar pickByValidValues = (obj) => pickBy(obj, validValue);\nfunction pickBy(object, predicate = (value) => !!value) {\n  if (!object) {\n    return {};\n  }\n  const result = {};\n  for (const key in object) {\n    if (predicate(object[key], key)) {\n      result[key] = object[key];\n    }\n  }\n  return result;\n}\nvar generateTagsAndContext = (context) => {\n  const tags = pickByValidValues({\n    \"app.id\": context.appId,\n    \"app.version\": context.appVersion,\n    \"app.instanceId\": context.appInstanceId,\n    \"extension.id\": context.extensionId,\n    \"extension.name\": context.extensionName,\n    \"extension.type\": context.extensionType,\n    platform: context.platform\n  });\n  const contexts = pickBy(\n    {\n      \"extension.data\": pickByValidValues({\n        ...context.extensionData\n      }),\n      site: pickByValidValues({\n        url: context.siteUrl,\n        id: context.tenantType === \"SITE\" ? context.tenantId : void 0\n      }),\n      account: pickByValidValues({\n        id: context.tenantType === \"ACCOUNT\" ? context.tenantId : void 0\n      })\n    },\n    (value) => !!value && Object.keys(value).length > 0\n  );\n  return {\n    tags,\n    contexts\n  };\n};\n\n// src/fallback-client.ts\nvar FallbackMonitoringClient = class {\n  constructor(message) {\n    this.message = message;\n    this.captureException = () => {\n      console.error(this.message);\n    };\n    this.captureMessage = () => {\n      console.error(this.message);\n    };\n    this.startSpan = (spanOptions, callback) => {\n      console.error(this.message);\n      return callback(void 0);\n    };\n    this.startSpanManual = () => {\n      console.error(this.message);\n      return {\n        end: () => {\n        },\n        fail: () => {\n        }\n      };\n    };\n    this.endSpanManual = () => {\n      console.error(this.message);\n    };\n    this.addBreadcrumb = () => {\n      console.error(this.message);\n    };\n  }\n};\nvar createFallbackMonitoringClient = (message) => {\n  return new FallbackMonitoringClient(message);\n};\nexport {\n  createFallbackMonitoringClient,\n  generateTagsAndContext\n};\n","// src/utils.ts\nvar isPromise = (value) => typeof value?.then === \"function\";\nvar runWithMaybePromise = (value, cb) => {\n  if (!cb) {\n    return value;\n  }\n  if (isPromise(value)) {\n    return value.then((res) => {\n      cb(res, true);\n      return res;\n    });\n  } else {\n    cb(value, false);\n    return value;\n  }\n};\nvar runWithMaybeDelay = (cb, maybeTimeCompensation) => {\n  if (!cb) {\n    return;\n  }\n  if (maybeTimeCompensation) {\n    setTimeout(cb, maybeTimeCompensation);\n  } else {\n    cb();\n  }\n};\nvar generateRandomId = () => Date.now() + Math.random();\n\n// src/manual-span.ts\nvar ManualSpanRegistryImpl = class {\n  constructor(options) {\n    this.options = options;\n    this.spanMap = /* @__PURE__ */ new Map();\n  }\n  createSpan(spanOptions, sentryOptionsOrPromise) {\n    let resolveSpan;\n    let rejectSpan;\n    let error;\n    const startTime = Date.now();\n    let maybeDurationCompensation;\n    const maybePromise = runWithMaybePromise(\n      sentryOptionsOrPromise,\n      ({ sentrySDK, scope }, isPromise2) => {\n        if (isPromise2) {\n          maybeDurationCompensation = Date.now() - startTime;\n        }\n        const promise = sentrySDK.startSpan(\n          {\n            ...spanOptions,\n            scope,\n            forceTransaction: this.options.forceTransaction\n          },\n          () => new Promise((resolve, reject) => {\n            resolveSpan = resolve;\n            rejectSpan = reject;\n          })\n        );\n        promise?.catch((e) => {\n          if (e?.message !== error?.message) {\n            throw e;\n          }\n        });\n      }\n    );\n    const endSpan = (cb) => {\n      this.spanMap.delete(spanOptions.name);\n      runWithMaybePromise(maybePromise, () => {\n        runWithMaybeDelay(cb, maybeDurationCompensation);\n      });\n    };\n    const span = {\n      end: () => {\n        endSpan(() => resolveSpan?.());\n      },\n      fail: (_error) => {\n        error = error ?? _error;\n        endSpan(() => rejectSpan?.(_error));\n      }\n    };\n    this.spanMap.set(spanOptions.name, span);\n    return span;\n  }\n  getSpan(spanOptions) {\n    return this.spanMap.get(spanOptions.name);\n  }\n};\nvar createManualSpanRegistry = (options) => new ManualSpanRegistryImpl(options);\nexport {\n  createManualSpanRegistry,\n  generateRandomId,\n  isPromise,\n  runWithMaybeDelay,\n  runWithMaybePromise\n};\n","// src/factory.ts\nimport { createFallbackMonitoringClient } from \"@wix/monitoring\";\n\n// src/browser/client.ts\nimport { isPromise } from \"@wix/monitoring-common-sentry\";\n\n// src/abstract-browser-client.ts\nimport {\n  createManualSpanRegistry\n} from \"@wix/monitoring-common-sentry\";\n\n// src/context-utils.ts\nimport { generateTagsAndContext } from \"@wix/monitoring\";\nvar setTagsAndContextsOnScope = (scope, { tags, contexts }) => {\n  if (tags) {\n    scope.setTags(tags);\n  }\n  if (contexts) {\n    Object.entries(contexts).forEach(\n      ([key, value]) => typeof value !== \"undefined\" && scope.setContext(key, value)\n    );\n  }\n};\nvar setHostContextOnScope = (scope, hostContext) => {\n  if (!hostContext) {\n    return;\n  }\n  const { tags, contexts } = generateTagsAndContext(hostContext);\n  setTagsAndContextsOnScope(scope, { tags, contexts });\n};\n\n// src/abstract-browser-client.ts\nvar MandatorySDKMethods = [\"onLoad\", \"forceLoad\"];\nvar manualSpanRegistryMap = /* @__PURE__ */ new Map();\nvar AbstractSentryBrowserClient = class {\n  constructor(options) {\n    this.options = options;\n    this.resolvedState = null;\n    this.validateOptions = (options) => {\n      const missingSDKMethods = MandatorySDKMethods.filter(\n        (method) => typeof options.sentrySDK?.[method] !== \"function\"\n      );\n      if (missingSDKMethods.length > 0) {\n        throw new Error(\n          `Missing the following options.sentrySDK methods: ${missingSDKMethods.join(\", \")}`\n        );\n      }\n    };\n    this.validateOptions(options);\n    let manualSpanRegistry = manualSpanRegistryMap.get(options.dsn);\n    if (!manualSpanRegistry) {\n      manualSpanRegistry = createManualSpanRegistry({\n        // Force spans to be reported as individual transactions (one http request per one span)\n        forceTransaction: true\n      });\n      manualSpanRegistryMap.set(options.dsn, manualSpanRegistry);\n    }\n    this.manualSpanRegistry = manualSpanRegistry;\n  }\n  isFullSDK() {\n    return typeof this.options.sentrySDK.BrowserClient === \"function\";\n  }\n  init() {\n    if (this.resolvedState) {\n      return this.resolvedState;\n    }\n    const {\n      sentrySDK,\n      transport,\n      hostContext,\n      dsn,\n      release,\n      environment,\n      tracesSampleRate = 1,\n      debug = false\n    } = this.options;\n    const scope = new sentrySDK.Scope();\n    const sentryClient = new sentrySDK.BrowserClient({\n      dsn,\n      transport: transport ?? sentrySDK.makeFetchTransport,\n      integrations: sentrySDK.getDefaultIntegrations({}),\n      stackParser: sentrySDK.defaultStackParser,\n      tracesSampleRate: tracesSampleRate || 1,\n      debug,\n      environment,\n      release\n    });\n    setHostContextOnScope(scope, hostContext);\n    scope.setClient(sentryClient);\n    sentryClient.init();\n    this.resolvedState = {\n      sentrySDK,\n      scope,\n      sentryClient\n    };\n    return this.resolvedState;\n  }\n  loadFullSDK(handler) {\n    if (this.isFullSDK()) {\n      handler?.(this.init());\n      return;\n    }\n    if (this.promise) {\n      this.promise.then(handler);\n      return;\n    }\n    this.promise = new Promise((resolve) => {\n      this.options.sentrySDK.onLoad(() => {\n        if (this.resolvedState) {\n          return;\n        }\n        const resolvedState = this.init();\n        resolve(resolvedState);\n        handler?.(resolvedState);\n      });\n    });\n    this.options.sentrySDK.forceLoad();\n  }\n};\n\n// src/browser/client.ts\nvar SentryBrowserClient = class extends AbstractSentryBrowserClient {\n  constructor() {\n    super(...arguments);\n    /**\n     * Records a new breadcrumb which will be attached to future events.\n     * Breadcrumbs will be added to subsequent events to provide more context on user's actions prior to an error or crash.\n     * @param breadcrumb The breadcrumb to record.\n     */\n    this.addBreadcrumb = (breadcrumb) => {\n      const filteredBreadcrumb = {\n        type: breadcrumb.type,\n        category: breadcrumb.category,\n        message: breadcrumb.message,\n        level: breadcrumb.level,\n        data: breadcrumb.data\n      };\n      this.loadFullSDK(({ scope }) => {\n        scope.addBreadcrumb(filteredBreadcrumb);\n      });\n    };\n    /**\n     * Captures an exception event and sends it to Sentry.\n     * @param error The error to capture\n     * @param captureContext Optional additional data to attach to the Sentry event.\n     */\n    this.captureException = (error, captureContext) => {\n      this.loadFullSDK(({ sentryClient, scope }) => {\n        sentryClient.captureException(\n          error,\n          {\n            captureContext: {\n              level: captureContext?.level ?? \"error\",\n              tags: captureContext?.tags,\n              contexts: captureContext?.contexts\n            }\n          },\n          scope\n        );\n      });\n    };\n    /**\n     * Captures a message event and sends it to Sentry.\n     * @param message The message to capture\n     * @param captureContext Define the level of the message or pass in additional data to attach to the message.\n     */\n    this.captureMessage = (message, captureContext) => {\n      this.loadFullSDK(({ sentryClient, scope }) => {\n        sentryClient.captureMessage(\n          message,\n          captureContext?.level ?? \"error\",\n          {\n            captureContext: {\n              level: captureContext?.level ?? \"error\",\n              tags: captureContext?.tags,\n              contexts: captureContext?.contexts\n            }\n          },\n          scope\n        );\n      });\n    };\n    /**\n     * Wraps a function with a span and finishes the span after the function is done. The created span is the active span and will be used as parent by other spans created inside the function, as long as the function is executed while the scope is active.\n     * @param spanOptions The options for the span\n     * @param callback The function to wrap with a span\n     * @returns The return value of the callback\n     */\n    this.startSpan = (spanOptions, callback) => {\n      if (this.isFullSDK()) {\n        const { sentrySDK, scope } = this.init();\n        return sentrySDK.startSpan({ ...spanOptions, scope }, callback);\n      }\n      this.loadFullSDK();\n      const simulateAndReportSuccessfulSpan = (callbackResult2, startTime2) => {\n        const spanDuration = Date.now() - startTime2;\n        const simulatedCallback = () => {\n          return new Promise(\n            (resolve) => setTimeout(() => resolve(callbackResult2), spanDuration)\n          );\n        };\n        this.loadFullSDK(async ({ sentrySDK, scope }) => {\n          return sentrySDK.startSpan(\n            { ...spanOptions, scope },\n            simulatedCallback\n          );\n        });\n      };\n      const simulateAndReportFailedSpan = async (error2, startTime2) => {\n        const spanDuration = Date.now() - startTime2;\n        const simulatedCallback = () => {\n          return new Promise(\n            (_, reject) => setTimeout(() => reject(error2), spanDuration)\n          );\n        };\n        this.loadFullSDK(async ({ sentrySDK, scope }) => {\n          try {\n            await sentrySDK.startSpan(\n              { ...spanOptions, scope },\n              simulatedCallback\n            );\n          } catch (e) {\n            if (e?.message !== error2?.message) {\n              throw e;\n            }\n          }\n        });\n      };\n      const startTime = Date.now();\n      let callbackResult;\n      let error;\n      try {\n        callbackResult = callback();\n      } catch (e) {\n        error = e;\n      }\n      if (error) {\n        simulateAndReportFailedSpan(error, startTime);\n        throw error;\n      } else {\n        if (isPromise(callbackResult)) {\n          callbackResult.then((res) => simulateAndReportSuccessfulSpan(res, startTime)).catch((e) => simulateAndReportFailedSpan(e, startTime));\n        } else {\n          simulateAndReportSuccessfulSpan(callbackResult, startTime);\n        }\n        return callbackResult;\n      }\n    };\n    this.startSpanManual = (spanOptions) => {\n      const resolvedStateOrPromise = this.isFullSDK() ? this.init() : new Promise((resolve) => this.loadFullSDK(resolve));\n      const span = this.manualSpanRegistry.createSpan(\n        spanOptions,\n        resolvedStateOrPromise\n      );\n      return span;\n    };\n    this.endSpanManual = (spanOptions) => {\n      const span = this.manualSpanRegistry.getSpan(spanOptions);\n      span?.end();\n    };\n  }\n};\n\n// src/factory.ts\nvar unsupportedEnvironmentMessage = (version) => `Sentry SDK version \"${version}\" is not supported. Please make sure to use monitoring SDK only in supported environments.`;\nvar major = (version) => {\n  try {\n    return parseInt(version.split(\".\")[0], 10);\n  } catch {\n    console.warn(\"Failed to parse Sentry SDK version\");\n    return void 0;\n  }\n};\nvar createSentryBrowserClient = ({\n  sentrySDK,\n  dsn,\n  ...options\n}) => {\n  if (!sentrySDK) {\n    return createFallbackMonitoringClient(\n      \"Unsupported environment - Sentry SDK is not loaded into the environment. Please make sure to use monitoring SDK only in supported environments.\"\n    );\n  }\n  if (!dsn) {\n    return createFallbackMonitoringClient(\n      \"Missing Sentry DSN in the app's monitoring configuration. Please make sure to set it.\"\n    );\n  }\n  try {\n    const sentrySdkMajorVersion = sentrySDK.SDK_VERSION && major(sentrySDK.SDK_VERSION);\n    if (sentrySdkMajorVersion && sentrySdkMajorVersion < 7) {\n      return createFallbackMonitoringClient(\n        unsupportedEnvironmentMessage(sentrySDK.SDK_VERSION)\n      );\n    }\n    return new SentryBrowserClient({ ...options, dsn, sentrySDK });\n  } catch (e) {\n    return createFallbackMonitoringClient(\n      `Failed to initialize monitoring client: ${e.message}`\n    );\n  }\n};\nexport {\n  createSentryBrowserClient\n};\n","// src/client.ts\nimport { generateRandomId, isPromise } from \"@wix/monitoring-common-sentry\";\nvar PanoramaBrowserClient = class {\n  constructor(options) {\n    this.options = options;\n    this.captureException = (error, captureContext) => {\n      const { panoramaClient } = this.options;\n      if (!(error instanceof Error)) {\n        error = new Error(error);\n      }\n      panoramaClient.errorMonitor().reportError(error, this.contextToData(captureContext));\n    };\n    this.captureMessage = (message, captureContext) => {\n      const { panoramaClient } = this.options;\n      const logger = panoramaClient.logger();\n      let loggerByLevel;\n      switch (captureContext?.level) {\n        case \"error\":\n          loggerByLevel = logger.error;\n          break;\n        case \"warning\":\n          loggerByLevel = logger.warn;\n          break;\n        default:\n          loggerByLevel = logger.info;\n      }\n      loggerByLevel(message, this.contextToData(captureContext));\n    };\n    this.startSpan = (spanOptions, callback) => {\n      const { panoramaClient } = this.options;\n      const { name } = spanOptions;\n      let res;\n      const transaction = panoramaClient.transaction(name, {\n        id: generateRandomId()\n      });\n      const data = this.contextToData(spanOptions);\n      transaction.start(data);\n      try {\n        res = callback();\n        if (isPromise(res)) {\n          res = res.then((_res) => {\n            transaction.finish(data);\n            return _res;\n          }).catch((e) => {\n            this.reportErrorInContextOfSpan(e, spanOptions);\n            throw e;\n          });\n        } else {\n          transaction.finish(data);\n        }\n      } catch (e) {\n        this.reportErrorInContextOfSpan(e, spanOptions);\n        throw e;\n      }\n      return res;\n    };\n    this.addBreadcrumb = (breadcrumb) => {\n      const { panoramaClient } = this.options;\n      panoramaClient.errorMonitor().addBreadcrumb(breadcrumb);\n    };\n  }\n  contextToData(captureContext) {\n    return captureContext && {\n      ...captureContext?.tags && { tags: captureContext.tags },\n      ...captureContext?.contexts && { context: captureContext.contexts },\n      ...captureContext?.level && {\n        severity: captureContext.level\n      }\n    };\n  }\n  reportErrorInContextOfSpan(error, spanOptions) {\n    const { panoramaClient } = this.options;\n    const { name } = spanOptions;\n    const data = this.contextToData({\n      ...spanOptions,\n      contexts: { transaction: { name } }\n    });\n    panoramaClient.errorMonitor().reportError(error, data);\n  }\n  startSpanManual(spanOptions) {\n    const { panoramaClient } = this.options;\n    const { name } = spanOptions;\n    const transaction = panoramaClient.transaction(name, {\n      id: generateRandomId()\n    });\n    const data = this.contextToData(spanOptions);\n    transaction.start(data);\n    let reported = false;\n    const reportOnce = (cb) => {\n      if (reported) {\n        return;\n      }\n      reported = true;\n      cb();\n    };\n    return {\n      end: () => {\n        reportOnce(() => transaction.finish(data));\n      },\n      fail: (error) => {\n        reportOnce(() => this.reportErrorInContextOfSpan(error, spanOptions));\n      }\n    };\n  }\n  endSpanManual(spanOptions) {\n    const { panoramaClient } = this.options;\n    const { name } = spanOptions;\n    panoramaClient.transaction(name).finish();\n  }\n};\n\n// src/factory.ts\nimport { createFallbackMonitoringClient } from \"@wix/monitoring\";\nvar createPanoramaBrowserClient = (options) => {\n  const { panoramaClient } = options;\n  if (!panoramaClient) {\n    return createFallbackMonitoringClient(\"Missing Panorama client\");\n  }\n  return new PanoramaBrowserClient(options);\n};\nexport {\n  createPanoramaBrowserClient\n};\n","import { ProviderAPI } from '../types';\nimport { OpenedChannel } from '@wix/communication-channel';\n\nexport const registerHeightReporter = (\n  bridge: OpenedChannel<ProviderAPI>,\n  container: HTMLElement,\n) => {\n  const update = () => bridge.updateHeight(container.offsetHeight);\n  const resizeObserver = new ResizeObserver(update);\n  resizeObserver.observe(container);\n  return () => resizeObserver.disconnect();\n};\n","const origins = ['https://manage.wix.com', 'https://manage.editorx.com'];\nconst allowedOrigins = new Set(origins);\nexport const isWixOrigin = (origin: string) => allowedOrigins.has(origin);\n","function safeParseEssentials(essentials?: string | null) {\n  if (!essentials) {\n    return undefined;\n  }\n  try {\n    return JSON.parse(decodeURIComponent(essentials));\n  } catch (e) {\n    console.warn(\n      'Failed to parse \"essentials\" query parameter. Make sure to run the code inside a supported Wix App extension.',\n      e,\n    );\n    return undefined;\n  }\n}\n\nexport function getEssentialsFromQueryParams(queryParams: URLSearchParams) {\n  return queryParams.has('essentials')\n    ? safeParseEssentials(queryParams.get('essentials'))\n    : undefined;\n}\n","import { open } from '@wix/communication-channel';\nimport { getMonitoringClientFunction } from '@wix/monitoring-browser-sdk-host';\nimport { CreateHost, ProviderAPI, OnBeforeUnload } from './types';\nimport { registerHeightReporter } from './helpers/registerHeightReporter';\nimport { isWixOrigin } from './helpers/isWixOrigin';\nimport { registerBeforeUnloadHandler } from './helpers/registerOnBeforeUnload';\nimport { getEssentialsFromQueryParams } from './helpers/essentials';\nimport { GetSiteInfo } from './types/getSiteInfo';\n\ndeclare global {\n  interface Window {\n    Sentry?: any;\n  }\n}\n\nexport const createHost: CreateHost = function (config = {}) {\n  // when full url is provided (worker case) use it and ignore own location search\n  const searchString =\n    (config.fullUrl && new URL(config.fullUrl).search) ||\n    (typeof window !== 'undefined' && window.location.search) ||\n    '';\n  const queryParams = new URLSearchParams(searchString);\n  const origin = config.origin || queryParams.get('origin') || '';\n  const postMessage =\n    config.postMessage || window.parent.postMessage.bind(window.parent);\n\n  if (!isWixOrigin(origin)) {\n    throw new Error(\n      `Wix Dashboard SDK: Unable to establish a connection with the Wix dashboard. Please ensure that you are running your app within the Wix dashboard.`,\n    );\n  }\n\n  const { channel, close } = open<ProviderAPI>({ postMessage, origin });\n  const closeMethods = [close];\n\n  if (config.autoHeightUpdate === undefined || config.autoHeightUpdate) {\n    const element = config.autoHeightElement || document.documentElement;\n    const clearHeightReport = registerHeightReporter(channel, element);\n    closeMethods.push(() => clearHeightReport());\n  }\n\n  const { onBeforeUnload, clearBeforeUnloadHandler } =\n    registerBeforeUnloadHandler(channel);\n  closeMethods.push(clearBeforeUnloadHandler);\n\n  const siteInfo = parseSiteInfo(queryParams.get('siteInfo') || '');\n  const getSiteInfoSync: GetSiteInfo = () => siteInfo;\n\n  const channelProxy = new Proxy(channel, {\n    get(target, prop, receiver) {\n      if (prop === 'onBeforeUnload') {\n        return onBeforeUnload;\n      }\n      if (prop === 'getSiteInfo') {\n        return getSiteInfoSync;\n      }\n      return Reflect.get(target, prop, receiver);\n    },\n  }) as typeof channel & {\n    onBeforeUnload: OnBeforeUnload;\n    getSiteInfo: GetSiteInfo; // keeping it sync\n  };\n\n  const { monitoring, ...essentials } =\n    getEssentialsFromQueryParams(queryParams) || {};\n\n  const getMonitoringClient = getMonitoringClientFunction({\n    hostContext: monitoring?.context,\n    monitoringConfig: monitoring?.config,\n    sentrySDK: typeof window !== 'undefined' ? window.Sentry : undefined,\n  });\n\n  return {\n    channel: channelProxy,\n    close: () => closeMethods.forEach((method) => method()),\n    getMonitoringClient,\n    essentials,\n  };\n};\n\nconst parseSiteInfo = (siteInfo: string) => {\n  try {\n    return JSON.parse(decodeURIComponent(siteInfo));\n  } catch (e) {\n    console.warn(\n      'Failed to parse \"siteInfo\" query parameter. Make sure to run the code inside a supported Wix App extension.',\n      e,\n    );\n    return {};\n  }\n};\n","import { OpenedChannel } from '@wix/communication-channel';\nimport { ProviderAPI, OnBeforeUnload } from '../types';\n\nexport const registerBeforeUnloadHandler = (\n  channel: OpenedChannel<ProviderAPI>,\n) => {\n  const eventTarget = new EventTarget();\n  const isInWorker = typeof window === 'undefined';\n\n  const onIframeBeforeUnload = (event: BeforeUnloadEvent) => {\n    const shouldUnloadWithoutConfirmation = eventTarget.dispatchEvent(\n      new CustomEvent('beforeunload', {\n        cancelable: true,\n      }),\n    );\n\n    if (!shouldUnloadWithoutConfirmation) {\n      event.preventDefault();\n      event.returnValue = true; // Chrome requires returnValue to be set\n    }\n  };\n\n  const onBeforeUnloadHandle = channel.onBeforeUnload(onIframeBeforeUnload);\n\n  const clearBeforeUnloadHandler = () => {\n    if (!isInWorker) {\n      window.removeEventListener('beforeunload', onIframeBeforeUnload);\n    }\n    onBeforeUnloadHandle.then(({ remove }) => remove());\n  };\n  if (!isInWorker) {\n    window.addEventListener('beforeunload', onIframeBeforeUnload);\n    window.addEventListener('unload', clearBeforeUnloadHandler);\n  }\n\n  const onBeforeUnload: OnBeforeUnload = (callback) => {\n    eventTarget.addEventListener('beforeunload', callback);\n\n    const remove = () => {\n      eventTarget.removeEventListener('beforeunload', callback);\n    };\n\n    return { remove };\n  };\n\n  return { onBeforeUnload, clearBeforeUnloadHandler };\n};\n","// src/monitoring-client.ts\nimport { createFallbackMonitoringClient } from \"@wix/monitoring\";\nimport { createSentryBrowserClient } from \"@wix/monitoring-browser-sentry\";\nimport {\n  createPanoramaBrowserClient\n} from \"@wix/monitoring-browser-panorama\";\nvar isSentryConfig = (monitoringConfig) => monitoringConfig?.type === \"SENTRY\";\nvar isPanoramaConfig = (monitoringConfig) => monitoringConfig?.type === \"PANORAMA\";\nvar getMonitoringClientFunction = ({\n  sentrySDK,\n  sentryTransport,\n  panoramaClient,\n  monitoringConfig,\n  hostContext\n}) => {\n  if (isSentryConfig(monitoringConfig)) {\n    const { sentryOptions } = monitoringConfig;\n    return () => createSentryBrowserClient({\n      dsn: sentryOptions?.dsn,\n      hostContext,\n      sentrySDK,\n      transport: sentryTransport\n    });\n  } else if (isPanoramaConfig(monitoringConfig)) {\n    return () => createPanoramaBrowserClient({ panoramaClient });\n  }\n  return () => createFallbackMonitoringClient(\n    \"Invalid monitoring configuration. Please check the monitoring setup of your application.\"\n  );\n};\nexport {\n  getMonitoringClientFunction\n};\n","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// src/index.ts\nvar wixContext = {};\nexport {\n  wixContext\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createDashboardModule } from './dashboardHostModule';\nimport { createHost } from './hostPlatform';\n\nexport const dashboard = createDashboardModule({\n  createHost,\n});\n\nexport * from './types';\n"],"names":["root","factory","exports","module","define","amd","self","this","oldContext","$wixContext","initWixModules","globalThis","__wix_context__","undefined","modules","elevated","runWithoutContext","fetchWithAuth","Error","graphql","contextualClient","client","elevatedClient","wixModules","use","urlOrRequest","requestInit","async","query","variables","opts","fn","globalContext","moduleContext","closureContext","createHostModule","hostModuleAPI","hostModule","__type","create","host","Object","entries","reduce","acc","key","props","keys","fromEntries","map","prop","args","context","apply","AddSitePluginModalError","constructor","_ref","message","code","super","_defineProperty","createDashboardModule","createHost","dashboardSDKBuilders","createSDKBuilders","observeState","_ref2","channel","handle","arguments","disconnect","Promise","resolve","then","h","showToast","remove","navigate","_ref3","navigateBack","_ref4","openModal","_ref5","modalInfo","modalParams","modalId","params","modalClosed","closeModal","_ref6","closeData","filteredArg","JSON","parse","stringify","getAccessToken","_ref7","getPageUrl","_ref8","openMediaManager","_ref9","addSitePlugin","_ref10","pluginId","options","additionalParams","placement","action","resp","type","data","error","onBeforeUnload","_ref11","setPageTitle","_ref12","pageTitle","getLanguage","language","_observeStateResult","observeStateResult","_","envState","requestFeedback","_ref13","onLayerStateChange","_ref14","resultOrPromise","installApp","_ref15","getSiteInfo","_ref19","getWidget","_ref16","getDashboardPlugins","_ref17","getDashboardMenuPlugins","_ref18","auth","getAuthHeaders","headers","Authorization","proxyMarker","Symbol","createEndpoint","releaseProxy","throwMarker","isObject","val","transferHandlers","Map","canHandle","serialize","obj","port1","port2","MessageChannel","deserialize","port","start","wrap","value","serialized","isError","name","stack","assign","ep","addEventListener","callback","ev","id","path","argumentList","fromWireValue","returnValue","parent","slice","rawValue","proxy","transfers","transferCache","set","transfer","catch","wireValue","transferables","toWireValue","postMessage","removeEventListener","closeEndPoint","endpoint","isMessagePort","close","target","createProxy","throwIfProxyReleased","isReleased","isProxyReleased","Proxy","get","_target","requestResponseMessage","p","toString","length","r","bind","_thisArg","rawArgumentList","last","processArguments","construct","processed","v","arr","Array","prototype","concat","WeakMap","handler","serializedValue","msg","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","l","proxyCallbackMarker","proxyPromiseMarker","serializeReturnValue","proxies","clonables","extractProxies","deserializeReturnValue","insertProxies","walker","isPromise","proxyId","uniqueId","promises","isFunction","callbacks","innerProxies","argsAsArray","argsWithProxies","exec","isArray","i","mapObjectValues","hasOwnProperty","promiseId","callbackId","_len2","_key2","argsNoProxies","wrapMethodsWithProxy","counter","origin","widgetPort","hostPort","version","sdk","originalMethod","_len","_key","originalResult","validValue","pickByValidValues","pickBy","object","predicate","result","createFallbackMonitoringClient","captureException","console","captureMessage","startSpan","spanOptions","startSpanManual","end","fail","endSpanManual","addBreadcrumb","runWithMaybePromise","cb","res","generateRandomId","Date","now","createManualSpanRegistry","spanMap","createSpan","sentryOptionsOrPromise","resolveSpan","rejectSpan","startTime","maybeDurationCompensation","maybePromise","sentrySDK","scope","isPromise2","promise","forceTransaction","reject","e","endSpan","delete","maybeTimeCompensation","setTimeout","runWithMaybeDelay","span","_error","getSpan","setHostContextOnScope","hostContext","tags","contexts","appId","appVersion","appInstanceId","extensionId","extensionName","extensionType","platform","extensionData","site","url","siteUrl","tenantType","tenantId","account","setTags","forEach","setContext","setTagsAndContextsOnScope","MandatorySDKMethods","manualSpanRegistryMap","AbstractSentryBrowserClient","resolvedState","validateOptions","missingSDKMethods","filter","method","manualSpanRegistry","dsn","isFullSDK","BrowserClient","init","transport","release","environment","tracesSampleRate","debug","Scope","sentryClient","makeFetchTransport","integrations","getDefaultIntegrations","stackParser","defaultStackParser","setClient","loadFullSDK","onLoad","forceLoad","SentryBrowserClient","breadcrumb","filteredBreadcrumb","category","level","captureContext","simulateAndReportSuccessfulSpan","callbackResult2","startTime2","spanDuration","simulatedCallback","simulateAndReportFailedSpan","error2","callbackResult","resolvedStateOrPromise","createSentryBrowserClient","sentrySdkMajorVersion","SDK_VERSION","parseInt","split","warn","major","createPanoramaBrowserClient","panoramaClient","errorMonitor","reportError","contextToData","logger","loggerByLevel","info","transaction","_res","finish","reportErrorInContextOfSpan","severity","reported","reportOnce","allowedOrigins","Set","getEssentialsFromQueryParams","queryParams","has","essentials","decodeURIComponent","safeParseEssentials","config","searchString","fullUrl","URL","search","window","location","URLSearchParams","isWixOrigin","open","closeMethods","autoHeightUpdate","clearHeightReport","registerHeightReporter","bridge","container","resizeObserver","ResizeObserver","update","updateHeight","offsetHeight","observe","autoHeightElement","document","documentElement","push","clearBeforeUnloadHandler","eventTarget","EventTarget","isInWorker","onIframeBeforeUnload","event","dispatchEvent","CustomEvent","cancelable","preventDefault","onBeforeUnloadHandle","registerBeforeUnloadHandler","siteInfo","parseSiteInfo","getSiteInfoSync","channelProxy","receiver","Reflect","monitoring","getMonitoringClient","sentryTransport","monitoringConfig","isSentryConfig","sentryOptions","isPanoramaConfig","getMonitoringClientFunction","Sentry","toPropertyKey","t","defineProperty","enumerable","configurable","writable","__esModule","_typeof","toPrimitive","call","TypeError","String","o","iterator","wixContext","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","toStringTag","dashboard"],"sourceRoot":""}