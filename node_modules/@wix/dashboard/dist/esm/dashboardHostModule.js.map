{"version":3,"names":["createHostModule","createSDKBuilders","createDashboardModule","_ref","createHost","dashboardSDKBuilders","host","auth","getAuthHeaders","getAccessToken","headers","Authorization"],"sources":["../../src/dashboardHostModule.ts"],"sourcesContent":["import { createHostModule } from '@wix/sdk-runtime/host-modules';\nimport type { AuthenticationStrategy } from '@wix/sdk-types';\nimport { createSDKBuilders } from './sdk';\nimport type { CreateHost, Host, SDK } from './types';\n\nexport const createDashboardModule = ({\n  createHost,\n}: {\n  createHost: CreateHost;\n}) => {\n  const dashboardSDKBuilders = createSDKBuilders();\n  return {\n    ...createHostModule<Host, SDK>(dashboardSDKBuilders),\n    host: createHost,\n    auth: () => {\n      return {\n        getAuthHeaders: async (host) => {\n          const getAccessToken = dashboardSDKBuilders.getAccessToken(host);\n          return {\n            headers: {\n              Authorization: await getAccessToken(),\n            },\n          };\n        },\n      } as AuthenticationStrategy<Host>;\n    },\n  };\n};\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,+BAA+B;AAEhE,SAASC,iBAAiB,QAAQ,OAAO;AAGzC,OAAO,MAAMC,qBAAqB,GAAGC,IAAA,IAI/B;EAAA,IAJgC;IACpCC;EAGF,CAAC,GAAAD,IAAA;EACC,MAAME,oBAAoB,GAAGJ,iBAAiB,CAAC,CAAC;EAChD,OAAO;IACL,GAAGD,gBAAgB,CAAYK,oBAAoB,CAAC;IACpDC,IAAI,EAAEF,UAAU;IAChBG,IAAI,EAAEA,CAAA,KAAM;MACV,OAAO;QACLC,cAAc,EAAE,MAAOF,IAAI,IAAK;UAC9B,MAAMG,cAAc,GAAGJ,oBAAoB,CAACI,cAAc,CAACH,IAAI,CAAC;UAChE,OAAO;YACLI,OAAO,EAAE;cACPC,aAAa,EAAE,MAAMF,cAAc,CAAC;YACtC;UACF,CAAC;QACH;MACF,CAAC;IACH;EACF,CAAC;AACH,CAAC","ignoreList":[]}