import { jsx as _jsx } from "react/jsx-runtime";
import React from 'react';
import { AsChildSlot } from '@wix/headless-utils/react';
import { Root as CoreRoot, Plans as CorePlans, PlanRepeater as CorePlanRepeater, } from './core/PlanList.js';
import { Root as PlanRoot } from './Plan.js';
var PlanListTestId;
(function (PlanListTestId) {
    PlanListTestId["Plans"] = "plan-list-plans";
})(PlanListTestId || (PlanListTestId = {}));
/**
 * The root container that provides plan list context to all child components.
 *
 * @component
 * @example
 * ```tsx
 * <PlanList.Root planListServiceConfig={planListServiceConfig}>
 *   <PlanList.Plans emptyState={<div>No plans found</div>} loadingState={<div>Loading...</div>}>
 *     <PlanList.PlanRepeater>
 *       <Plan.Name />
 *       <Plan.Price />
 *       <Plan.Action.BuyNow label="Select Plan" />
 *     </PlanList.PlanRepeater>
 *   </PlanList.Plans>
 * </PlanList.Root>
 * ```
 */
export function Root({ children, planListServiceConfig }) {
    return (_jsx(CoreRoot, { planListServiceConfig: planListServiceConfig, children: children }));
}
/**
 * Container for the plan list with support for empty and loading states.
 *
 * @component
 * @example
 * ```tsx
 * // Default usage
 * <PlanList.Plans emptyState={<div>No plans found</div>} loadingState={<div>Loading...</div>} className="grid grid-cols-1 md:grid-cols-3 gap-4">
 *   <PlanList.PlanRepeater>
 *     <Plan.Name />
 *     <Plan.Price />
 *     <Plan.Action.BuyNow label="Select Plan" />
 *   </PlanList.PlanRepeater>
 * </PlanList.Plans>
 *
 * // With asChild
 * <PlanList.Plans asChild>
 *   {React.forwardRef(({plans}, ref) => (
 *     <div ref={ref}>
 *       {plans.map((plan) => (
 *         <ul key={plan._id}>
 *           <li>{plan.name}</li>
 *           <li>{plan.price.formattedPrice}</li>
 *           <li>{plan.description}</li>
 *         </ul>
 *       ))}
 *     </div>
 *   ))}
 * </PlanList.Plans>
 * ```
 */
export const Plans = React.forwardRef(({ children, asChild, loadingState, emptyState, className }, ref) => (_jsx(CorePlans, { children: (plansData) => (_jsx(AsChildSlot, { ref: ref, asChild: asChild, className: className, "data-testid": PlanListTestId.Plans, "data-is-loading": plansData.isLoading, "data-has-error": plansData.error !== null, customElement: children, customElementProps: plansData, children: _jsx("div", { children: plansData.isLoading
                ? loadingState
                : plansData.plans?.length === 0
                    ? emptyState
                    : children }) })) })));
/**
 * Repeater component that renders Plan.Root for each plan
 *
 * @component
 * @example
 * ```tsx
 * <PlanList.PlanRepeater>
 *   <Plan.Name />
 *   <Plan.Price />
 *   <Plan.Action.BuyNow label="Select Plan" />
 * </PlanList.PlanRepeater>
 * ```
 */
export const PlanRepeater = ({ children }) => (_jsx(CorePlanRepeater, { children: (planRepeaterData) => planRepeaterData.plans.map((plan) => (_jsx(PlanRoot, { planServiceConfig: { plan }, children: children }, plan._id))) }));
