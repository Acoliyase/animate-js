{"version":3,"names":["_assertKey","require","createCollectionConfig","config","itemKey","item","assertOneOfKeys","errorMessage","keys","join","id","_id","itemName","assertStringKey","key","name","toExtendedFields","assertKey","extendedFields","fetchData","filters"],"sources":["../../../src/hooks/createCollectionConfig.ts"],"sourcesContent":["import { FiltersMap, OptionalFiltersMap } from '../model';\nimport { CollectionConfigWithConditionals } from './collectionConfigPartials';\nimport { assertKey, assertOneOfKeys, assertStringKey } from '../util/assertKey';\nimport { CollectionConfig } from './collectionConfig';\n\nexport function createCollectionConfig<\n  T,\n  F extends FiltersMap = OptionalFiltersMap,\n>(config: CollectionConfigWithConditionals<T, F>): CollectionConfig<T, F> {\n  return {\n    itemKey: (item) => {\n      assertOneOfKeys(item, ['id', '_id'], {\n        errorMessage: (keys) =>\n          `Collection config must specify itemKey, or item must have one of properties: ${keys.join(\n            ', ',\n          )}`,\n      });\n      return item.id ?? item._id;\n    },\n    itemName: (item) => {\n      assertStringKey(item, 'name', {\n        errorMessage: (key) =>\n          `Collection config must specify itemName, or item must have property: ${key}`,\n      });\n      return item.name;\n    },\n    toExtendedFields: (item) => {\n      assertKey(item, 'extendedFields', {\n        errorMessage: (key) =>\n          `Collection config must specify toExtendedFields, or item must have property: ${key}`,\n      });\n\n      return item.extendedFields;\n    },\n    ...config,\n    fetchData: config.fetchData,\n    filters: (config.filters ?? {}) as CollectionConfig<T, F>['filters'],\n  };\n}\n"],"mappings":";;;;AAEA,IAAAA,UAAA,GAAAC,OAAA;AAGO,SAASC,sBAAsBA,CAGpCC,MAA8C,EAA0B;EACxE,OAAO;IACLC,OAAO,EAAGC,IAAI,IAAK;MACjB,IAAAC,0BAAe,EAACD,IAAI,EAAE,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;QACnCE,YAAY,EAAGC,IAAI,IACjB,gFAAgFA,IAAI,CAACC,IAAI,CACvF,IACF,CAAC;MACL,CAAC,CAAC;MACF,OAAOJ,IAAI,CAACK,EAAE,IAAIL,IAAI,CAACM,GAAG;IAC5B,CAAC;IACDC,QAAQ,EAAGP,IAAI,IAAK;MAClB,IAAAQ,0BAAe,EAACR,IAAI,EAAE,MAAM,EAAE;QAC5BE,YAAY,EAAGO,GAAG,IAChB,wEAAwEA,GAAG;MAC/E,CAAC,CAAC;MACF,OAAOT,IAAI,CAACU,IAAI;IAClB,CAAC;IACDC,gBAAgB,EAAGX,IAAI,IAAK;MAC1B,IAAAY,oBAAS,EAACZ,IAAI,EAAE,gBAAgB,EAAE;QAChCE,YAAY,EAAGO,GAAG,IAChB,gFAAgFA,GAAG;MACvF,CAAC,CAAC;MAEF,OAAOT,IAAI,CAACa,cAAc;IAC5B,CAAC;IACD,GAAGf,MAAM;IACTgB,SAAS,EAAEhB,MAAM,CAACgB,SAAS;IAC3BC,OAAO,EAAGjB,MAAM,CAACiB,OAAO,IAAI,CAAC;EAC/B,CAAC;AACH","ignoreList":[]}