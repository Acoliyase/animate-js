{"version":3,"names":["_parseFqdn","require","_state","_core","createCollection","container","config","paginationModeRef","overrides","errorMonitor","errorHandler","onlineState","history","translate","queryCache","showToast","initialFetch","lodash","queryName","fqdn","parsedFqdn","parseFqdn","CollectionState","process","env","STORYBOOK_DOCS","QueryCache","initDependencies"],"sources":["../../../src/hooks/createCollection.ts"],"sourcesContent":["import { CollectionConfig } from './collectionConfig';\nimport { parseFqdn } from '../util/parseFqdn';\nimport {\n  WixPatternsContainer,\n  WixPatternsContainerParams,\n  CollectionState,\n  PaginationModeRef,\n} from '../state';\nimport { QueryCache } from 'react-query/core';\nimport { FiltersMap, OptionalFiltersMap } from '../model';\n\nexport interface CreateCollectionOptions {\n  paginationModeRef?: PaginationModeRef;\n  overrides?: Partial<WixPatternsContainerParams>;\n}\n\nexport function createCollection<T, F extends FiltersMap = OptionalFiltersMap>(\n  container: WixPatternsContainer,\n  config: CollectionConfig<T, F>,\n  { paginationModeRef, overrides }: CreateCollectionOptions = {},\n) {\n  const {\n    errorMonitor,\n    errorHandler,\n    onlineState,\n    history,\n    translate,\n    queryCache,\n    showToast,\n    initialFetch,\n    lodash,\n  } = container;\n\n  const { queryName, fqdn } = config;\n\n  // fallbacks to queryName for backwards compatibility\n  const parsedFqdn = parseFqdn(fqdn || queryName);\n\n  return new CollectionState({\n    ...config,\n    queryName,\n    fqdn: parsedFqdn,\n    paginationModeRef,\n    queryCache:\n      overrides?.queryCache ??\n      (typeof process !== 'undefined' && process.env.STORYBOOK_DOCS === 'true'\n        ? new QueryCache()\n        : queryCache),\n    history,\n    errorMonitor,\n    errorHandler,\n    showToast: overrides?.showToast ?? showToast,\n    translate,\n    onlineState,\n    initDependencies: initialFetch,\n    lodash,\n  });\n}\n"],"mappings":";;;;AACA,IAAAA,UAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAMA,IAAAE,KAAA,GAAAF,OAAA;AAQO,SAASG,gBAAgBA,CAC9BC,SAA+B,EAC/BC,MAA8B,EAC9B;EAAEC,iBAAiB;EAAEC;AAAmC,CAAC,GAAG,CAAC,CAAC,EAC9D;EACA,MAAM;IACJC,YAAY;IACZC,YAAY;IACZC,WAAW;IACXC,OAAO;IACPC,SAAS;IACTC,UAAU;IACVC,SAAS;IACTC,YAAY;IACZC;EACF,CAAC,GAAGZ,SAAS;EAEb,MAAM;IAAEa,SAAS;IAAEC;EAAK,CAAC,GAAGb,MAAM;;EAElC;EACA,MAAMc,UAAU,GAAG,IAAAC,oBAAS,EAACF,IAAI,IAAID,SAAS,CAAC;EAE/C,OAAO,IAAII,sBAAe,CAAC;IACzB,GAAGhB,MAAM;IACTY,SAAS;IACTC,IAAI,EAAEC,UAAU;IAChBb,iBAAiB;IACjBO,UAAU,EACR,CAAAN,SAAS,oBAATA,SAAS,CAAEM,UAAU,MACpB,OAAOS,OAAO,KAAK,WAAW,IAAIA,OAAO,CAACC,GAAG,CAACC,cAAc,KAAK,MAAM,GACpE,IAAIC,gBAAU,CAAC,CAAC,GAChBZ,UAAU,CAAC;IACjBF,OAAO;IACPH,YAAY;IACZC,YAAY;IACZK,SAAS,EAAE,CAAAP,SAAS,oBAATA,SAAS,CAAEO,SAAS,KAAIA,SAAS;IAC5CF,SAAS;IACTF,WAAW;IACXgB,gBAAgB,EAAEX,YAAY;IAC9BC;EACF,CAAC,CAAC;AACJ","ignoreList":[]}