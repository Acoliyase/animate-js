{"version":3,"names":["_mobx","require","_ConditionalModalState","_DataExtensionStateBIReporter","ArchiveFieldModalState","constructor","params","_defineProperty2","default","biReporter","DataExtensionStateBIReporter","reportBi","modal","ConditionalModalState","onConfirm","value","reportArchiveFieldModalCtaClicked","dataExtension","archiveField","onClose","makeAutoObservable","exports"],"sources":["../../../src/state/ArchiveFieldModalState.ts"],"sourcesContent":["import { makeAutoObservable } from 'mobx';\nimport { ReportBI } from '../services';\nimport { ConditionalModalState } from './ConditionalModalState';\nimport { DataExtensionStateBIReporter } from './DataExtensionStateBIReporter';\nimport { DataExtensionState } from './DataExtensionState';\n\nexport interface ArchiveFieldModalStateParams {\n  readonly dataExtension: DataExtensionState;\n  readonly reportBi: ReportBI;\n}\n\nexport class ArchiveFieldModalState {\n  readonly biReporter;\n  readonly dataExtension;\n  readonly modal;\n\n  constructor(params: ArchiveFieldModalStateParams) {\n    this.biReporter = new DataExtensionStateBIReporter({\n      reportBi: params.reportBi,\n    });\n    this.modal = new ConditionalModalState<{\n      id: string;\n      origin: string;\n    }>({\n      onConfirm: async () => {\n        if (!this.modal.value) {\n          return;\n        }\n\n        this.biReporter.reportArchiveFieldModalCtaClicked('Archive');\n        await this.dataExtension.archiveField({\n          ...this.modal.value,\n          reportBi: this.biReporter.reportBi,\n        });\n      },\n      onClose: () => {\n        this.biReporter.reportArchiveFieldModalCtaClicked('Cancel');\n      },\n    });\n    this.dataExtension = params.dataExtension;\n    makeAutoObservable(this);\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAEA,IAAAC,sBAAA,GAAAD,OAAA;AACA,IAAAE,6BAAA,GAAAF,OAAA;AAQO,MAAMG,sBAAsB,CAAC;EAKlCC,WAAWA,CAACC,MAAoC,EAAE;IAAA,IAAAC,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IAAA,IAAAD,gBAAA,CAAAC,OAAA;IAChD,IAAI,CAACC,UAAU,GAAG,IAAIC,0DAA4B,CAAC;MACjDC,QAAQ,EAAEL,MAAM,CAACK;IACnB,CAAC,CAAC;IACF,IAAI,CAACC,KAAK,GAAG,IAAIC,4CAAqB,CAGnC;MACDC,SAAS,EAAE,MAAAA,CAAA,KAAY;QACrB,IAAI,CAAC,IAAI,CAACF,KAAK,CAACG,KAAK,EAAE;UACrB;QACF;QAEA,IAAI,CAACN,UAAU,CAACO,iCAAiC,CAAC,SAAS,CAAC;QAC5D,MAAM,IAAI,CAACC,aAAa,CAACC,YAAY,CAAC;UACpC,GAAG,IAAI,CAACN,KAAK,CAACG,KAAK;UACnBJ,QAAQ,EAAE,IAAI,CAACF,UAAU,CAACE;QAC5B,CAAC,CAAC;MACJ,CAAC;MACDQ,OAAO,EAAEA,CAAA,KAAM;QACb,IAAI,CAACV,UAAU,CAACO,iCAAiC,CAAC,QAAQ,CAAC;MAC7D;IACF,CAAC,CAAC;IACF,IAAI,CAACC,aAAa,GAAGX,MAAM,CAACW,aAAa;IACzC,IAAAG,wBAAkB,EAAC,IAAI,CAAC;EAC1B;AACF;AAACC,OAAA,CAAAjB,sBAAA,GAAAA,sBAAA","ignoreList":[]}