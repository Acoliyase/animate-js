{"version":3,"names":["getWixPatternsWindowExperiments","window","__CAIRO_EXPERIMENTS__","getExperimentsCompat","essentials","experiments","experimentsFallbackApi","enabled","e","console","error","ready","Promise","resolve","get","exports"],"sources":["../../../src/services/experiments.ts"],"sourcesContent":["export interface Experiments {\n  enabled(key: string): boolean;\n  ready(): Promise<any>;\n  get(key: string): any;\n}\n\nexport interface ExperimentsBag {\n  [key: string]: string | boolean;\n}\n\nexport function getWixPatternsWindowExperiments(): ExperimentsBag | undefined {\n  return (window as any).__CAIRO_EXPERIMENTS__;\n}\n\nexport function getExperimentsCompat(essentials: {\n  experiments: Experiments;\n}): Experiments {\n  try {\n    const experiments = essentials.experiments ?? experimentsFallbackApi();\n    // When external users in WixCli run it we get exception and we need to use the fallback API\n    experiments.enabled('dummy');\n\n    return experiments;\n  } catch (e) {\n    console.error(e);\n    return experimentsFallbackApi();\n  }\n}\n\nexport const experimentsFallbackApi = (): Experiments => ({\n  enabled: () => false,\n  ready: () => Promise.resolve(true),\n  get: () => '',\n});\n"],"mappings":";;;;;;AAUO,SAASA,+BAA+BA,CAAA,EAA+B;EAC5E,OAAQC,MAAM,CAASC,qBAAqB;AAC9C;AAEO,SAASC,oBAAoBA,CAACC,UAEpC,EAAe;EACd,IAAI;IACF,MAAMC,WAAW,GAAGD,UAAU,CAACC,WAAW,IAAIC,sBAAsB,CAAC,CAAC;IACtE;IACAD,WAAW,CAACE,OAAO,CAAC,OAAO,CAAC;IAE5B,OAAOF,WAAW;EACpB,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVC,OAAO,CAACC,KAAK,CAACF,CAAC,CAAC;IAChB,OAAOF,sBAAsB,CAAC,CAAC;EACjC;AACF;AAEO,MAAMA,sBAAsB,GAAGA,CAAA,MAAoB;EACxDC,OAAO,EAAEA,CAAA,KAAM,KAAK;EACpBI,KAAK,EAAEA,CAAA,KAAMC,OAAO,CAACC,OAAO,CAAC,IAAI,CAAC;EAClCC,GAAG,EAAEA,CAAA,KAAM;AACb,CAAC,CAAC;AAACC,OAAA,CAAAT,sBAAA,GAAAA,sBAAA","ignoreList":[]}