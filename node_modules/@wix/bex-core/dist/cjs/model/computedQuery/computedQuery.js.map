{"version":3,"names":[],"sources":["../../../../src/model/computedQuery/computedQuery.ts"],"sourcesContent":["import { SortOrder } from '../sort';\nimport { Filter, FiltersMap, OptionalFiltersMap } from '../filter';\n\nexport type ExtractFilterValue<T> = T extends Filter<infer U> ? U : undefined;\n\nexport type RawFilters<F extends FiltersMap> = Partial<{\n  [P in keyof F]: ExtractFilterValue<F[P]>;\n}>;\n\nexport type FiltersKey<F extends FiltersMap> = Partial<{\n  [P in keyof F]: string[] | undefined | null;\n}>;\n\nexport type AllFilters<F extends FiltersMap> = F & { search: Filter<string> };\n\nexport type FiltersValues<F extends FiltersMap> = {\n  [P in keyof F]: {\n    value?: ExtractFilterValue<F[P]>;\n  };\n};\n\nexport interface Sort {\n  field: string;\n  direction: SortOrder;\n}\n\nexport interface ComputedQuery<F extends FiltersMap = OptionalFiltersMap> {\n  /**\n   * Number of items to fetch for each page\n   * @external\n   */\n  limit: number;\n  /**\n   * The index of the item to start fetching items from.<br>\n   * Relevant for APIs that support offset pagination.<br>\n   * Not available on `CursorQuery`.\n   * @external\n   */\n  offset: number;\n  page: number;\n  /**\n   * Current search term. Defaults to `undefined` for empty search.\n   * @external\n   */\n  search?: string;\n  /**\n   * Current search term. Defaults to `''` for empty search.\n   * @external\n   */\n  rawSearch: string;\n  /**\n   * The `cursor` returned from the server, to be sent back to it in the next call.<br>\n   * Relevant for APIs that support cursor pagination.<br>\n   * Not available on `OffsetQuery`.\n   * @external\n   */\n  cursor?: string | null;\n  /**\n   * Current state of the filters. Each key holds the value of the filter, according to its type, defined in [CollectionConfig](./?path=/story/common-hooks--usecollection).\n   * @external\n   */\n  filters: RawFilters<F>;\n  /**\n   * Same as `filters` but defaults to `undefined` for empty filter values.\n   * @external\n   */\n  rawFilters: RawFilters<F>;\n  /**\n   * Whether at least one filter is not empty.\n   * @external\n   */\n  hasActiveFilters: boolean;\n  /**\n   * Whether at least one filter is not empty, not including tabs.\n   * @external\n   */\n  hasNonPersistentActiveFilters: boolean;\n  /**\n   * Current sort applied to the collection.\n   * @external\n   */\n  sort?: { fieldName: string; order: 'asc' | 'desc' }[];\n\n  /**\n   * @deprecated Use `fields` instead\n   */\n  columns?: string[];\n  /**\n   * Array of projected fields. A list of specific field names to fetch. Use this to optimize your server query to load only needed columns. Note that a mapping between client-side columns to server-fields is usually required.\n   * Use `refreshOnColumnsChange` of [useCollection](./?path=/story/common-hooks--usecollection) to control whether the collection should be refreshed when this value changes.\n   * @external\n   */\n  fields?: string[];\n  /**\n   * Extra data to be passed to the query.\n   * @external\n   */\n  extra?: string;\n}\n\nexport interface ComputedQueryFull<F extends FiltersMap = OptionalFiltersMap>\n  extends ComputedQuery<F> {\n  filtersKey: FiltersKey<F>;\n  nonPersistentFiltersKey: FiltersKey<F>;\n}\n"],"mappings":"","ignoreList":[]}