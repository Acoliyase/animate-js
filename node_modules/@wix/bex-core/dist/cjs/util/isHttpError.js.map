{"version":3,"names":["_has","_interopRequireDefault","require","isHttpError","err","has","isErrorDetails","details","isDetailsResponse","res","isErrorDetailsHttpError","_err$response","response","data","isServerErrorCode","_err$response2","_err$response3","_err$response4","status"],"sources":["../../../src/util/isHttpError.ts"],"sourcesContent":["import type { HttpError } from '@wix/fe-essentials/http-client';\nimport has from 'lodash/has';\nimport { Details } from '@wix/bex-utils/@wix/ambassador-fedinfra-exportservice-v1-export-async-job/types';\n\nexport type { Details as ErrorDetails } from '@wix/bex-utils/@wix/ambassador-fedinfra-exportservice-v1-export-async-job/types';\n\nexport function isHttpError(err: unknown): err is HttpError {\n  return has(err, 'response');\n}\n\nexport function isErrorDetails(details: unknown): details is Details {\n  return has(details, 'applicationError') || has(details, 'validationError');\n}\n\nexport function isDetailsResponse(res: unknown): res is { details: unknown } {\n  return has(res, 'details');\n}\n\nexport function isErrorDetailsHttpError(\n  err: unknown,\n): err is { response: { data: Details } } {\n  return isHttpError(err) && isErrorDetails(err.response?.data);\n}\n\n// servers errors are 5xx\nexport function isServerErrorCode(err: unknown) {\n  return (\n    isHttpError(err) &&\n    typeof err?.response?.status === 'number' &&\n    err?.response?.status >= 500 &&\n    err?.response?.status < 600\n  );\n}\n"],"mappings":";;;;;;;;;AACA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AAKO,SAASC,WAAWA,CAACC,GAAY,EAAoB;EAC1D,OAAO,IAAAC,YAAG,EAACD,GAAG,EAAE,UAAU,CAAC;AAC7B;AAEO,SAASE,cAAcA,CAACC,OAAgB,EAAsB;EACnE,OAAO,IAAAF,YAAG,EAACE,OAAO,EAAE,kBAAkB,CAAC,IAAI,IAAAF,YAAG,EAACE,OAAO,EAAE,iBAAiB,CAAC;AAC5E;AAEO,SAASC,iBAAiBA,CAACC,GAAY,EAA+B;EAC3E,OAAO,IAAAJ,YAAG,EAACI,GAAG,EAAE,SAAS,CAAC;AAC5B;AAEO,SAASC,uBAAuBA,CACrCN,GAAY,EAC4B;EAAA,IAAAO,aAAA;EACxC,OAAOR,WAAW,CAACC,GAAG,CAAC,IAAIE,cAAc,EAAAK,aAAA,GAACP,GAAG,CAACQ,QAAQ,qBAAZD,aAAA,CAAcE,IAAI,CAAC;AAC/D;;AAEA;AACO,SAASC,iBAAiBA,CAACV,GAAY,EAAE;EAAA,IAAAW,cAAA,EAAAC,cAAA,EAAAC,cAAA;EAC9C,OACEd,WAAW,CAACC,GAAG,CAAC,IAChB,QAAOA,GAAG,aAAAW,cAAA,GAAHX,GAAG,CAAEQ,QAAQ,qBAAbG,cAAA,CAAeG,MAAM,MAAK,QAAQ,IACzC,CAAAd,GAAG,aAAAY,cAAA,GAAHZ,GAAG,CAAEQ,QAAQ,qBAAbI,cAAA,CAAeE,MAAM,KAAI,GAAG,IAC5B,CAAAd,GAAG,aAAAa,cAAA,GAAHb,GAAG,CAAEQ,QAAQ,qBAAbK,cAAA,CAAeC,MAAM,IAAG,GAAG;AAE/B","ignoreList":[]}