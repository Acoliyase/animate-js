"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
exports.__esModule = true;
exports.createSitesBackend = void 0;
var _chance = require("chance");
var _inMemoryBackend = require("@wix/bex-core/in-memory-backend");
var _escapeRegExp = _interopRequireDefault(require("lodash/escapeRegExp"));
const createSitesBackend = params => {
  const chance = new _chance.Chance();
  return new _inMemoryBackend.InMemoryBackend({
    createOne: () => ({
      id: chance.guid(),
      name: chance.string(),
      thumbnail: chance.avatar(),
      viewUrl: chance.url()
    }),
    itemKey: item => item.id,
    total: 1000,
    predicate: ({
      search
    }) => {
      const rgx = new RegExp((0, _escapeRegExp.default)(search), 'i');
      return item => {
        if (search && !rgx.test(item.name)) {
          return false;
        }
        return true;
      };
    },
    ...params
  });
};
exports.createSitesBackend = createSitesBackend;
//# sourceMappingURL=createSitesBackend.js.map