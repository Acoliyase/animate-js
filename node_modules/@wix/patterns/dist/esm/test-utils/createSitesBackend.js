import { Chance } from 'chance';
import { InMemoryBackend, } from '@wix/bex-core/in-memory-backend';
import escapeRegExp from 'lodash/escapeRegExp';
export const createSitesBackend = (params) => {
    const chance = new Chance();
    return new InMemoryBackend({
        createOne: () => ({
            id: chance.guid(),
            name: chance.string(),
            thumbnail: chance.avatar(),
            viewUrl: chance.url(),
        }),
        itemKey: (item) => item.id,
        total: 1000,
        predicate: ({ search }) => {
            const rgx = new RegExp(escapeRegExp(search), 'i');
            return (item) => {
                if (search && !rgx.test(item.name)) {
                    return false;
                }
                return true;
            };
        },
        ...params,
    });
};
//# sourceMappingURL=createSitesBackend.js.map