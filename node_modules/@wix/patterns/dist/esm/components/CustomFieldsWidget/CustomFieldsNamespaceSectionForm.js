import React, { useEffect } from 'react';
import { observer } from 'mobx-react-lite';
import { CustomFieldsForm } from '../CustomFieldsForm';
import { Box, InfoIcon, SectionHeader, Text } from '@wix/design-system';
import { useCustomFieldsFormState } from './useCustomFieldsFormState';
function _CustomFieldsNamespaceSectionForm(props) {
    const { index, state: allNamespacesFormState, onChange, namespace } = props;
    const state = useCustomFieldsFormState({
        state: allNamespacesFormState,
        namespace,
    });
    const { _customFieldsWidgetState: { container: { translate: t }, _userFieldsNamespace, }, } = allNamespacesFormState;
    useEffect(() => state.init(), []);
    if (!state.writeableFields.length) {
        return null;
    }
    return (React.createElement(Box, { key: namespace, dataHook: `custom-fields-namespace-form-${namespace}`, direction: "vertical", width: "100%", gap: "SP3", paddingTop: index > 0 ? 'SP3' : undefined },
        React.createElement(SectionHeader, { dataHook: "section-header", title: React.createElement(Text, { secondary: true }, state.appName), suffix: namespace !== _userFieldsNamespace && (React.createElement(InfoIcon, { dataHook: "info-icon", content: t('cairo.customFields.tpaSection.tooltip'), size: "small" })), skin: "light", divider: index > 0 ? 'top' : 'none', size: "medium", horizontalPadding: "xxTiny" }),
        React.createElement(CustomFieldsForm, { state: state, onChange: onChange })));
}
export const CustomFieldsNamespaceSectionForm = observer(_CustomFieldsNamespaceSectionForm);
//# sourceMappingURL=CustomFieldsNamespaceSectionForm.js.map