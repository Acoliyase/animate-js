import React, { useState } from 'react';
import { Box, TableListItem } from '@wix/design-system';
import { useDownloadFile } from './useDownloadFile';
import { FilePreviewModal } from './FilePreviewModal';
import { FileCard } from './FileCard';
export function FilePreview({ file, showDownloadCTA, showDetails, }) {
    const { mediaType } = file;
    const [isPreviewOpen, setIsPreviewOpen] = useState(false);
    const { downloadFile } = useDownloadFile({ file });
    const supportedPreviewTypes = ['picture', 'video'];
    return (React.createElement(Box, { marginBottom: "SP1", direction: "vertical", width: showDetails ? '100%' : 'fit-content' },
        React.createElement(TableListItem, { verticalPadding: "xxTiny", horizontalPadding: "xxTiny", border: true, onClick: (e) => {
                e.stopPropagation();
                if (!supportedPreviewTypes.includes(mediaType)) {
                    downloadFile();
                    return;
                }
                setIsPreviewOpen(true);
            }, options: [
                {
                    value: (React.createElement(Box, { height: showDetails ? 48 : 36, overflow: "hidden", dataHook: `file-upload-formatted-${file.mediaId}` },
                        React.createElement(FileCard, { file: file, showDownloadCTA: showDownloadCTA, showDetails: showDetails }))),
                },
            ] }),
        supportedPreviewTypes.includes(mediaType) ? (React.createElement(FilePreviewModal, { file: file, showDetails: showDetails, isOpen: isPreviewOpen, close: () => {
                setIsPreviewOpen(false);
            } })) : null));
}
//# sourceMappingURL=FilePreview.js.map