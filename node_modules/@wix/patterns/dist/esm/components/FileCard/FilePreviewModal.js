import React, { useMemo } from 'react';
import { CustomModalLayout, Loader, Modal, Image, Box, } from '@wix/design-system';
import { resolveFileByMediaType } from './resolveFileByMediaType';
import { useDownloadFile } from './useDownloadFile';
import { Download } from '@wix/wix-ui-icons-common';
import { useWixPatternsContainer } from '@wix/bex-core/react';
export const FilePreviewModal = ({ file, isOpen, close, showDetails, }) => {
    const { translate: t } = useWixPatternsContainer();
    const { downloadFile, isDownloading } = useDownloadFile({ file });
    const { fileUrl } = resolveFileByMediaType(file, showDetails);
    const prefixIcon = useMemo(() => (React.createElement(Box, { verticalAlign: "middle" }, isDownloading ? React.createElement(Loader, { size: "tiny" }) : React.createElement(Download, { size: "small" }))), [isDownloading]);
    return (React.createElement(Modal, { isOpen: isOpen, onRequestClose: close, shouldCloseOnOverlayClick: true },
        React.createElement(CustomModalLayout, { title: file.displayName, onCloseButtonClick: close, primaryButtonText: t('cairo.customFields.fileUpload.download.cta'), primaryButtonProps: {
                prefixIcon,
            }, primaryButtonOnClick: downloadFile }, file.mediaType === 'video' ? (React.createElement("video", { controls: true, style: {
                width: '100%',
                height: 'auto',
                maxHeight: '70vh',
                margin: '0 auto',
            }, src: fileUrl, autoPlay: false })) : (React.createElement(Image, { style: { height: '500px', width: '500px', objectFit: 'contain' }, src: fileUrl })))));
};
//# sourceMappingURL=FilePreviewModal.js.map