import { Page } from '@wix/design-system';
import React, { Children } from 'react';
import { CollectionPageHeader } from '../CollectionPageHeader';
import { InfiniteScrollPage } from '../PageWrapper/InfiniteScrollPage';
import { CollectionProvider } from '../CollectionContext';
import { useCollectionPageState } from '@wix/bex-core/react';
import { usePageHeader } from '../../hooks/usePageHeader';
/**
 * @deprecated Use [CollectionPage](./?path=%2Fstory%2Fbase-components-pages-collection-page--collectionpage) from
 * `@wix/patterns/page`
 */
export function CollectionPage({ children, state, hideTotal, ...rest }) {
    const childrenArr = Children.toArray(children);
    const { header, title: pageTitle } = usePageHeader(childrenArr);
    const collectionPageState = useCollectionPageState({ pageTitle });
    return (React.createElement(CollectionProvider, { value: state },
        React.createElement(InfiniteScrollPage, { state: collectionPageState, ...rest },
            header && (React.createElement(Page.Header, { ...header.props, title: hideTotal ? (header.props.title) : (React.createElement(CollectionPageHeader, { state: state }, header.props.title)) })),
            childrenArr.filter((e) => e !== header))));
}
//# sourceMappingURL=CollectionPage.js.map