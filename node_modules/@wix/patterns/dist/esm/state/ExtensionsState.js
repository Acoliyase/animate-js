import { TaskState, } from '@wix/bex-core';
import { computed, makeObservable } from 'mobx';
export class ExtensionsState {
    constructor(params) {
        this.initTask = new TaskState();
        this._container = params.container;
        this._containerId = params.containerId;
        this._containerProps = params.containerProps;
        makeObservable(this, {
            items: computed,
        });
    }
    get items() {
        return this.initTask.status.data || [];
    }
    init() {
        const { initTask } = this;
        initTask.runOnce(async () => {
            const { _container: { getHostContainer }, _containerId, } = this;
            if (!getHostContainer || !_containerId) {
                return [];
            }
            const hostContainer = getHostContainer(_containerId);
            const items = await hostContainer.getExtensions(); // it's not really async, here for backwards compatibility with old biz types and eventually can be replaced with getContainerMenuItems
            return items;
        });
    }
}
//# sourceMappingURL=ExtensionsState.js.map