{"version":3,"names":["_react","_interopRequireDefault","require","_designSystem","_testkit","_react2","_dragAndDrop","_testUtils","_jsxFileName","TestApp","showSelection","items","setItems","React","useState","id","name","price","default","createElement","Table","dataHook","columns","title","render","row","data","dragAndDrop","TableDragAndDrop","onDragEnd","active","over","newItems","move","__self","__source","fileName","lineNumber","columnNumber","dragStart","node","fireEvent","pointerDown","getNative","dragEnd","pointerUp","describe","it","result","table","TableTestkit","wrapper","baseElement","expect","getRowText","toBe","getRow","exists","selectAll","getBulkSelectionCheckboxDriver","click","isRowSelected"],"sources":["../../../src/__tests__/table.spec.tsx"],"sourcesContent":["import React from 'react';\nimport { Table } from '@wix/design-system';\nimport { TableTestkit } from '@wix/design-system/dist/testkit';\nimport { render, fireEvent } from '@testing-library/react';\nimport { TableDragAndDrop } from '../drag-and-drop';\nimport { move } from '../test-utils';\nimport { UniDriver } from '@wix/unidriver-core';\n\nconst TestApp = ({\n  showSelection = false,\n}: { showSelection?: boolean } = {}) => {\n  const [items, setItems] = React.useState(() => [\n    {\n      id: '5880f692-4468-40cf-b5b5-07a0f535506a',\n      name: 'Ice Cream',\n      price: '$2.00',\n    },\n    {\n      id: '60b73a3b-0252-4426-9bef-ac8a20a09492',\n      name: 'Sandwich',\n      price: '$5.00',\n    },\n    {\n      id: '58319273-f5cc-4920-88fa-85b228763c95',\n      name: 'Mushroom Pasta',\n      price: '$7.00',\n    },\n  ]);\n\n  return (\n    <Table\n      dataHook=\"table\"\n      columns={[\n        { title: 'Name', render: (row) => row.name },\n        { title: 'Price', render: (row) => row.price },\n      ]}\n      data={items}\n      dragAndDrop={TableDragAndDrop}\n      onDragEnd={({ active, over }) => {\n        const newItems = move(items, active.id, over?.id);\n        if (newItems) {\n          setItems(newItems);\n        }\n      }}\n      showSelection={showSelection}\n    />\n  );\n};\n\nconst dragStart = async (node: UniDriver<any>) => {\n  fireEvent.pointerDown(await node.getNative());\n};\n\nconst dragEnd = async (node: UniDriver<any>) => {\n  fireEvent.pointerUp(await node.getNative());\n};\n\ndescribe('Table DragAndDrop', () => {\n  it('should reorder rows', async () => {\n    const result = render(<TestApp />);\n    const table = TableTestkit({\n      wrapper: result.baseElement,\n      dataHook: 'table',\n    });\n\n    expect((await table.getRowText(0))[1]).toBe('Ice Cream');\n    expect((await table.getRowText(1))[1]).toBe('Sandwich');\n    expect((await table.getRowText(2))[1]).toBe('Mushroom Pasta');\n\n    await dragStart(table.getRow(0));\n    await dragEnd(table.getRow(2));\n\n    expect((await table.getRowText(0))[1]).toBe('Sandwich');\n    expect((await table.getRowText(1))[1]).toBe('Mushroom Pasta');\n    expect((await table.getRowText(2))[1]).toBe('Ice Cream');\n  });\n\n  it('should be able to click on selectAll with enabled DragAndDrop', async () => {\n    const result = render(<TestApp showSelection />);\n    const table = TableTestkit({\n      wrapper: result.baseElement,\n      dataHook: 'table',\n    });\n\n    expect(await table.exists()).toBe(true);\n\n    const selectAll = await table.getBulkSelectionCheckboxDriver();\n    await selectAll.click();\n\n    expect(await table.isRowSelected(0)).toBe(true);\n    expect(await table.isRowSelected(1)).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}