{"version":3,"names":["_react","_interopRequireWildcard","require","_system","_DragHandleStCss","_DragAndDropContext","_useSortableTableRow","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DragHandle","props","id","className","setActivatorNodeRef","useSortableTableRow","eventHandlers","announcements","dragHandleRef","dragHandleRefProp","onDropAnimationEnd","useDragAndDropContext","ariaDescribedBy","useRef","useEffect","createElement","_extends2","handle","st","classes","root","__self","__source","fileName","lineNumber","columnNumber","style","display","itemDescription","ref","current","role","dragHandleLabel","triggerIcon","tabIndex","DragAndDropLarge","isDragHandleNode","node","classList","contains"],"sources":["../../../../src/drag-and-drop/table/DragHandle.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { DragAndDropLarge } from '@wix/wix-ui-icons-common/system';\nimport { classes, st } from './DragHandle.st.css.js';\nimport { useDragAndDropContext } from './DragAndDropContext';\nimport { useSortableTableRow } from './useSortableTableRow';\n\nexport interface DragHandleProps {\n  id: string | number;\n  className?: string;\n}\n\nexport function DragHandle(props: DragHandleProps) {\n  const { id, className } = props;\n\n  const { setActivatorNodeRef } = useSortableTableRow({ id });\n\n  const {\n    eventHandlers,\n    announcements,\n    dragHandleRef: dragHandleRefProp,\n    onDropAnimationEnd,\n  } = useDragAndDropContext();\n\n  const ariaDescribedBy = `draggable-table-row-description-${id}`;\n\n  const dragHandleRef = useRef<HTMLElement | null>();\n\n  useEffect(() => {\n    if (onDropAnimationEnd) {\n      return onDropAnimationEnd(id, dragHandleRef);\n    }\n\n    return;\n  }, [id, onDropAnimationEnd]);\n\n  return (\n    <div\n      {...eventHandlers?.handle?.({ id })}\n      className={st(classes.root, {}, className)}\n    >\n      <div id={ariaDescribedBy} style={{ display: 'none' }}>\n        {announcements?.itemDescription?.(id)}\n      </div>\n      <div\n        ref={(e) => {\n          dragHandleRef.current = e;\n          setActivatorNodeRef(e);\n          dragHandleRefProp?.(id, e);\n        }}\n        role=\"button\"\n        aria-describedby={ariaDescribedBy}\n        aria-label={announcements?.dragHandleLabel?.(id)}\n        className={classes.triggerIcon}\n        tabIndex={0}\n      >\n        <DragAndDropLarge />\n      </div>\n    </div>\n  );\n}\n\nexport function isDragHandleNode(node: HTMLElement) {\n  return node.classList.contains(classes.triggerIcon);\n}\n"],"mappings":"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","ignoreList":[]}