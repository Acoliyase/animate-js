{"version":3,"names":["_react","_interopRequireWildcard","require","_core","_DragAndDropContext","_utilities","_restrictContainerToWindowEdges","_restrictKeyboardToVerticalAxis","_useDefaultDragOverlayProps","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","TableRowHorizontalScrollDragOverlay","children","dropAnimation","dropAnimationProp","DragOverlayComponentType","DragOverlay","useDragAndDropContext","scrollableAncestorRects","activeNodeRect","useDndContext","containerNodeRect","containerWidth","width","widthRef","useRef","current","containerLeft","left","leftRef","style","useMemo","Math","min","keyframes","useCallback","transform","initial","final","CSS","Transform","toString","x","defaultDragOverlayProps","useDefaultDragOverlayProps","createElement","_extends2","modifiers","restrictContainerToWindowEdges","restrictKeyboardToVerticalAxis","__self","__source","fileName","lineNumber","columnNumber"],"sources":["../../../../src/drag-and-drop/table/TableRowHorizontalScrollDragOverlay.tsx"],"sourcesContent":["import React, { ReactNode, useCallback, useMemo, useRef } from 'react';\nimport { DragOverlay, useDndContext } from '@dnd-kit/core';\nimport { useDragAndDropContext } from './DragAndDropContext';\nimport { CSS, Transform } from '@dnd-kit/utilities';\nimport { restrictContainerToWindowEdges } from './restrictContainerToWindowEdges';\nimport { restrictKeyboardToVerticalAxis } from './restrictKeyboardToVerticalAxis';\nimport { useDefaultDragOverlayProps } from './useDefaultDragOverlayProps';\n\nexport function TableRowHorizontalScrollDragOverlay({\n  children,\n}: {\n  children?: ReactNode;\n}) {\n  const {\n    dropAnimation: dropAnimationProp,\n    DragOverlayComponentType = DragOverlay,\n  } = useDragAndDropContext();\n  const { scrollableAncestorRects, activeNodeRect } = useDndContext();\n\n  const containerNodeRect = scrollableAncestorRects[0];\n\n  const containerWidth = containerNodeRect?.width;\n  const widthRef = useRef(containerWidth);\n  if (containerWidth != null) {\n    widthRef.current = containerWidth;\n  }\n\n  const containerLeft = containerNodeRect?.left;\n  const leftRef = useRef(containerLeft);\n  if (containerNodeRect != null) {\n    leftRef.current = containerLeft;\n  }\n\n  const style = useMemo(\n    () => ({\n      left: leftRef.current,\n      width:\n        widthRef.current != null && activeNodeRect?.width != null\n          ? Math.min(widthRef.current, activeNodeRect.width)\n          : widthRef.current,\n    }),\n    [widthRef.current, leftRef.current, activeNodeRect],\n  );\n\n  const keyframes = useCallback(\n    ({\n      transform: { initial, final },\n    }: {\n      transform: {\n        initial: Transform;\n        final: Transform;\n      };\n    }) => {\n      return [\n        {\n          transform: CSS.Transform.toString(initial),\n        },\n        {\n          transform: CSS.Transform.toString({\n            ...final,\n            x: initial.x,\n          }),\n        },\n      ];\n    },\n    [],\n  );\n\n  const dropAnimation = useMemo(\n    () => ({\n      ...dropAnimationProp,\n      keyframes,\n    }),\n    [dropAnimationProp, keyframes],\n  );\n\n  const defaultDragOverlayProps = useDefaultDragOverlayProps();\n\n  return (\n    <DragOverlayComponentType\n      {...defaultDragOverlayProps}\n      dropAnimation={dropAnimation}\n      modifiers={[\n        restrictContainerToWindowEdges,\n        restrictKeyboardToVerticalAxis,\n      ]}\n      style={{\n        ...defaultDragOverlayProps.style,\n        ...style,\n      }}\n    >\n      {children}\n    </DragOverlayComponentType>\n  );\n}\n"],"mappings":"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","ignoreList":[]}