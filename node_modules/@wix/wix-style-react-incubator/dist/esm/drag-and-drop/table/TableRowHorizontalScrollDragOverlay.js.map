{"version":3,"names":["React","useCallback","useMemo","useRef","DragOverlay","useDndContext","useDragAndDropContext","CSS","restrictContainerToWindowEdges","restrictKeyboardToVerticalAxis","useDefaultDragOverlayProps","TableRowHorizontalScrollDragOverlay","_ref","children","dropAnimation","dropAnimationProp","DragOverlayComponentType","scrollableAncestorRects","activeNodeRect","containerNodeRect","containerWidth","width","widthRef","current","containerLeft","left","leftRef","style","Math","min","keyframes","_ref2","transform","initial","final","Transform","toString","x","defaultDragOverlayProps","createElement","_extends","modifiers"],"sources":["../../../../src/drag-and-drop/table/TableRowHorizontalScrollDragOverlay.tsx"],"sourcesContent":["import React, { ReactNode, useCallback, useMemo, useRef } from 'react';\nimport { DragOverlay, useDndContext } from '@dnd-kit/core';\nimport { useDragAndDropContext } from './DragAndDropContext';\nimport { CSS, Transform } from '@dnd-kit/utilities';\nimport { restrictContainerToWindowEdges } from './restrictContainerToWindowEdges';\nimport { restrictKeyboardToVerticalAxis } from './restrictKeyboardToVerticalAxis';\nimport { useDefaultDragOverlayProps } from './useDefaultDragOverlayProps';\n\nexport function TableRowHorizontalScrollDragOverlay({\n  children,\n}: {\n  children?: ReactNode;\n}) {\n  const {\n    dropAnimation: dropAnimationProp,\n    DragOverlayComponentType = DragOverlay,\n  } = useDragAndDropContext();\n  const { scrollableAncestorRects, activeNodeRect } = useDndContext();\n\n  const containerNodeRect = scrollableAncestorRects[0];\n\n  const containerWidth = containerNodeRect?.width;\n  const widthRef = useRef(containerWidth);\n  if (containerWidth != null) {\n    widthRef.current = containerWidth;\n  }\n\n  const containerLeft = containerNodeRect?.left;\n  const leftRef = useRef(containerLeft);\n  if (containerNodeRect != null) {\n    leftRef.current = containerLeft;\n  }\n\n  const style = useMemo(\n    () => ({\n      left: leftRef.current,\n      width:\n        widthRef.current != null && activeNodeRect?.width != null\n          ? Math.min(widthRef.current, activeNodeRect.width)\n          : widthRef.current,\n    }),\n    [widthRef.current, leftRef.current, activeNodeRect],\n  );\n\n  const keyframes = useCallback(\n    ({\n      transform: { initial, final },\n    }: {\n      transform: {\n        initial: Transform;\n        final: Transform;\n      };\n    }) => {\n      return [\n        {\n          transform: CSS.Transform.toString(initial),\n        },\n        {\n          transform: CSS.Transform.toString({\n            ...final,\n            x: initial.x,\n          }),\n        },\n      ];\n    },\n    [],\n  );\n\n  const dropAnimation = useMemo(\n    () => ({\n      ...dropAnimationProp,\n      keyframes,\n    }),\n    [dropAnimationProp, keyframes],\n  );\n\n  const defaultDragOverlayProps = useDefaultDragOverlayProps();\n\n  return (\n    <DragOverlayComponentType\n      {...defaultDragOverlayProps}\n      dropAnimation={dropAnimation}\n      modifiers={[\n        restrictContainerToWindowEdges,\n        restrictKeyboardToVerticalAxis,\n      ]}\n      style={{\n        ...defaultDragOverlayProps.style,\n        ...style,\n      }}\n    >\n      {children}\n    </DragOverlayComponentType>\n  );\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAeC,WAAW,EAAEC,OAAO,EAAEC,MAAM,QAAQ,OAAO;AACtE,SAASC,WAAW,EAAEC,aAAa,QAAQ,eAAe;AAC1D,SAASC,qBAAqB,QAAQ,sBAAsB;AAC5D,SAASC,GAAG,QAAmB,oBAAoB;AACnD,SAASC,8BAA8B,QAAQ,kCAAkC;AACjF,SAASC,8BAA8B,QAAQ,kCAAkC;AACjF,SAASC,0BAA0B,QAAQ,8BAA8B;AAEzE,OAAO,SAASC,mCAAmCA,CAAAC,IAAA,EAIhD;EAAA,IAJiD;IAClDC;EAGF,CAAC,GAAAD,IAAA;EACC,MAAM;IACJE,aAAa,EAAEC,iBAAiB;IAChCC,wBAAwB,GAAGZ;EAC7B,CAAC,GAAGE,qBAAqB,CAAC,CAAC;EAC3B,MAAM;IAAEW,uBAAuB;IAAEC;EAAe,CAAC,GAAGb,aAAa,CAAC,CAAC;EAEnE,MAAMc,iBAAiB,GAAGF,uBAAuB,CAAC,CAAC,CAAC;EAEpD,MAAMG,cAAc,GAAGD,iBAAiB,oBAAjBA,iBAAiB,CAAEE,KAAK;EAC/C,MAAMC,QAAQ,GAAGnB,MAAM,CAACiB,cAAc,CAAC;EACvC,IAAIA,cAAc,IAAI,IAAI,EAAE;IAC1BE,QAAQ,CAACC,OAAO,GAAGH,cAAc;EACnC;EAEA,MAAMI,aAAa,GAAGL,iBAAiB,oBAAjBA,iBAAiB,CAAEM,IAAI;EAC7C,MAAMC,OAAO,GAAGvB,MAAM,CAACqB,aAAa,CAAC;EACrC,IAAIL,iBAAiB,IAAI,IAAI,EAAE;IAC7BO,OAAO,CAACH,OAAO,GAAGC,aAAa;EACjC;EAEA,MAAMG,KAAK,GAAGzB,OAAO,CACnB,OAAO;IACLuB,IAAI,EAAEC,OAAO,CAACH,OAAO;IACrBF,KAAK,EACHC,QAAQ,CAACC,OAAO,IAAI,IAAI,IAAI,CAAAL,cAAc,oBAAdA,cAAc,CAAEG,KAAK,KAAI,IAAI,GACrDO,IAAI,CAACC,GAAG,CAACP,QAAQ,CAACC,OAAO,EAAEL,cAAc,CAACG,KAAK,CAAC,GAChDC,QAAQ,CAACC;EACjB,CAAC,CAAC,EACF,CAACD,QAAQ,CAACC,OAAO,EAAEG,OAAO,CAACH,OAAO,EAAEL,cAAc,CACpD,CAAC;EAED,MAAMY,SAAS,GAAG7B,WAAW,CAC3B8B,KAAA,IAOM;IAAA,IAPL;MACCC,SAAS,EAAE;QAAEC,OAAO;QAAEC;MAAM;IAM9B,CAAC,GAAAH,KAAA;IACC,OAAO,CACL;MACEC,SAAS,EAAEzB,GAAG,CAAC4B,SAAS,CAACC,QAAQ,CAACH,OAAO;IAC3C,CAAC,EACD;MACED,SAAS,EAAEzB,GAAG,CAAC4B,SAAS,CAACC,QAAQ,CAAC;QAChC,GAAGF,KAAK;QACRG,CAAC,EAAEJ,OAAO,CAACI;MACb,CAAC;IACH,CAAC,CACF;EACH,CAAC,EACD,EACF,CAAC;EAED,MAAMvB,aAAa,GAAGZ,OAAO,CAC3B,OAAO;IACL,GAAGa,iBAAiB;IACpBe;EACF,CAAC,CAAC,EACF,CAACf,iBAAiB,EAAEe,SAAS,CAC/B,CAAC;EAED,MAAMQ,uBAAuB,GAAG5B,0BAA0B,CAAC,CAAC;EAE5D,oBACEV,KAAA,CAAAuC,aAAA,CAACvB,wBAAwB,EAAAwB,QAAA,KACnBF,uBAAuB;IAC3BxB,aAAa,EAAEA,aAAc;IAC7B2B,SAAS,EAAE,CACTjC,8BAA8B,EAC9BC,8BAA8B,CAC9B;IACFkB,KAAK,EAAE;MACL,GAAGW,uBAAuB,CAACX,KAAK;MAChC,GAAGA;IACL;EAAE,IAEDd,QACuB,CAAC;AAE/B","ignoreList":[]}