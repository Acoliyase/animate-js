{"version":3,"names":["React","useEffect","useRef","DragAndDropLarge","classes","st","useDragAndDropContext","useSortableTableRow","DragHandle","props","id","className","setActivatorNodeRef","eventHandlers","announcements","dragHandleRef","dragHandleRefProp","onDropAnimationEnd","ariaDescribedBy","createElement","_extends","handle","root","style","display","itemDescription","ref","e","current","role","dragHandleLabel","triggerIcon","tabIndex","isDragHandleNode","node","classList","contains"],"sources":["../../../../src/drag-and-drop/table/DragHandle.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { DragAndDropLarge } from '@wix/wix-ui-icons-common/system';\nimport { classes, st } from './DragHandle.st.css.js';\nimport { useDragAndDropContext } from './DragAndDropContext';\nimport { useSortableTableRow } from './useSortableTableRow';\n\nexport interface DragHandleProps {\n  id: string | number;\n  className?: string;\n}\n\nexport function DragHandle(props: DragHandleProps) {\n  const { id, className } = props;\n\n  const { setActivatorNodeRef } = useSortableTableRow({ id });\n\n  const {\n    eventHandlers,\n    announcements,\n    dragHandleRef: dragHandleRefProp,\n    onDropAnimationEnd,\n  } = useDragAndDropContext();\n\n  const ariaDescribedBy = `draggable-table-row-description-${id}`;\n\n  const dragHandleRef = useRef<HTMLElement | null>();\n\n  useEffect(() => {\n    if (onDropAnimationEnd) {\n      return onDropAnimationEnd(id, dragHandleRef);\n    }\n\n    return;\n  }, [id, onDropAnimationEnd]);\n\n  return (\n    <div\n      {...eventHandlers?.handle?.({ id })}\n      className={st(classes.root, {}, className)}\n    >\n      <div id={ariaDescribedBy} style={{ display: 'none' }}>\n        {announcements?.itemDescription?.(id)}\n      </div>\n      <div\n        ref={(e) => {\n          dragHandleRef.current = e;\n          setActivatorNodeRef(e);\n          dragHandleRefProp?.(id, e);\n        }}\n        role=\"button\"\n        aria-describedby={ariaDescribedBy}\n        aria-label={announcements?.dragHandleLabel?.(id)}\n        className={classes.triggerIcon}\n        tabIndex={0}\n      >\n        <DragAndDropLarge />\n      </div>\n    </div>\n  );\n}\n\nexport function isDragHandleNode(node: HTMLElement) {\n  return node.classList.contains(classes.triggerIcon);\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,SAASC,gBAAgB,QAAQ,iCAAiC;AAClE,SAASC,OAAO,EAAEC,EAAE,QAAQ,wBAAwB;AACpD,SAASC,qBAAqB,QAAQ,sBAAsB;AAC5D,SAASC,mBAAmB,QAAQ,uBAAuB;AAO3D,OAAO,SAASC,UAAUA,CAACC,KAAsB,EAAE;EACjD,MAAM;IAAEC,EAAE;IAAEC;EAAU,CAAC,GAAGF,KAAK;EAE/B,MAAM;IAAEG;EAAoB,CAAC,GAAGL,mBAAmB,CAAC;IAAEG;EAAG,CAAC,CAAC;EAE3D,MAAM;IACJG,aAAa;IACbC,aAAa;IACbC,aAAa,EAAEC,iBAAiB;IAChCC;EACF,CAAC,GAAGX,qBAAqB,CAAC,CAAC;EAE3B,MAAMY,eAAe,GAAG,mCAAmCR,EAAE,EAAE;EAE/D,MAAMK,aAAa,GAAGb,MAAM,CAAqB,CAAC;EAElDD,SAAS,CAAC,MAAM;IACd,IAAIgB,kBAAkB,EAAE;MACtB,OAAOA,kBAAkB,CAACP,EAAE,EAAEK,aAAa,CAAC;IAC9C;IAEA;EACF,CAAC,EAAE,CAACL,EAAE,EAAEO,kBAAkB,CAAC,CAAC;EAE5B,oBACEjB,KAAA,CAAAmB,aAAA,QAAAC,QAAA,KACMP,aAAa,YAAbA,aAAa,CAAEQ,MAAM,oBAArBR,aAAa,CAAEQ,MAAM,CAAG;IAAEX;EAAG,CAAC,CAAC;IACnCC,SAAS,EAAEN,EAAE,CAACD,OAAO,CAACkB,IAAI,EAAE,CAAC,CAAC,EAAEX,SAAS;EAAE,iBAE3CX,KAAA,CAAAmB,aAAA;IAAKT,EAAE,EAAEQ,eAAgB;IAACK,KAAK,EAAE;MAAEC,OAAO,EAAE;IAAO;EAAE,GAClDV,aAAa,YAAbA,aAAa,CAAEW,eAAe,oBAA9BX,aAAa,CAAEW,eAAe,CAAGf,EAAE,CACjC,CAAC,eACNV,KAAA,CAAAmB,aAAA;IACEO,GAAG,EAAGC,CAAC,IAAK;MACVZ,aAAa,CAACa,OAAO,GAAGD,CAAC;MACzBf,mBAAmB,CAACe,CAAC,CAAC;MACtBX,iBAAiB,YAAjBA,iBAAiB,CAAGN,EAAE,EAAEiB,CAAC,CAAC;IAC5B,CAAE;IACFE,IAAI,EAAC,QAAQ;IACb,oBAAkBX,eAAgB;IAClC,cAAYJ,aAAa,YAAbA,aAAa,CAAEgB,eAAe,oBAA9BhB,aAAa,CAAEgB,eAAe,CAAGpB,EAAE,CAAE;IACjDC,SAAS,EAAEP,OAAO,CAAC2B,WAAY;IAC/BC,QAAQ,EAAE;EAAE,gBAEZhC,KAAA,CAAAmB,aAAA,CAAChB,gBAAgB,MAAE,CAChB,CACF,CAAC;AAEV;AAEA,OAAO,SAAS8B,gBAAgBA,CAACC,IAAiB,EAAE;EAClD,OAAOA,IAAI,CAACC,SAAS,CAACC,QAAQ,CAAChC,OAAO,CAAC2B,WAAW,CAAC;AACrD","ignoreList":[]}