{"version":3,"names":["createStateClass","namespace","stateName","stateValue","undefined","param","toString","length","replace","classesRuntime","classNames","i","arguments","item","stateClass","join","statesRuntime","stateMapping","push","injectCSS","id","css","depth","runtimeId","document","d","head","style","createElement","setAttribute","textContent","loadedStyleElements","querySelectorAll","inserted","insertAfter","styleElement","existingStId","getAttribute","existingStDepth","Number","replaceChild","parentElement","removeChild","insertBefore","nextElementSibling","appendChild"],"sources":["../../src/stylable-esm-runtime.ts"],"sourcesContent":["// @ts-nocheck\nfunction createStateClass(namespace, stateName, stateValue) {\n    if (stateValue === false ||\n        stateValue === undefined ||\n        stateValue === null ||\n        stateValue !== stateValue // check NaN\n    ) {\n        return '';\n    }\n    if (stateValue === true) {\n        // boolean state\n        return namespace + '--' + stateName;\n    }\n    var param = stateValue.toString();\n    return namespace + '---' + stateName + '-' + param.length + '-' + param.replace(/\\s/gm, '_');\n}\nexport function classesRuntime(namespace) {\n    var classNames = [];\n    for (var i = 1; i < arguments.length; i++) {\n        // eslint-disable-next-line prefer-rest-params\n        var item = arguments[i];\n        if (item) {\n            if (typeof item === 'string') {\n                classNames[classNames.length] = item;\n            }\n            else if (i === 2) {\n                for (var stateName in item) {\n                    var stateValue = item[stateName];\n                    var stateClass = createStateClass(namespace, stateName, stateValue);\n                    if (stateClass) {\n                        classNames[classNames.length] = stateClass;\n                    }\n                }\n            }\n        }\n    }\n    return classNames.join(' ');\n}\nexport function statesRuntime(namespace, stateMapping) {\n    var classNames = [];\n    for (var stateName in stateMapping) {\n        var stateValue = stateMapping[stateName];\n        var stateClass = createStateClass(namespace, stateName, stateValue);\n        if (stateClass) {\n            classNames.push(stateClass);\n        }\n    }\n    return classNames.join(' ');\n}\nexport function injectCSS(id, css, depth, runtimeId) {\n    if (typeof document === 'undefined') {\n        return;\n    }\n    var d = document;\n    var head = d.head;\n    var style = d.createElement('style');\n    style.setAttribute('st_id', id);\n    style.setAttribute('st_depth', depth);\n    style.setAttribute('st_runtime', runtimeId);\n    style.textContent = css;\n    var loadedStyleElements = head.querySelectorAll('style[st_runtime=\"' + runtimeId + '\"]');\n    var inserted = false;\n    var insertAfter;\n    for (var i = 0; i < loadedStyleElements.length; i++) {\n        var styleElement = loadedStyleElements[i];\n        var existingStId = styleElement.getAttribute('st_id');\n        var existingStDepth = Number(styleElement.getAttribute('st_depth'));\n        if (existingStId === id) {\n            if (existingStDepth === depth) {\n                head.replaceChild(style, styleElement);\n                return;\n            }\n            else {\n                styleElement.parentElement.removeChild(styleElement);\n                continue;\n            }\n        }\n        if (!inserted && depth < existingStDepth) {\n            head.insertBefore(style, styleElement);\n            inserted = true;\n        }\n        insertAfter = styleElement;\n    }\n    if (!inserted) {\n        insertAfter\n            ? head.insertBefore(style, insertAfter.nextElementSibling)\n            : head.appendChild(style);\n    }\n}\n//# sourceMappingURL=pure.js.map"],"mappings":"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","ignoreList":[]}