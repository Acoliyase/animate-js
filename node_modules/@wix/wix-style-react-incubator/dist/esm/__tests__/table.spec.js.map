{"version":3,"names":["React","Table","TableTestkit","render","fireEvent","TableDragAndDrop","move","TestApp","_temp","showSelection","items","setItems","useState","id","name","price","createElement","dataHook","columns","title","row","data","dragAndDrop","onDragEnd","_ref","active","over","newItems","dragStart","node","pointerDown","getNative","dragEnd","pointerUp","describe","it","result","table","wrapper","baseElement","expect","getRowText","toBe","getRow","exists","selectAll","getBulkSelectionCheckboxDriver","click","isRowSelected"],"sources":["../../../src/__tests__/table.spec.tsx"],"sourcesContent":["import React from 'react';\nimport { Table } from '@wix/design-system';\nimport { TableTestkit } from '@wix/design-system/dist/testkit';\nimport { render, fireEvent } from '@testing-library/react';\nimport { TableDragAndDrop } from '../drag-and-drop';\nimport { move } from '../test-utils';\nimport { UniDriver } from '@wix/unidriver-core';\n\nconst TestApp = ({\n  showSelection = false,\n}: { showSelection?: boolean } = {}) => {\n  const [items, setItems] = React.useState(() => [\n    {\n      id: '5880f692-4468-40cf-b5b5-07a0f535506a',\n      name: 'Ice Cream',\n      price: '$2.00',\n    },\n    {\n      id: '60b73a3b-0252-4426-9bef-ac8a20a09492',\n      name: 'Sandwich',\n      price: '$5.00',\n    },\n    {\n      id: '58319273-f5cc-4920-88fa-85b228763c95',\n      name: 'Mushroom Pasta',\n      price: '$7.00',\n    },\n  ]);\n\n  return (\n    <Table\n      dataHook=\"table\"\n      columns={[\n        { title: 'Name', render: (row) => row.name },\n        { title: 'Price', render: (row) => row.price },\n      ]}\n      data={items}\n      dragAndDrop={TableDragAndDrop}\n      onDragEnd={({ active, over }) => {\n        const newItems = move(items, active.id, over?.id);\n        if (newItems) {\n          setItems(newItems);\n        }\n      }}\n      showSelection={showSelection}\n    />\n  );\n};\n\nconst dragStart = async (node: UniDriver<any>) => {\n  fireEvent.pointerDown(await node.getNative());\n};\n\nconst dragEnd = async (node: UniDriver<any>) => {\n  fireEvent.pointerUp(await node.getNative());\n};\n\ndescribe('Table DragAndDrop', () => {\n  it('should reorder rows', async () => {\n    const result = render(<TestApp />);\n    const table = TableTestkit({\n      wrapper: result.baseElement,\n      dataHook: 'table',\n    });\n\n    expect((await table.getRowText(0))[1]).toBe('Ice Cream');\n    expect((await table.getRowText(1))[1]).toBe('Sandwich');\n    expect((await table.getRowText(2))[1]).toBe('Mushroom Pasta');\n\n    await dragStart(table.getRow(0));\n    await dragEnd(table.getRow(2));\n\n    expect((await table.getRowText(0))[1]).toBe('Sandwich');\n    expect((await table.getRowText(1))[1]).toBe('Mushroom Pasta');\n    expect((await table.getRowText(2))[1]).toBe('Ice Cream');\n  });\n\n  it('should be able to click on selectAll with enabled DragAndDrop', async () => {\n    const result = render(<TestApp showSelection />);\n    const table = TableTestkit({\n      wrapper: result.baseElement,\n      dataHook: 'table',\n    });\n\n    expect(await table.exists()).toBe(true);\n\n    const selectAll = await table.getBulkSelectionCheckboxDriver();\n    await selectAll.click();\n\n    expect(await table.isRowSelected(0)).toBe(true);\n    expect(await table.isRowSelected(1)).toBe(true);\n  });\n});\n"],"mappings":"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","ignoreList":[]}