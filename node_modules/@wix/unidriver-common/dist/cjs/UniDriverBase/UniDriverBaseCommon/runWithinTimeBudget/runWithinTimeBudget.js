"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.runWithinTimeBudget = void 0;
const internal_1 = require("@wix/unidriver-core/internal");
const runWithinTimeBudget = async (fn, timeout) => {
    try {
        let result = undefined;
        await (0, internal_1.eventually)(async () => {
            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment
            result = await fn();
        }, timeout);
        // eslint-disable-next-line @typescript-eslint/no-unsafe-return
        return await result;
    }
    catch (e) {
        throw e instanceof internal_1.TimeoutError ? e.cause : e;
    }
};
exports.runWithinTimeBudget = runWithinTimeBudget;
//# sourceMappingURL=runWithinTimeBudget.js.map