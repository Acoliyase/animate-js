import { render } from '@testing-library/react';
import React from 'react';
import { testUniDriver } from '../../../__tests__/TestUniDriver/testUniDriver';
import { isOfType } from '../isOfType';
import { assertType, expect } from 'vitest';
describe('isOfType', () => {
    const isTestUniDriver = (driver) => {
        return isOfType(driver, 'jsdom-react');
    };
    it('should narrow driver type to specific one', async () => {
        const { container } = render(React.createElement("div", null));
        const driver = testUniDriver(container);
        // @ts-expect-error - should not allow to call driver-specific method without type narrowing first
        // eslint-disable-next-line @typescript-eslint/no-unsafe-call
        driver.driverSpecificMethod?.();
        if (isTestUniDriver(driver)) {
            driver.driverSpecificMethod();
            const unwrap = await driver.unwrap();
            assertType(unwrap);
            const native = await driver.getNative();
            assertType(native);
            expect(unwrap).toBeDefined();
            expect(native).toBeDefined();
        }
        else {
            expect(true).toBe(false);
        }
    });
});
//# sourceMappingURL=tests.spec.js.map