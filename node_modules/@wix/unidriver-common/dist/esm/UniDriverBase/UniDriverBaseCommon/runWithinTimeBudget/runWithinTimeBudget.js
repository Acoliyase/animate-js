import { TimeoutError, eventually } from '@wix/unidriver-core/internal';
export const runWithinTimeBudget = async (fn, timeout) => {
    try {
        let result = undefined;
        await eventually(async () => {
            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment
            result = await fn();
        }, timeout);
        // eslint-disable-next-line @typescript-eslint/no-unsafe-return
        return await result;
    }
    catch (e) {
        throw e instanceof TimeoutError ? e.cause : e;
    }
};
//# sourceMappingURL=runWithinTimeBudget.js.map