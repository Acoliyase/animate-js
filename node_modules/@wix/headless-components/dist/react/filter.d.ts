/**
 * @fileoverview Filter Primitive Components
 *
 * This module provides unstyled, composable components for building filter controls.
 * These components follow the Radix UI primitive pattern, offering:
 *
 * - **Unstyled**: No default styling, only functional behavior
 * - **Composable**: Support for the `asChild` pattern for flexible DOM structure
 * - **Accessible**: Built-in keyboard navigation and ARIA attributes
 * - **Flexible**: Render props pattern for maximum customization
 *
 * ## Architecture
 *
 * These components are the **primitive layer** that provides platform-agnostic
 * filter functionality without being tied to any specific vertical.
 *
 * ## Usage
 *
 * ```tsx
 * import { Filter } from '@wix/headless-components/react';
 *
 * function FilterControls({ filter, onChange, onFilterChange, filterOptions }) {
 *   return (
 *     <Filter.Root value={filter} onChange={onChange} onFilterChange={onFilterChange} filterOptions={filterOptions}>
 *       <Filter.Filtered>
 *         <Filter.Action.Clear label="Clear Filters" />
 *       </Filter.Filtered>
 *       <Filter.FilterOptions>
 *         <Filter.FilterOptionRepeater>
 *           <Filter.FilterOption.Label />
 *           <Filter.FilterOption.SingleFilter />
 *           <Filter.FilterOption.MultiFilter />
 *           <Filter.FilterOption.RangeFilter />
 *         </Filter.FilterOptionRepeater>
 *       </Filter.FilterOptions>
 *     </Filter.Root>
 *   );
 * }
 * ```
 *
 * @module Filter
 */
import React from 'react';
import { AsChildChildren } from '@wix/headless-utils/react';
/**
 * Props for button-like components that support the asChild pattern
 */
export interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
    /** When true, the component will not render its own element but forward its props to its child */
    asChild?: boolean;
}
/**
 * Filter operators that match Wix query.filter format
 */
export interface FilterOperators<T = any> {
    $eq?: T;
    $ne?: T;
    $gt?: T;
    $gte?: T;
    $lt?: T;
    $lte?: T;
    $in?: T[];
    $nin?: T[];
    $exists?: boolean;
    $regex?: string;
    $options?: string;
    $size?: number;
    $elemMatch?: Record<string, any>;
    $all?: T[];
    $hasSome?: T[];
    $hasAll?: T[];
    $startsWith?: string;
    $endsWith?: string;
    $contains?: string;
    $urlized?: string;
    $isEmpty?: boolean;
    $matchItems?: Array<Record<string, any>>;
}
/**
 * Valid filter value types
 */
export type FilterValue<T = any> = T | FilterOperators<T> | Array<Record<string, any>>;
/**
 * Platform filter object interface - matches query.filter format
 */
export type Filter = {
    [fieldPath: string]: FilterValue;
} | null;
/**
 * Filter option configuration
 */
export interface FilterOption {
    /** Display label for the filter */
    label: string;
    /** Filter key/field name - used as fallback if fieldName is not specified */
    key: string;
    /**
     * Target field name(s) in the filter object:
     * - For single/multi: string (e.g., 'inventory.status')
     * - For range: string[] with [minField, maxField] (e.g., ['price.min', 'price.max'])
     * - If not specified, uses key as fieldName
     */
    fieldName?: string | string[];
    /**
     * Field type determines which operators to use for multi-select filters:
     * - 'array': uses $hasSome operator (for array fields like choices)
     * - 'singular': uses $in operator (for single fields with multiple values)
     * - If not specified, defaults to 'singular'
     */
    fieldType?: 'array' | 'singular';
    /** Current filter value */
    value?: any;
    /** Function to format values for display - accepts both old (string | number) and new (with boolean) signatures for backward compatibility */
    valueFormatter?: ((value: string | number) => string) | ((value: string | number | boolean) => string);
    /** Valid values for this filter (for validation and shared field logic) */
    validValues?: Array<string | number | boolean>;
    /** Filter input type */
    type: 'single' | 'multi' | 'range';
    /** Display type for styling/rendering */
    displayType: 'color' | 'text' | 'range';
    /** Function to format background color for color filters - accepts both old (string | number) and new (with boolean) signatures for backward compatibility */
    valueBgColorFormatter?: ((value: string | number) => string | null) | ((value: string | number | boolean) => string | null);
}
/**
 * Props for the Root component
 */
export interface FilterRootProps extends Omit<React.HTMLAttributes<HTMLDivElement>, 'onChange'> {
    /** Current complete filter value */
    value: Filter;
    /** Function called when the complete filter changes */
    onChange: (value: Filter) => void;
    /**
     * Function called when a single filter option changes.
     * Should merge the single change into the complete filter and return the updated filter.
     * Optional - if not provided, components will handle conversions automatically using fieldName and fieldType.
     */
    onFilterChange?: ({ value, key, }: {
        value: FilterValue;
        key: string;
    }) => Filter;
    /** Available filter options */
    filterOptions: FilterOption[];
    /** When true, the component will not render its own element but forward its props to its child */
    asChild?: boolean;
    /** Children components */
    children?: React.ReactNode;
}
/**
 * Root component that provides filter context and manages filter state.
 *
 * @component
 * @example
 * ```tsx
 * <Filter.Root
 *   value={filter}
 *   onChange={setFilter}
 *   filterOptions={[
 *     {
 *       key: 'category',
 *       label: 'Category',
 *       type: 'single',
 *       displayType: 'text',
 *       fieldName: 'category.id'
 *     },
 *     {
 *       key: 'price',
 *       label: 'Price Range',
 *       type: 'range',
 *       displayType: 'range',
 *       fieldName: ['price.min', 'price.max']
 *     },
 *     {
 *       key: 'tags',
 *       label: 'Tags',
 *       type: 'multi',
 *       displayType: 'text',
 *       fieldName: 'tags',
 *       fieldType: 'array'
 *     }
 *   ]}
 * >
 *   <Filter.FilterOptions>
 *     <Filter.FilterOptionRepeater>
 *       <Filter.FilterOption.Label />
 *       <Filter.FilterOption.SingleFilter />
 *     </Filter.FilterOptionRepeater>
 *   </Filter.FilterOptions>
 * </Filter.Root>
 * ```
 */
export declare const Root: React.ForwardRefExoticComponent<FilterRootProps & React.RefAttributes<HTMLDivElement>>;
/**
 * Props for the Filtered component
 */
export interface FilterFilteredProps extends React.HTMLAttributes<HTMLDivElement> {
    /**
     * Content to render when filters are active.
     * This component only renders its children when hasFilters is true,
     * making it perfect for showing clear buttons or active filter indicators.
     */
    children: React.ReactNode;
}
/**
 * Container that conditionally renders its children when filters are active.
 *
 * @component
 * @example
 * ```tsx
 * <Filter.Filtered>
 *   <div className="bg-surface-card border-surface-primary p-4 rounded">
 *     <p className="text-content-secondary">Active filters:</p>
 *     <Filter.Action.Clear label="Clear All" />
 *   </div>
 * </Filter.Filtered>
 * ```
 */
export declare const Filtered: {
    ({ children, ...otherProps }: FilterFilteredProps): import("react/jsx-runtime").JSX.Element | null;
    displayName: string;
};
/**
 * Props for the FilterOptions component
 */
export interface FilterOptionsProps extends React.HTMLAttributes<HTMLDivElement> {
    /**
     * Child components, typically containing FilterOptionRepeater.
     * This is a simple container component that provides structural organization
     * for filter option groups.
     */
    children: React.ReactNode;
}
/**
 * Container for filter option components.
 *
 * This component provides a wrapper for organizing filter controls and serves as
 * a semantic container for the FilterOptionRepeater and related components.
 *
 * @component
 * @example
 * ```tsx
 * <Filter.FilterOptions className="space-y-4">
 *   <Filter.FilterOptionRepeater>
 *     <div className="filter-group">
 *       <Filter.FilterOption.Label className="font-semibold mb-2" />
 *       <Filter.FilterOption.SingleFilter />
 *       <Filter.FilterOption.MultiFilter />
 *       <Filter.FilterOption.RangeFilter />
 *     </div>
 *   </Filter.FilterOptionRepeater>
 * </Filter.FilterOptions>
 * ```
 */
export declare const FilterOptions: {
    ({ children, ...otherProps }: FilterOptionsProps): import("react/jsx-runtime").JSX.Element;
    displayName: string;
};
/**
 * Props for the FilterOptionRepeater component
 */
export interface FilterOptionRepeaterProps extends React.HTMLAttributes<HTMLDivElement> {
    /**
     * Template to repeat for each filter option defined in filterOptions.
     *
     * This template will be rendered once for each FilterOption in the filterOptions array.
     * The template typically contains FilterOption.Label and one or more filter type components
     * (SingleFilter, MultiFilter, or RangeFilter) that automatically adapt to each option's type.
     *
     * Each repetition is wrapped in a FilterOptionContext that provides the current option
     * and an updateFilter function to child components.
     */
    children: React.ReactNode;
}
/**
 * Repeater component that renders a template for each filter option.
 *
 * This component maps over the filterOptions array provided to Filter.Root and renders
 * the children template for each option. It automatically provides FilterOptionContext
 * to each rendered template, enabling child components to access the current option
 * configuration and update functions.
 *
 * The component follows the List, Options, and Repeater pattern from the architecture rules.
 *
 * @component
 * @example
 * ```tsx
 * <Filter.FilterOptionRepeater>
 *   <div className="mb-6">
 *     <Filter.FilterOption.Label className="block text-sm font-medium mb-2" />
 *     <Filter.FilterOption.SingleFilter className="w-full" />
 *     <Filter.FilterOption.MultiFilter className="flex flex-wrap gap-2" />
 *     <Filter.FilterOption.RangeFilter className="space-y-2" />
 *   </div>
 * </Filter.FilterOptionRepeater>
 * ```
 */
export declare const FilterOptionRepeater: {
    ({ children, ...otherProps }: FilterOptionRepeaterProps): import("react/jsx-runtime").JSX.Element;
    displayName: string;
};
/**
 * Props for the Clear component
 */
export interface FilterActionClearProps extends ButtonProps {
    /** Label text for the clear button */
    label: string;
    /** Children for custom rendering */
    children?: React.ReactNode;
}
/**
 * Button to clear all active filters.
 *
 * @component
 * @example
 * ```tsx
 * // Default usage
 * <Filter.Action.Clear
 *   label="Clear Filters"
 *   className="btn-secondary text-sm px-3 py-1"
 * />
 *
 * // Custom rendering with asChild
 * <Filter.Action.Clear label="Reset All" asChild>
 *   {({ onClick, disabled }) => (
 *     <button
 *       onClick={onClick}
 *       disabled={disabled}
 *       className="text-status-danger hover:text-status-danger-hover underline disabled:text-content-muted disabled:no-underline"
 *     >
 *       âœ• Reset All Filters
 *     </button>
 *   )}
 * </Filter.Action.Clear>
 * ```
 */
export declare const Clear: React.ForwardRefExoticComponent<FilterActionClearProps & React.RefAttributes<HTMLButtonElement>>;
/**
 * Props for the FilterOptionLabel component
 */
export interface FilterOptionLabelProps extends React.HTMLAttributes<HTMLDivElement> {
    /**
     * When true, the component will not render its own div wrapper but will
     * delegate rendering to its child component using the Slot pattern.
     *
     * @default false
     */
    asChild?: boolean;
    /**
     * Custom content to render instead of the default option label.
     * If not provided, displays the option.label from the current FilterOptionContext.
     */
    children?: React.ReactNode;
}
/**
 * Label component for filter options.
 *
 * Displays the label for the current filter option from the FilterOptionContext.
 * This component automatically accesses the option.label property and renders it,
 * making it easy to display consistent filter labels.
 *
 * @component
 * @example
 * ```tsx
 * // Default label rendering
 * <Filter.FilterOption.Label className="block text-sm font-medium text-gray-700 mb-1" />
 *
 * // Custom label with asChild pattern
 * <Filter.FilterOption.Label asChild>
 *   <h3 className="text-lg font-semibold" />
 * </Filter.FilterOption.Label>
 *
 * // Custom content overriding the label
 * <Filter.FilterOption.Label>
 *   <span className="text-blue-600">Custom Label Text</span>
 * </Filter.FilterOption.Label>
 * ```
 */
export declare const FilterOptionLabel: React.ForwardRefExoticComponent<FilterOptionLabelProps & React.RefAttributes<HTMLDivElement>>;
/**
 * Props for single filter components
 */
export interface SingleFilterProps extends Omit<React.HTMLAttributes<HTMLElement>, 'children'> {
    /**
     * When true, enables the asChild pattern where the component delegates
     * rendering to its child using the Slot pattern. Useful for custom styling
     * while maintaining filter functionality.
     *
     * @default false
     */
    asChild?: boolean;
    /**
     * Custom content for the filter component. When provided with asChild=false,
     * replaces the default group of buttons. When used with asChild=true,
     * should be a single child element that will receive filter props.
     */
    children?: AsChildChildren<{
        value: string;
        onChange: (value: string) => void;
        validValues: FilterOption['validValues'];
        valueFormatter: FilterOption['valueFormatter'];
    }> | React.ReactNode;
}
/**
 * Single selection filter component.
 *
 * Renders a single-selection filter that allows users to choose one value from
 * the available options. Only renders when the current option.type is 'single'.
 *
 * **Default Behavior:**
 * - Uses Radix ToggleGroup in single mode for better UX and accessibility
 * - Displays all validValues from the option configuration
 * - Applies valueFormatter if provided for custom value display
 *
 * **Fallback Behavior:**
 * - When asChild=false and children provided: renders native select element
 * - When asChild=true: delegates to child component via Slot pattern
 *
 * @component
 * @example
 * ```tsx
 * // Default ToggleGroup rendering
 * <Filter.FilterOption.SingleFilter className="flex gap-2" />
 *
 * // Custom select dropdown with asChild
 * <Filter.FilterOption.SingleFilter asChild>
 *   <select className="form-select" />
 * </Filter.FilterOption.SingleFilter>
 *
 * // Custom styling with children
 * <Filter.FilterOption.SingleFilter>
 *   <option value="">All Categories</option>
 * </Filter.FilterOption.SingleFilter>
 * ```
 */
export declare const SingleFilter: React.ForwardRefExoticComponent<SingleFilterProps & React.RefAttributes<HTMLElement>>;
/**
 * Props for multi filter components
 */
export interface MultiFilterProps extends React.HTMLAttributes<HTMLElement> {
    /**
     * When true, enables the asChild pattern where the component delegates
     * rendering to its child using the Slot pattern. Useful for custom styling
     * while maintaining multi-selection filter functionality.
     *
     * @default false
     */
    asChild?: boolean;
    /**
     * Custom content for the multi-filter component. When provided with asChild=false,
     * replaces the default checkbox list. When used with asChild=true,
     * should be a single child element that will receive filter props.
     */
    children?: React.ReactNode;
}
/**
 * Multi-selection filter component.
 *
 * Renders a multi-selection filter that allows users to choose multiple values from
 * the available options. Only renders when the current option.type is 'multi'.
 *
 * **Default Behavior:**
 * - Uses Radix ToggleGroup in multiple mode for better UX and accessibility
 * - Displays all validValues from the option configuration
 * - Applies valueFormatter if provided for custom value display
 * - Supports color swatches when displayType is 'color' with valueBgColorFormatter
 *
 * **Fallback Behavior:**
 * - When asChild=false and children provided: renders checkbox list
 * - When asChild=true: delegates to child component via Slot pattern
 *
 * **Field Type Handling:**
 * - fieldType='array': uses $hasSome operator (for array fields like product choices)
 * - fieldType='singular': uses $in operator (for single fields with multiple values)
 *
 * @component
 * @example
 * ```tsx
 * // Default ToggleGroup rendering
 * <Filter.FilterOption.MultiFilter className="flex flex-wrap gap-2" />
 *
 * // Color swatch display (when displayType='color')
 * <Filter.FilterOption.MultiFilter className="grid grid-cols-6 gap-2" />
 *
 * // Custom checkbox list with asChild
 * <Filter.FilterOption.MultiFilter asChild>
 *   <div className="space-y-2" />
 * </Filter.FilterOption.MultiFilter>
 *
 * // Custom rendering with children override
 * <Filter.FilterOption.MultiFilter>
 *   <div>Custom checkboxes here</div>
 * </Filter.FilterOption.MultiFilter>
 * ```
 */
export declare const MultiFilter: React.ForwardRefExoticComponent<MultiFilterProps & React.RefAttributes<HTMLElement>>;
/**
 * Props for range filter components
 */
export interface RangeFilterProps extends React.HTMLAttributes<HTMLElement> {
    /**
     * When true, enables the asChild pattern where the component delegates
     * rendering to its child using the Slot pattern. Useful for custom styling
     * while maintaining range filter functionality.
     *
     * @default false
     */
    asChild?: boolean;
    /**
     * Custom content for the range filter component. When provided with asChild=false,
     * replaces the default Radix Slider with number inputs. When used with asChild=true,
     * should be a single child element that will receive filter props.
     */
    children?: React.ReactNode;
}
/**
 * Range filter component for numeric ranges.
 *
 * Renders a range filter that allows users to select a minimum and maximum value
 * from a numeric range. Only renders when the current option.type is 'range'.
 *
 * **Default Behavior:**
 * - Uses Radix Slider with dual thumbs for better UX and accessibility
 * - Features smooth slider interaction using local state during dragging
 * - Only commits changes when the user releases the handle (onValueCommit)
 * - Displays formatted values using valueFormatter if provided
 * - Shows current min/max values with data attributes for styling
 *
 * **Fallback Behavior:**
 * - When asChild=false and children provided: renders dual number inputs
 * - When asChild=true: delegates to child component via Slot pattern
 *
 * **Field Name Handling:**
 * - Single field: uses $gte/$lte operators (e.g., {price: {$gte: 10, $lte: 100}})
 * - Dual fields: separate min/max fields (e.g., {'price.min': {$gte: 10}, 'price.max': {$lte: 100}})
 *
 * @component
 * @example
 * ```tsx
 * // Default Radix Slider rendering
 * <Filter.FilterOption.RangeFilter className="w-full px-4 py-2" />
 *
 * // Custom dual number inputs with asChild
 * <Filter.FilterOption.RangeFilter asChild>
 *   <div className="flex items-center gap-2">
 *     <input type="number" placeholder="Min" className="form-input" />
 *     <span>to</span>
 *     <input type="number" placeholder="Max" className="form-input" />
 *   </div>
 * </Filter.FilterOption.RangeFilter>
 *
 * // Override with completely custom range component
 * <Filter.FilterOption.RangeFilter>
 *   <div>Custom range slider component</div>
 * </Filter.FilterOption.RangeFilter>
 * ```
 */
export declare const RangeFilter: React.ForwardRefExoticComponent<RangeFilterProps & React.RefAttributes<HTMLElement>>;
/**
 * Action components namespace
 */
export declare const Action: {
    Clear: React.ForwardRefExoticComponent<FilterActionClearProps & React.RefAttributes<HTMLButtonElement>>;
};
/**
 * FilterOption components namespace
 */
export declare const FilterOption: {
    Label: React.ForwardRefExoticComponent<FilterOptionLabelProps & React.RefAttributes<HTMLDivElement>>;
    SingleFilter: React.ForwardRefExoticComponent<SingleFilterProps & React.RefAttributes<HTMLElement>>;
    MultiFilter: React.ForwardRefExoticComponent<MultiFilterProps & React.RefAttributes<HTMLElement>>;
    RangeFilter: React.ForwardRefExoticComponent<RangeFilterProps & React.RefAttributes<HTMLElement>>;
};
