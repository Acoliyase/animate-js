import { act, fireEvent } from '@testing-library/react';
import { userEvent } from '@testing-library/user-event';
import { delay } from '@wix/unidriver-common';
export const enterValue = async (base, value, options) => {
    const { disabled, readOnly, name, type } = base;
    const shouldClear = options?.shouldClear ?? true;
    const delayMs = options?.delay ?? 0;
    if (disabled || readOnly) {
        return;
    }
    if (delayMs > 0) {
        let currentValue = shouldClear ? '' : 'value' in base ? String(base.value) : '';
        for (const char of value) {
            currentValue += char;
            await act(async () => {
                fireEvent.change(base, { target: { name, type, value: currentValue } });
                await delay(delayMs);
            });
        }
        return;
    }
    await act(async () => {
        return shouldClear ? fireEvent.change(base, { target: { name, value } }) : userEvent.type(base, value);
    });
};
//# sourceMappingURL=enterValue.js.map