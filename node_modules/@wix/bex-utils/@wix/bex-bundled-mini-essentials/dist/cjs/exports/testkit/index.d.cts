import { ComponentType } from 'react';
import * as _wix_fe_essentials_testkit from '@wix/fe-essentials/testkit';
import { EssentialsMockOptions, EssentialsTestkit } from '@wix/fe-essentials/testkit';
import * as _wix_ab_translate_dist_types_browser from '@wix/ab-translate/dist/types/browser';
import * as _wix_l10n from '@wix/l10n';
import * as sentry_testkit from 'sentry-testkit';
import * as i18next from 'i18next';
import * as _wix_data_capsule from '@wix/data-capsule';
import * as _wix_fedops_logger from '@wix/fedops-logger';
import * as _wix_wix_experiments from '@wix/wix-experiments';
import * as _wix_error_handler from '@wix/error-handler';
import * as _wix_error_monitor from '@wix/error-monitor';
import * as _wix_fe_essentials_core from '@wix/fe-essentials/core';
import { Essentials, EssentialsPartial, Environment, EssentialsOptions } from '@wix/fe-essentials/core';
import * as _wix_web_bi_logger_dist_src_logger from '@wix/web-bi-logger/dist/src/logger';
import * as _wix_web_bi_logger_dist_src_types from '@wix/web-bi-logger/dist/src/types';
import * as _wix_fe_essentials_dist_types_core from '@wix/fe-essentials/dist/types/core';
import * as _wix_bi_logger_testkit from '@wix/bi-logger-testkit';
import * as _wix_panorama_client from '@wix/panorama-client';
import { factory } from '@wix/fe-essentials/bi';
import { ReadOnlyExperiments } from '@wix/fe-essentials/experiments';
import { ErrorMonitor } from '@wix/fe-essentials/error-monitor';
import { IHttpClient } from '@wix/fe-essentials/http-client';
import { i18n } from '@wix/fe-essentials/i18n';
import { FedopsLogger } from '@wix/fe-essentials/fedops';

interface StandaloneEssentialsTestOptions extends EssentialsMockOptions {
    environment?: {
        language?: string;
    };
}

interface StandaloneEssentials extends Essentials {
    /**
     * A BI Logger factory
     */
    readonly biLoggerFactory: typeof factory;
    /**
     * An ErrorMonitor (@wix/error-monitor)
     */
    readonly errorMonitor: ErrorMonitor;
    /**
     * An Experiments instance
     */
    readonly experiments: ReadOnlyExperiments;
    /**
     * A Fedops Logger
     */
    readonly fedopsLogger: FedopsLogger;
    /**
     * Http client
     */
    readonly httpClient: IHttpClient;
    /**
     * i18n instance factory
     */
    readonly i18n: i18n;
}

interface StandaloneRootEssentialsMockOptions extends EssentialsMockOptions {
    environment: Essentials['environment'];
}
declare class StandaloneRootEssentialsMock implements StandaloneEssentials {
    private readonly _delegate;
    private readonly _environment;
    readonly asPartial: EssentialsPartial;
    constructor({ httpClient: httpClientOptions, dataCapsule: dataCapsuleOptions, fedops: fedopsOptions, environment: environmentOptions, ...options }: StandaloneRootEssentialsMockOptions);
    get experiments(): _wix_wix_experiments.ReadOnlyExperiments;
    get fedopsLogger(): _wix_fedops_logger.FedopsLogger<string>;
    get errorMonitor(): _wix_error_monitor.ErrorMonitor;
    get errorHandler(): _wix_error_handler.ErrorHandler;
    get i18n(): i18next.i18n;
    get biLoggerFactory(): (options?: (_wix_web_bi_logger_dist_src_types.FactoryOptions & {
        trackSession?: boolean | "force" | undefined;
    }) | undefined) => _wix_web_bi_logger_dist_src_logger.Factory;
    get biLogger(): _wix_web_bi_logger_dist_src_types.Logger;
    get httpClient(): IHttpClient;
    get dataCapsule(): _wix_data_capsule.IDataCapsule<_wix_data_capsule.BaseStorageOptions & Record<string, any>>;
    get environment(): Environment;
    get createCurrencyFormatter(): _wix_l10n.CreateCurrencyFormatter;
    get formatAddress(): _wix_l10n.FormatAddress;
    get abTranslate(): _wix_ab_translate_dist_types_browser.AbTranslate;
    get panoramaClient(): _wix_panorama_client.PanoramaClient;
    createChildEssentials: (options?: Omit<EssentialsOptions, 'parent'>) => Essentials;
    createChildEssentialsMock: (options?: EssentialsMockOptions) => Essentials;
}

interface StandaloneEssentialsTestkitParams {
    readonly essentialsTestkit: EssentialsTestkit;
}
declare class StandaloneEssentialsTestkit implements StandaloneEssentialsTestkitPublicAPI {
    readonly essentialsTestkit: EssentialsTestkit;
    constructor(params: StandaloneEssentialsTestkitParams);
    get sentryTestkit(): sentry_testkit.Testkit;
    get fedopsTestkit(): _wix_fe_essentials_testkit.FedopsLoggerTestkit;
    get biTestkit(): _wix_bi_logger_testkit.BiLoggerTestKit;
    get packageJson(): {
        name: string;
        version: string;
        wix?: {
            artifact: {
                artifactId: string;
            };
        } | undefined;
    };
    beforeAndAfter(): void;
    beforeAll(): Promise<{
        afterAll: () => Promise<void>;
    }>;
    afterEach(): Promise<void>;
    _createTestEssentials(options?: StandaloneEssentialsTestOptions): {
        rootEssentials: StandaloneRootEssentialsMock;
        essentials: _wix_fe_essentials_dist_types_core.Essentials;
    };
    getTestContext(options?: StandaloneEssentialsTestOptions): StandaloneEssentialsTestContext;
    getComponent<P>(WrappedComponent: ComponentType<P>, options?: StandaloneEssentialsTestOptions): {
        TestComponent: ComponentType<P>;
        context: StandaloneEssentialsTestContext;
    };
}

interface StandaloneEssentialsTestContextParams {
    essentials: Essentials;
}
declare class StandaloneEssentialsTestContext implements Essentials {
    private readonly testkit;
    private readonly essentials;
    constructor(testkit: StandaloneEssentialsTestkit, params: StandaloneEssentialsTestContextParams);
    get asPartial(): EssentialsPartial;
    get biLoggerFactory(): (options?: (_wix_web_bi_logger_dist_src_types.FactoryOptions & {
        trackSession?: boolean | "force" | undefined;
    }) | undefined) => _wix_web_bi_logger_dist_src_logger.Factory;
    get biLogger(): _wix_web_bi_logger_dist_src_types.Logger;
    createChildEssentials(options: EssentialsOptions): Essentials;
    get environment(): _wix_fe_essentials_core.Environment;
    get errorMonitor(): _wix_error_monitor.ErrorMonitor;
    get errorHandler(): _wix_error_handler.ErrorHandler;
    get experiments(): _wix_wix_experiments.ReadOnlyExperiments;
    get fedopsLogger(): _wix_fedops_logger.FedopsLogger<string>;
    get httpClient(): IHttpClient;
    get dataCapsule(): _wix_data_capsule.IDataCapsule<_wix_data_capsule.BaseStorageOptions & Record<string, any>>;
    get i18n(): i18next.i18n;
    get sentryTestkit(): sentry_testkit.Testkit;
    get fedopsTestkit(): any;
    get biTestkit(): any;
    get createCurrencyFormatter(): _wix_l10n.CreateCurrencyFormatter;
    get formatAddress(): _wix_l10n.FormatAddress;
    get abTranslate(): _wix_ab_translate_dist_types_browser.AbTranslate;
    get panoramaClient(): Essentials['panoramaClient'];
}

interface StandaloneEssentialsTestkitPublicAPI {
    getTestContext(options?: StandaloneEssentialsTestOptions): StandaloneEssentialsTestContext;
    getComponent<P>(WrappedComponent: ComponentType<P>, options?: StandaloneEssentialsTestOptions): {
        TestComponent: ComponentType<P>;
        context: StandaloneEssentialsTestContext;
    };
    beforeAndAfter(): void;
    beforeAll(): Promise<{
        afterAll: () => Promise<void>;
    }>;
    afterEach(): Promise<void>;
}

declare const testkit: StandaloneEssentialsTestkitPublicAPI;

export { type StandaloneEssentialsTestOptions, StandaloneEssentialsTestkit, type StandaloneEssentialsTestkitPublicAPI, StandaloneEssentialsTestContext as TestContext, testkit };
