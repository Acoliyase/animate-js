{"version":3,"file":"textBoxDimensionsHelper.js","sourceRoot":"","sources":["../../../../src/core/helpers/textBoxDimensionsHelper.js"],"names":[],"mappings":"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","sourcesContent":["import {\n  hasExternalVerticalPlacement,\n  hasExternalHorizontalPlacement,\n} from '../../common/constants/layoutParams_info_placement.js';\nimport { default as GALLERY_CONSTS } from '../../common/constants/index.js';\nimport optionsMap from './optionsMap.js';\n\nconst processTextDimensions = (options, customExternalInfoRendererExists) => {\n  let _options = { ...options };\n\n  _options[optionsMap.layoutParams.info.height] = getTextBoxAboveOrBelowHeight(\n    _options,\n    customExternalInfoRendererExists\n  );\n\n  _options.externalInfoHeight = getHeightFromOptions(_options, _options[optionsMap.layoutParams.info.height]);\n\n  _options.externalInfoWidth = getTextBoxRightOrLeftWidth(_options, customExternalInfoRendererExists);\n  return _options;\n};\n\nfunction getHeightFromOptions(options, infoHeight) {\n  let additionalHeight = infoHeight;\n  if (\n    infoHeight > 0 &&\n    hasExternalVerticalPlacement(options[optionsMap.layoutParams.info.placement]) &&\n    options[optionsMap.layoutParams.info.layout] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.info.layout].SEPARATED_BACKGROUND\n  ) {\n    additionalHeight += options[optionsMap.layoutParams.info.spacing];\n    additionalHeight += options[optionsMap.layoutParams.info.border.width] * 2;\n  }\n  return additionalHeight;\n}\n\nfunction getTextBoxRightOrLeftWidth(options, customExternalInfoRendererExists) {\n  if (!shouldShowTextRightOrLeft(options, customExternalInfoRendererExists)) {\n    return 0;\n  }\n  let width = 0;\n  if (\n    options[optionsMap.layoutParams.info.sizeUnits] === GALLERY_CONSTS[optionsMap.layoutParams.info.sizeUnits].PERCENT\n  ) {\n    width = Math.min(100, Math.max(0, options[optionsMap.layoutParams.info.width])) / 100;\n  } else {\n    width = options[optionsMap.layoutParams.info.width];\n  }\n  return width;\n}\n\nfunction shouldShowTextRightOrLeft(options, customExternalInfoRendererExists) {\n  const allowedByLayoutConfig =\n    options[optionsMap.layoutParams.structure.scrollDirection] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.structure.scrollDirection].VERTICAL &&\n    options[optionsMap.layoutParams.structure.layoutOrientation] ===\n      GALLERY_CONSTS[optionsMap.layoutParams.structure.layoutOrientation].VERTICAL &&\n    options[optionsMap.layoutParams.groups.groupSize] === 1;\n\n  return (\n    allowedByLayoutConfig &&\n    hasExternalHorizontalPlacement(options[optionsMap.layoutParams.info.placement]) &&\n    customExternalInfoRendererExists\n  );\n}\n\nfunction getTextBoxAboveOrBelowHeight(options, customExternalInfoRendererExists) {\n  if (!shouldShowTextBoxAboveOrBelow(options, customExternalInfoRendererExists)) {\n    return 0;\n  }\n  return options[optionsMap.layoutParams.info.height];\n}\n\nfunction shouldShowTextBoxAboveOrBelow(options, customExternalInfoRendererExists) {\n  return (\n    hasExternalVerticalPlacement(options[optionsMap.layoutParams.info.placement]) && customExternalInfoRendererExists\n  );\n}\n\nexport default processTextDimensions;\n/* eslint-enable prettier/prettier */\n"]}